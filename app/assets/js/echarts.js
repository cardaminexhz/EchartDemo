define("echarts/config",[],function(){var A={CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",COMPONENT_TYPE_ROAMCONTROLLER:"roamController",backgroundColor:"rgba(0,0,0,0)",color:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],title:{text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}},legend:{orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:true},dataRange:{orient:"vertical",x:"left",y:"bottom",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,precision:0,splitNumber:5,calculable:false,realtime:true,color:["#006edd","#e0ffff"],textStyle:{color:"#333"}},toolbox:{show:false,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:true,feature:{mark:{show:false,title:{mark:"辅助线开关",markUndo:"删除辅助线",markClear:"清空辅助线"},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:false,title:{dataZoom:"区域缩放",dataZoomReset:"区域缩放后退"}},dataView:{show:false,title:"数据视图",readOnly:false,lang:["Data View","close","refresh"]},magicType:{show:false,title:{line:"折线图切换",bar:"柱形图切换",stack:"堆积",tiled:"平铺"},type:[]},restore:{show:false,title:"还原"},saveAsImage:{show:false,title:"保存为图片",type:"png",lang:["点击保存"]}}},tooltip:{show:true,showContent:true,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:0.4,backgroundColor:"rgba(0,0,0,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",type:"default"}},textStyle:{color:"#fff"}},dataZoom:{show:false,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",realtime:true},grid:{x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},categoryAxis:{position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:true,axisLine:{show:true,onZero:true,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:true,interval:"auto",inside:false,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:true,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],precision:0,power:100,splitNumber:5,axisLine:{show:true,onZero:true,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:false,inside:false,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:true,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},polar:{center:["50%","50%"],radius:"75%",startAngle:90,splitNumber:5,name:{show:true,textStyle:{color:"#333"}},axisLine:{show:true,lineStyle:{color:"#ccc",width:1,type:"solid"}},axisLabel:{show:false,textStyle:{color:"#333"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},splitLine:{show:true,lineStyle:{width:1,color:"#ccc"}},type:"polygon"},timeline:{show:true,type:"time",notMerge:false,realtime:true,x:80,x2:80,y2:0,height:50,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:false,loop:true,playInterval:2000,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:true,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:false,textStyle:{color:"auto"}}},controlStyle:{normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0},roamController:{show:false,x:"left",y:"top",width:80,height:120,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,handlerColor:"#6495ed",fillerColor:"#fff",step:15,mapTypeControl:null},bar:{clickable:true,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,barGap:"30%",barCategoryGap:"20%",itemStyle:{normal:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:false}},emphasis:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:false}}}},line:{clickable:true,xAxisIndex:0,yAxisIndex:0,itemStyle:{normal:{label:{show:false},lineStyle:{width:2,type:"solid",shadowColor:"rgba(0,0,0,0)",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0}},emphasis:{label:{show:false}}},symbolSize:2,showAllSymbol:false},k:{clickable:true,xAxisIndex:0,yAxisIndex:0,itemStyle:{normal:{color:"#fff",color0:"#00aa11",lineStyle:{width:1,color:"#ff3200",color0:"#00aa11"}},emphasis:{}}},scatter:{clickable:true,xAxisIndex:0,yAxisIndex:0,symbolSize:4,large:false,largeThreshold:2000,itemStyle:{normal:{label:{show:false,formatter:function(D,B,C){if(typeof C[2]!="undefined"){return C[2]}else{return C[0]+" , "+C[1]}}}},emphasis:{label:{show:false,formatter:function(D,B,C){if(typeof C[2]!="undefined"){return C[2]}else{return C[0]+" , "+C[1]}}}}}},radar:{clickable:true,polarIndex:0,itemStyle:{normal:{label:{show:false},lineStyle:{width:2,type:"solid"}},emphasis:{label:{show:false}}},symbolSize:2},pie:{clickable:true,center:["50%","50%"],radius:[0,"75%"],clockWise:true,startAngle:90,minAngle:0,selectedOffset:10,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:false},labelLine:{show:false,length:20,lineStyle:{width:1,type:"solid"}}}}},map:{mapType:"china",mapValuePrecision:0,showLegendSymbol:true,hoverable:true,clickable:true,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,areaStyle:{color:"#ccc"},label:{show:false,textStyle:{color:"rgb(139,69,19)"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,areaStyle:{color:"rgba(255,215,0,0.8)"},label:{show:false,textStyle:{color:"rgb(100,0,0)"}}}}},force:{center:["50%","50%"],size:"100%",coolDown:0.99,minRadius:10,maxRadius:20,ratioScaling:false,large:false,useWorker:false,steps:1,scaling:1,gravity:1,symbol:"circle",symbolSize:0,linkSymbol:null,linkSymbolSize:[10,15],draggable:true,clickable:true,categories:[{}],itemStyle:{normal:{label:{show:false},nodeStyle:{brushType:"both",color:"#f08c2e",strokeColor:"#5182ab",lineWidth:1},linkStyle:{strokeColor:"#5182ab"}},emphasis:{label:{show:false},nodeStyle:{},linkStyle:{opacity:0}}}},chord:{clickable:true,radius:["65%","75%"],center:["50%","50%"],padding:2,sort:"none",sortSub:"none",startAngle:90,clockWise:true,showScale:false,showScaleText:false,itemStyle:{normal:{label:{show:true,rotate:false,distance:10},lineStyle:{width:0,color:"#000"},chordStyle:{lineStyle:{width:1,color:"#999"}}},emphasis:{lineStyle:{width:0,color:"#000"},chordStyle:{lineStyle:{width:1,color:"#666"}}}},matrix:[]},gauge:{center:["50%","50%"],radius:"75%",startAngle:225,endAngle:-45,min:0,max:100,precision:0,splitNumber:10,axisLine:{show:true,lineStyle:{color:[[0.2,"#228b22"],[0.8,"#48b"],[1,"#ff4500"]],width:30}},axisTick:{show:true,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:true,textStyle:{color:"auto"}},splitLine:{show:true,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},pointer:{show:true,length:"80%",width:8,color:"auto"},title:{show:true,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}},funnel:{clickable:true,x:80,y:60,x2:80,y2:60,min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,itemStyle:{normal:{borderColor:"#fff",borderWidth:1,label:{show:true,position:"outer"},labelLine:{show:true,length:10,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:true},labelLine:{show:true}}}},island:{r:15,calculateStep:0.1},markPoint:{clickable:true,symbol:"pin",symbolSize:10,large:false,effect:{show:false,loop:true,period:15,scaleSize:2},itemStyle:{normal:{borderWidth:2,label:{show:true,position:"inside"}},emphasis:{label:{show:true}}}},markLine:{clickable:true,symbol:["circle","arrow"],symbolSize:[2,4],large:false,effect:{show:false,loop:true,period:15,scaleSize:2},itemStyle:{normal:{borderWidth:1.5,label:{show:true,position:"end"},lineStyle:{type:"dashed"}},emphasis:{label:{show:false},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"微软雅黑",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",HOVER:"hover",MOUSEOUT:"mouseout",DATA_CHANGED:"dataChanged",DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",LEGEND_SELECTED:"legendSelected",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid",ROAMCONTROLLER:"roamController"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:7,symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingText:"Loading...",calculable:false,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:": ",animation:true,addDataAnimation:true,animationThreshold:2000,animationDuration:2000,animationEasing:"ExponentialOut"};return A});define("zrender/dep/excanvas",["require"],function(A){if(!document.createElement("canvas").getContext){(function(){var Af=Math;var L=Af.round;var H=Af.sin;var o=Af.cos;var s=Af.abs;var z=Af.sqrt;var U=10;var r=U/2;var J=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1];function n(){return this.context_||(this.context_=new B(this))}var T=Array.prototype.slice;function Ad(m,Z,i){var j=T.call(arguments,2);return function(){return m.apply(Z,j.concat(T.call(arguments)))}}function b(Z){return String(Z).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function Q(j,i,Z){if(!j.namespaces[i]){j.namespaces.add(i,Z,"#default#VML")}}function g(i){Q(i,"g_vml_","urn:schemas-microsoft-com:vml");Q(i,"g_o_","urn:schemas-microsoft-com:office:office");if(!i.styleSheets["ex_canvas_"]){var Z=i.createStyleSheet();Z.owningElement.id="ex_canvas_";Z.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}g(document);var O={init:function(Z){var i=Z||document;i.createElement("canvas");i.attachEvent("onreadystatechange",Ad(this.init_,this,i))},init_:function(m){var j=m.getElementsByTagName("canvas");for(var Z=0;Z<j.length;Z++){this.initElement(j[Z])}},initElement:function(Z){if(!Z.getContext){Z.getContext=n;g(Z.ownerDocument);Z.innerHTML="";Z.attachEvent("onpropertychange",f);Z.attachEvent("onresize",W);var i=Z.attributes;if(i.width&&i.width.specified){Z.style.width=i.width.nodeValue+"px"}else{Z.width=Z.clientWidth}if(i.height&&i.height.specified){Z.style.height=i.height.nodeValue+"px"}else{Z.height=Z.clientHeight}}return Z}};function f(i){var Z=i.srcElement;switch(i.propertyName){case"width":Z.getContext().clearRect();Z.style.width=Z.attributes.width.nodeValue+"px";Z.firstChild.style.width=Z.clientWidth+"px";break;case"height":Z.getContext().clearRect();Z.style.height=Z.attributes.height.nodeValue+"px";Z.firstChild.style.height=Z.clientHeight+"px";break}}function W(i){var Z=i.srcElement;if(Z.firstChild){Z.firstChild.style.width=Z.clientWidth+"px";Z.firstChild.style.height=Z.clientHeight+"px"}}O.init();var t=[];for(var Ac=0;Ac<16;Ac++){for(var Aa=0;Aa<16;Aa++){t[Ac*16+Aa]=Ac.toString(16)+Aa.toString(16)}}function x(){return[[1,0,0],[0,1,0],[0,0,1]]}function c(m,Ai){var Z=x();for(var j=0;j<3;j++){for(var p=0;p<3;p++){var Ah=0;for(var i=0;i<3;i++){Ah+=m[j][i]*Ai[i][p]}Z[j][p]=Ah}}return Z}function Ag(Z,i){i.fillStyle=Z.fillStyle;i.lineCap=Z.lineCap;i.lineJoin=Z.lineJoin;i.lineWidth=Z.lineWidth;i.miterLimit=Z.miterLimit;i.shadowBlur=Z.shadowBlur;i.shadowColor=Z.shadowColor;i.shadowOffsetX=Z.shadowOffsetX;i.shadowOffsetY=Z.shadowOffsetY;i.strokeStyle=Z.strokeStyle;i.globalAlpha=Z.globalAlpha;i.font=Z.font;i.textAlign=Z.textAlign;i.textBaseline=Z.textBaseline;i.arcScaleX_=Z.arcScaleX_;i.arcScaleY_=Z.arcScaleY_;i.lineScale_=Z.lineScale_}var k={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"};function P(i){var m=i.indexOf("(",3);var j=i.indexOf(")",m+1);var Z=i.substring(m+1,j).split(",");if(Z.length!=4||i.charAt(3)!="a"){Z[3]=1}return Z}function G(Z){return parseFloat(Z)/100}function D(i,Z,j){return Math.min(j,Math.max(Z,i))}function X(Ak){var Z,Al,Aj,Ah,i,Ai;Ah=parseFloat(Ak[0])/360%360;if(Ah<0){Ah++}i=D(G(Ak[1]),0,1);Ai=D(G(Ak[2]),0,1);if(i==0){Z=Al=Aj=Ai}else{var m=Ai<0.5?Ai*(1+i):Ai+i-Ai*i;var j=2*Ai-m;Z=V(j,m,Ah+1/3);Al=V(j,m,Ah);Aj=V(j,m,Ah-1/3)}return"#"+t[Math.floor(Z*255)]+t[Math.floor(Al*255)]+t[Math.floor(Aj*255)]}function V(i,j,Z){if(Z<0){Z++}if(Z>1){Z--}if(6*Z<1){return i+(j-i)*6*Z}else{if(2*Z<1){return j}else{if(3*Z<2){return i+(j-i)*(2/3-Z)*6}else{return i}}}}var C={};function l(Ah){if(Ah in C){return C[Ah]}var m,Ai=1;Ah=String(Ah);if(Ah.charAt(0)=="#"){m=Ah}else{if(/^rgb/.test(Ah)){var Z=P(Ah);var m="#",p;for(var j=0;j<3;j++){if(Z[j].indexOf("%")!=-1){p=Math.floor(G(Z[j])*255)}else{p=+Z[j]}m+=t[D(p,0,255)]}Ai=+Z[3]}else{if(/^hsl/.test(Ah)){var Z=P(Ah);m=X(Z);Ai=Z[3]}else{m=k[Ah]||Ah}}}return C[Ah]={color:m,alpha:Ai}}var w={style:"normal",variant:"normal",weight:"normal",size:12,family:"微软雅黑"};var I={};function Y(m){if(I[m]){return I[m]}var Z=document.createElement("div");var j=Z.style;var p;try{j.font=m;p=j.fontFamily.split(",")[0]}catch(i){}return I[m]={style:j.fontStyle||w.style,variant:j.fontVariant||w.variant,weight:j.fontWeight||w.weight,size:j.fontSize||w.size,family:p||w.family}}function E(j,Ah){var Z={};for(var i in j){Z[i]=j[i]}var m=parseFloat(Ah.currentStyle.fontSize),Ai=parseFloat(j.size);if(typeof j.size=="number"){Z.size=j.size}else{if(j.size.indexOf("px")!=-1){Z.size=Ai}else{if(j.size.indexOf("em")!=-1){Z.size=m*Ai}else{if(j.size.indexOf("%")!=-1){Z.size=(m/100)*Ai}else{if(j.size.indexOf("pt")!=-1){Z.size=Ai/0.75}else{Z.size=m}}}}}return Z}function q(Z){return Z.style+" "+Z.variant+" "+Z.weight+" "+Z.size+"px '"+Z.family+"'"}var F={"butt":"flat","round":"round"};function Ae(Z){return F[Z]||"square"}function B(i){this.m_=x();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle="#000";this.fillStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=U*1;this.globalAlpha=1;this.font="12px 微软雅黑";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=i;var m="width:"+i.clientWidth+"px;height:"+i.clientHeight+"px;overflow:hidden;position:absolute";var Z=i.ownerDocument.createElement("div");Z.style.cssText=m;i.appendChild(Z);var j=Z.cloneNode(false);j.style.backgroundColor="#fff";j.style.filter="alpha(opacity=0)";i.appendChild(j);this.element_=Z;this.arcScaleX_=1;this.arcScaleY_=1;this.lineScale_=1}var d=B.prototype;d.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};d.beginPath=function(){this.currentPath_=[]};d.moveTo=function(j,Z){var i=M(this,j,Z);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y});this.currentX_=i.x;this.currentY_=i.y};d.lineTo=function(j,Z){var i=M(this,j,Z);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y});this.currentX_=i.x;this.currentY_=i.y};d.bezierCurveTo=function(Ah,m,j,i,Ai,Aj){var Z=M(this,Ai,Aj);var Ak=M(this,Ah,m);var Al=M(this,j,i);S(this,Ak,Al,Z)};function S(Z,i,m,j){Z.currentPath_.push({type:"bezierCurveTo",cp1x:i.x,cp1y:i.y,cp2x:m.x,cp2y:m.y,x:j.x,y:j.y});Z.currentX_=j.x;Z.currentY_=j.y}d.quadraticCurveTo=function(Aj,Ai,i,j){var Ak=M(this,Aj,Ai);var Z=M(this,i,j);var m={x:this.currentX_+2/3*(Ak.x-this.currentX_),y:this.currentY_+2/3*(Ak.y-this.currentY_)};var Ah={x:m.x+(Z.x-this.currentX_)/3,y:m.y+(Z.y-this.currentY_)/3};S(this,m,Ah,Z)};d.arc=function(Aj,An,Al,j,m,i){Al*=U;var Z=i?"at":"wa";var Ap=Aj+o(j)*Al-r;var Aq=An+H(j)*Al-r;var Ao=Aj+o(m)*Al-r;var Ak=An+H(m)*Al-r;if(Ap==Ao&&!i){Ap+=0.125}var Ah=M(this,Aj,An);var Ai=M(this,Ap,Aq);var Am=M(this,Ao,Ak);this.currentPath_.push({type:Z,x:Ah.x,y:Ah.y,radius:Al,xStart:Ai.x,yStart:Ai.y,xEnd:Am.x,yEnd:Am.y})};d.rect=function(i,Z,j,m){this.moveTo(i,Z);this.lineTo(i+j,Z);this.lineTo(i+j,Z+m);this.lineTo(i,Z+m);this.closePath()};d.strokeRect=function(i,Z,j,m){var p=this.currentPath_;this.beginPath();this.moveTo(i,Z);this.lineTo(i+j,Z);this.lineTo(i+j,Z+m);this.lineTo(i,Z+m);this.closePath();this.stroke();this.currentPath_=p};d.fillRect=function(i,Z,j,m){var p=this.currentPath_;this.beginPath();this.moveTo(i,Z);this.lineTo(i+j,Z);this.lineTo(i+j,Z+m);this.lineTo(i,Z+m);this.closePath();this.fill();this.currentPath_=p};d.createLinearGradient=function(i,m,Z,j){var p=new Ab("gradient");p.x0_=i;p.y0_=m;p.x1_=Z;p.y1_=j;return p};d.createRadialGradient=function(i,Ah,Ai,Z,p,j){var m=new Ab("gradientradial");m.x0_=i;m.y0_=Ah;m.r0_=Ai;m.x1_=Z;m.y1_=p;m.r1_=j;return m};d.drawImage=function(Az,Aj){var Ak,At,Au,Ar,Av,Al,Am,j;var An=Az.runtimeStyle.width;var AB=Az.runtimeStyle.height;Az.runtimeStyle.width="auto";Az.runtimeStyle.height="auto";var As=Az.width;var Ai=Az.height;Az.runtimeStyle.width=An;Az.runtimeStyle.height=AB;if(arguments.length==3){Ak=arguments[1];At=arguments[2];Av=Al=0;Am=Au=As;j=Ar=Ai}else{if(arguments.length==5){Ak=arguments[1];At=arguments[2];Au=arguments[3];Ar=arguments[4];Av=Al=0;Am=As;j=Ai}else{if(arguments.length==9){Av=arguments[1];Al=arguments[2];Am=arguments[3];j=arguments[4];Ak=arguments[5];At=arguments[6];Au=arguments[7];Ar=arguments[8]}else{throw Error("Invalid number of arguments")}}}var Ap=M(this,Ak,At);var Ah=Am/2;var m=j/2;var Ay=[];var Ao=10;var Aq=10;var i=scaleY=1;Ay.push(" <g_vml_:group",' coordsize="',U*Ao,",",U*Aq,'"',' coordorigin="0,0"',' style="width:',Ao,"px;height:",Aq,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var Aw=[];i=Math.sqrt(this.m_[0][0]*this.m_[0][0]+this.m_[0][1]*this.m_[0][1]);scaleY=Math.sqrt(this.m_[1][0]*this.m_[1][0]+this.m_[1][1]*this.m_[1][1]);Aw.push("M11=",this.m_[0][0]/i,",","M12=",this.m_[1][0]/scaleY,",","M21=",this.m_[0][1]/i,",","M22=",this.m_[1][1]/scaleY,",","Dx=",L(Ap.x/U),",","Dy=",L(Ap.y/U),"");var Ax=Ap;var Z=M(this,Ak+Au,At);var p=M(this,Ak,At+Ar);var AA=M(this,Ak+Au,At+Ar);Ax.x=Af.max(Ax.x,Z.x,p.x,AA.x);Ax.y=Af.max(Ax.y,Z.y,p.y,AA.y);Ay.push("padding:0 ",L(Ax.x/U),"px ",L(Ax.y/U),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",Aw.join(""),", sizingmethod='clip');")}else{Ay.push("top:",L(Ap.y/U),"px;left:",L(Ap.x/U),"px;")}Ay.push(' ">');if(Av||Al){Ay.push('<div style="overflow: hidden; width:',Math.ceil((Au+Av*Au/Am)*i),"px;"," height:",Math.ceil((Ar+Al*Ar/j)*scaleY),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-Av*Au/Am*i,",Dy=",-Al*Ar/j*scaleY,');">')}Ay.push('<div style="width:',Math.round(i*As*Au/Am),"px;"," height:",Math.round(scaleY*Ai*Ar/j),"px;"," filter:");if(this.globalAlpha<1){Ay.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+(this.globalAlpha*100)+")")}Ay.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",Az.src,',sizingMethod=scale)">');if(Av||Al){Ay.push("</div>")}Ay.push("</div></div>");this.element_.insertAdjacentHTML("BeforeEnd",Ay.join(""))};d.stroke=function(Al){var Ao=[];var Aj=false;var Am=10;var Z=10;Ao.push("<g_vml_:shape",' filled="',!!Al,'"',' style="position:absolute;width:',Am,"px;height:",Z,'px;"',' coordorigin="0,0"',' coordsize="',U*Am,",",U*Z,'"',' stroked="',!Al,'"',' path="');var An=false;var m={x:null,y:null};var Ah={x:null,y:null};for(var Ak=0;Ak<this.currentPath_.length;Ak++){var j=this.currentPath_[Ak];var Ai;switch(j.type){case"moveTo":Ai=j;Ao.push(" m ",L(j.x),",",L(j.y));break;case"lineTo":Ao.push(" l ",L(j.x),",",L(j.y));break;case"close":Ao.push(" x ");j=null;break;case"bezierCurveTo":Ao.push(" c ",L(j.cp1x),",",L(j.cp1y),",",L(j.cp2x),",",L(j.cp2y),",",L(j.x),",",L(j.y));break;case"at":case"wa":Ao.push(" ",j.type," ",L(j.x-this.arcScaleX_*j.radius),",",L(j.y-this.arcScaleY_*j.radius)," ",L(j.x+this.arcScaleX_*j.radius),",",L(j.y+this.arcScaleY_*j.radius)," ",L(j.xStart),",",L(j.yStart)," ",L(j.xEnd),",",L(j.yEnd));break}if(j){if(m.x==null||j.x<m.x){m.x=j.x}if(Ah.x==null||j.x>Ah.x){Ah.x=j.x}if(m.y==null||j.y<m.y){m.y=j.y}if(Ah.y==null||j.y>Ah.y){Ah.y=j.y}}}Ao.push(' ">');if(!Al){N(this,Ao)}else{u(this,Ao,m,Ah)}Ao.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",Ao.join(""))};function N(p,Z){var Ah=l(p.strokeStyle);var i=Ah.color;var j=Ah.alpha*p.globalAlpha;var m=p.lineScale_*p.lineWidth;if(m<1){j*=m}Z.push("<g_vml_:stroke",' opacity="',j,'"',' joinstyle="',p.lineJoin,'"',' miterlimit="',p.miterLimit,'"',' endcap="',Ae(p.lineCap),'"',' weight="',m,'px"',' color="',i,'" />')}function u(Ai,j,AB,AK){var Ak=Ai.fillStyle;var Au=Ai.arcScaleX_;var p=Ai.arcScaleY_;var Ah=AK.x-AB.x;var Al=AK.y-AB.y;if(Ak instanceof Ab){var Ar=0;var AG={x:0,y:0};var AL=0;var AH=1;if(Ak.type_=="gradient"){var As=Ak.x0_/Au;var AI=Ak.y0_/p;var An=Ak.x1_/Au;var Ao=Ak.y1_/p;var Av=M(Ai,As,AI);var Aq=M(Ai,An,Ao);var AE=Aq.x-Av.x;var Ay=Aq.y-Av.y;Ar=Math.atan2(AE,Ay)*180/Math.PI;if(Ar<0){Ar+=360}if(Ar<1e-06){Ar=0}}else{var Av=M(Ai,Ak.x0_,Ak.y0_);AG={x:(Av.x-AB.x)/Ah,y:(Av.y-AB.y)/Al};Ah/=Au*U;Al/=p*U;var Z=Af.max(Ah,Al);AL=2*Ak.r0_/Z;AH=2*Ak.r1_/Z-AL}var Aw=Ak.colors_;Aw.sort(function(i,AN){return i.offset-AN.offset});var AD=Aw.length;var AJ=Aw[0].color;var Ax=Aw[AD-1].color;var AA=Aw[0].alpha*Ai.globalAlpha;var Am=Aw[AD-1].alpha*Ai.globalAlpha;var At=[];for(var Ap=0;Ap<AD;Ap++){var Az=Aw[Ap];At.push(Az.offset*AH+AL+" "+Az.color)}j.push('<g_vml_:fill type="',Ak.type_,'"',' method="none" focus="100%"',' color="',AJ,'"',' color2="',Ax,'"',' colors="',At.join(","),'"',' opacity="',Am,'"',' g_o_:opacity2="',AA,'"',' angle="',Ar,'"',' focusposition="',AG.x,",",AG.y,'" />')}else{if(Ak instanceof a){if(Ah&&Al){var AC=-AB.x;var AF=-AB.y;j.push("<g_vml_:fill",' position="',AC/Ah*Au*Au,",",AF/Al*p*p,'"',' type="tile"',' src="',Ak.src_,'" />')}}else{var AM=l(Ai.fillStyle);var m=AM.color;var Aj=AM.alpha*Ai.globalAlpha;j.push('<g_vml_:fill color="',m,'" opacity="',Aj,'" />')}}}d.fill=function(){this.stroke(true)};d.closePath=function(){this.currentPath_.push({type:"close"})};function M(p,j,Z){var i=p.m_;return{x:U*(j*i[0][0]+Z*i[1][0]+i[2][0])-r,y:U*(j*i[0][1]+Z*i[1][1]+i[2][1])-r}}d.save=function(){var Z={};Ag(this,Z);this.aStack_.push(Z);this.mStack_.push(this.m_);this.m_=c(x(),this.m_)};d.restore=function(){if(this.aStack_.length){Ag(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};function h(Z){return isFinite(Z[0][0])&&isFinite(Z[0][1])&&isFinite(Z[1][0])&&isFinite(Z[1][1])&&isFinite(Z[2][0])&&isFinite(Z[2][1])}function e(p,i,j){if(!h(i)){return}p.m_=i;if(j){var Z=i[0][0]*i[1][1]-i[0][1]*i[1][0];p.lineScale_=z(s(Z))}}d.translate=function(j,Z){var i=[[1,0,0],[0,1,0],[j,Z,1]];e(this,c(i,this.m_),false)};d.rotate=function(i){var m=o(i);var Z=H(i);var j=[[m,Z,0],[-Z,m,0],[0,0,1]];e(this,c(j,this.m_),false)};d.scale=function(j,Z){this.arcScaleX_*=j;this.arcScaleY_*=Z;var i=[[j,0,0],[0,Z,0],[0,0,1]];e(this,c(i,this.m_),true)};d.transform=function(p,m,Ai,Ah,j,Z){var i=[[p,m,0],[Ai,Ah,0],[j,Z,1]];e(this,c(i,this.m_),true)};d.setTransform=function(p,j,Aj,Ai,i,Z){var Ah=[[p,j,0],[Aj,Ai,0],[i,Z,1]];e(this,Ah,true)};d.drawText_=function(Z,At,Au,Ah,Ao){var Ai=this.m_,Al=1000,Ar=0,p=Al,An={x:0,y:0},Aq=[];var j=E(Y(this.font),this.element_);var Ap=q(j);var As=this.element_.currentStyle;var Ak=this.textAlign.toLowerCase();switch(Ak){case"left":case"center":case"right":break;case"end":Ak=As.direction=="ltr"?"right":"left";break;case"start":Ak=As.direction=="rtl"?"right":"left";break;default:Ak="left"}switch(this.textBaseline){case"hanging":case"top":An.y=j.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":An.y=-j.size/2.25;break}switch(Ak){case"right":Ar=Al;p=0.05;break;case"center":Ar=p=Al/2;break}var Am=M(this,At+An.x,Au+An.y);Aq.push('<g_vml_:line from="',-Ar,' 0" to="',p,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!Ao,'" stroked="',!!Ao,'" style="position:absolute;width:1px;height:1px;">');if(Ao){N(this,Aq)}else{u(this,Aq,{x:-Ar,y:0},{x:p,y:j.size})}var Aj=Ai[0][0].toFixed(3)+","+Ai[1][0].toFixed(3)+","+Ai[0][1].toFixed(3)+","+Ai[1][1].toFixed(3)+",0,0";var i=L(Am.x/U)+","+L(Am.y/U);Aq.push('<g_vml_:skew on="t" matrix="',Aj,'" ',' offset="',i,'" origin="',Ar,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',b(Z),'" style="v-text-align:',Ak,";font:",b(Ap),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",Aq.join(""))};d.fillText=function(i,j,m,Z){this.drawText_(i,j,m,Z,false)};d.strokeText=function(i,j,m,Z){this.drawText_(i,j,m,Z,true)};d.measureText=function(i){if(!this.textMeasureEl_){var Z='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",Z);this.textMeasureEl_=this.element_.lastChild}var j=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(j.createTextNode(i));return{width:this.textMeasureEl_.offsetWidth}};d.clip=function(){};d.arcTo=function(){};d.createPattern=function(i,Z){return new a(i,Z)};function Ab(Z){this.type_=Z;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}Ab.prototype.addColorStop=function(Z,i){i=l(i);this.colors_.push({offset:Z,color:i.color,alpha:i.alpha})};function a(i,Z){K(i);switch(Z){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=Z;break;default:y("SYNTAX_ERR")}this.src_=i.src;this.width_=i.width;this.height_=i.height}function y(Z){throw new R(Z)}function K(Z){if(!Z||Z.nodeType!=1||Z.tagName!="IMG"){y("TYPE_MISMATCH_ERR")}if(Z.readyState!="complete"){y("INVALID_STATE_ERR")}}function R(Z){this.code=this[Z];this.message=Z+": DOM Exception "+this.code}var v=R.prototype=new Error;v.INDEX_SIZE_ERR=1;v.DOMSTRING_SIZE_ERR=2;v.HIERARCHY_REQUEST_ERR=3;v.WRONG_DOCUMENT_ERR=4;v.INVALID_CHARACTER_ERR=5;v.NO_DATA_ALLOWED_ERR=6;v.NO_MODIFICATION_ALLOWED_ERR=7;v.NOT_FOUND_ERR=8;v.NOT_SUPPORTED_ERR=9;v.INUSE_ATTRIBUTE_ERR=10;v.INVALID_STATE_ERR=11;v.SYNTAX_ERR=12;v.INVALID_MODIFICATION_ERR=13;v.NAMESPACE_ERR=14;v.INVALID_ACCESS_ERR=15;v.VALIDATION_ERR=16;v.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=O;CanvasRenderingContext2D=B;CanvasGradient=Ab;CanvasPattern=a;DOMException=R})()}else{G_vmlCanvasManager=false}return G_vmlCanvasManager});define("zrender/tool/util",["require","../dep/excanvas"],function(O){var M={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1};function H(U){if(typeof U=="object"&&U!==null){var W=U;if(U instanceof Array){W=[];for(var T=0,V=U.length;T<V;T++){W[T]=H(U[T])}}else{if(!M[Object.prototype.toString.call(U)]){W={};for(var S in U){if(U.hasOwnProperty(S)){W[S]=H(U[S])}}}}return W}return U}function B(V,T,S,U){if(T.hasOwnProperty(S)){if(typeof V[S]=="object"&&!M[Object.prototype.toString.call(V[S])]){J(V[S],T[S],U)}else{if(U||!(S in V)){V[S]=T[S]}}}}function J(V,T,U){for(var S in T){B(V,T,S,U)}return V}var N;function R(){if(!N){O("../dep/excanvas");if(G_vmlCanvasManager){var S=document.createElement("div");S.style.position="absolute";S.style.top="-1000px";document.body.appendChild(S);N=G_vmlCanvasManager.initElement(S).getContext("2d")}else{N=document.createElement("canvas").getContext("2d")}}return N}var C;var E;var I;var G;var D=0;var L=0;function F(){if(!E){C=document.createElement("canvas");I=C.width;G=C.height;E=C.getContext("2d")}return E}function Q(T,U){var V=100;var S;if(T+D>I){I=T+D+V;C.width=I;S=true}if(U+L>G){G=U+L+V;C.height=G;S=true}if(T<-D){D=Math.ceil(-T/V)*V;I+=D;C.width=I;S=true}if(U<-L){L=Math.ceil(-U/V)*V;G+=L;C.height=G;S=true}if(S){E.translate(D,L)}}function A(){return{x:D,y:L}}function P(S,V){if(S.indexOf){return S.indexOf(V)}for(var T=0,U=S.length;T<U;T++){if(S[T]===V){return T}}return -1}function K(V,U){var S=V.prototype;function T(){}T.prototype=U.prototype;V.prototype=new T();for(var W in S){V.prototype[W]=S[W]}V.constructor=V}return{inherits:K,clone:H,merge:J,getContext:R,getPixelContext:F,getPixelOffset:A,adjustCanvasSize:Q,indexOf:P}});define("zrender/mixin/Eventful",["require"],function(A){var B=function(){this._handlers={}};B.prototype.one=function(E,D,C){var F=this._handlers;if(!D||!E){return this}if(!F[E]){F[E]=[]}F[E].push({h:D,one:true,ctx:C||this});return this};B.prototype.bind=function(E,D,C){var F=this._handlers;if(!D||!E){return this}if(!F[E]){F[E]=[]}F[E].push({h:D,one:false,ctx:C||this});return this};B.prototype.unbind=function(G,E){var H=this._handlers;if(!G){this._handlers={};return this}if(E){if(H[G]){var C=[];for(var D=0,F=H[G].length;D<F;D++){if(H[G][D]["h"]!=E){C.push(H[G][D])}}H[G]=C}if(H[G]&&H[G].length===0){delete H[G]}}else{delete H[G]}return this};B.prototype.dispatch=function(C){if(this._handlers[C]){var H=arguments;var E=H.length;if(E>3){H=Array.prototype.slice.call(H,1)}var G=this._handlers[C];var F=G.length;for(var D=0;D<F;){switch(E){case 1:G[D]["h"].call(G[D]["ctx"]);break;case 2:G[D]["h"].call(G[D]["ctx"],H[1]);break;case 3:G[D]["h"].call(G[D]["ctx"],H[1],H[2]);break;default:G[D]["h"].apply(G[D]["ctx"],H);break}if(G[D]["one"]){G.splice(D,1);F--}else{D++}}}return this};B.prototype.dispatchWithContext=function(C){if(this._handlers[C]){var I=arguments;var E=I.length;if(E>4){I=Array.prototype.slice.call(I,1,I.length-1)}var G=I[I.length-1];var H=this._handlers[C];var F=H.length;for(var D=0;D<F;){switch(E){case 1:H[D]["h"].call(G);break;case 2:H[D]["h"].call(G,I[1]);break;case 3:H[D]["h"].call(G,I[1],I[2]);break;default:H[D]["h"].apply(G,I);break}if(H[D]["one"]){H.splice(D,1);F--}else{D++}}}return this};return B});define("zrender/tool/event",["require","../mixin/Eventful"],function(C){var E=C("../mixin/Eventful");function A(G){return typeof G.zrenderX!="undefined"&&G.zrenderX||typeof G.offsetX!="undefined"&&G.offsetX||typeof G.layerX!="undefined"&&G.layerX||typeof G.clientX!="undefined"&&G.clientX}function B(G){return typeof G.zrenderY!="undefined"&&G.zrenderY||typeof G.offsetY!="undefined"&&G.offsetY||typeof G.layerY!="undefined"&&G.layerY||typeof G.clientY!="undefined"&&G.clientY}function F(G){return typeof G.zrenderDelta!="undefined"&&G.zrenderDelta||typeof G.wheelDelta!="undefined"&&G.wheelDelta||typeof G.detail!="undefined"&&-G.detail}var D=typeof window.addEventListener==="function"?function(G){G.preventDefault();G.stopPropagation();G.cancelBubble=true}:function(G){G.returnValue=false;G.cancelBubble=true};return{getX:A,getY:B,getDelta:F,stop:D,Dispatcher:E}});define("zrender/tool/env",[],function(){function A(P){var G=this.os={};var C=this.browser={};var S=P.match(/Web[kK]it[\/]{0,1}([\d.]+)/);var Q=P.match(/(Android);?[\s\/]+([\d.]+)?/);var U=P.match(/(iPad).*OS\s([\d_]+)/);var E=P.match(/(iPod)(.*OS\s([\d_]+))?/);var J=!U&&P.match(/(iPhone\sOS)\s([\d_]+)/);var O=P.match(/(webOS|hpwOS)[\s\/]([\d.]+)/);var V=O&&P.match(/TouchPad/);var L=P.match(/Kindle\/([\d.]+)/);var H=P.match(/Silk\/([\d._]+)/);var T=P.match(/(BlackBerry).*Version\/([\d.]+)/);var D=P.match(/(BB10).*Version\/([\d.]+)/);var B=P.match(/(RIM\sTablet\sOS)\s([\d.]+)/);var R=P.match(/PlayBook/);var K=P.match(/Chrome\/([\d.]+)/)||P.match(/CriOS\/([\d.]+)/);var I=P.match(/Firefox\/([\d.]+)/);var F=P.match(/MSIE ([\d.]+)/);var M=S&&P.match(/Mobile\//)&&!K;var N=P.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!K;var F=P.match(/MSIE\s([\d.]+)/);if(C.webkit=!!S){C.version=S[1]}if(Q){G.android=true,G.version=Q[2]}if(J&&!E){G.ios=G.iphone=true,G.version=J[2].replace(/_/g,".")}if(U){G.ios=G.ipad=true,G.version=U[2].replace(/_/g,".")}if(E){G.ios=G.ipod=true,G.version=E[3]?E[3].replace(/_/g,"."):null}if(O){G.webos=true,G.version=O[2]}if(V){G.touchpad=true}if(T){G.blackberry=true,G.version=T[2]}if(D){G.bb10=true,G.version=D[2]}if(B){G.rimtabletos=true,G.version=B[2]}if(R){C.playbook=true}if(L){G.kindle=true,G.version=L[1]}if(H){C.silk=true,C.version=H[1]}if(!H&&G.android&&P.match(/Kindle Fire/)){C.silk=true}if(K){C.chrome=true,C.version=K[1]}if(I){C.firefox=true,C.version=I[1]}if(F){C.ie=true,C.version=F[1]}if(M&&(P.match(/Safari/)||!!G.ios)){C.safari=true}if(N){C.webview=true}if(F){C.ie=true,C.version=F[1]}G.tablet=!!(U||R||(Q&&!P.match(/Mobile/))||(I&&P.match(/Tablet/))||(F&&!P.match(/Phone/)&&P.match(/Touch/)));G.phone=!!(!G.tablet&&!G.ipod&&(Q||J||O||T||D||(K&&P.match(/Android/))||(K&&P.match(/CriOS\/([\d.]+)/))||(I&&P.match(/Mobile/))||(F&&P.match(/Touch/))));return{browser:C,os:G,canvasSupported:document.createElement("canvas").getContext?true:false}}return A(navigator.userAgent)});define("zrender/config",[],function(){var A={EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},catchBrushException:false,debugMode:0};return A});define("zrender/tool/log",["require","../config"],function(A){var B=A("../config");return function(){if(B.debugMode===0){return}else{if(B.debugMode==1){for(var C in arguments){throw new Error(arguments[C])}}else{if(B.debugMode>1){for(var C in arguments){console.log(arguments[C])}}}}}});define("zrender/tool/guid",[],function(){var A=2311;return function(){return"zrender__"+(A++)}});define("zrender/tool/vector",[],function(){var A=typeof Float32Array==="undefined"?Array:Float32Array;var B={create:function(D,E){var C=new A(2);C[0]=D||0;C[1]=E||0;return C},copy:function(C,D){C[0]=D[0];C[1]=D[1];return C},set:function(C,E,D){C[0]=E;C[1]=D;return C},add:function(C,D,E){C[0]=D[0]+E[0];C[1]=D[1]+E[1];return C},scaleAndAdd:function(C,D,F,E){C[0]=D[0]+F[0]*E;C[1]=D[1]+F[1]*E;return C},sub:function(C,D,E){C[0]=D[0]-E[0];C[1]=D[1]-E[1];return C},len:function(C){return Math.sqrt(this.lenSquare(C))},lenSquare:function(C){return C[0]*C[0]+C[1]*C[1]},mul:function(C,D,E){C[0]=D[0]*E[0];C[1]=D[1]*E[1];return C},div:function(C,D,E){C[0]=D[0]/E[0];C[1]=D[1]/E[1];return C},dot:function(C,D){return C[0]*D[0]+C[1]*D[1]},scale:function(D,E,C){D[0]=E[0]*C;D[1]=E[1]*C;return D},normalize:function(D,E){var C=B.len(E);if(C===0){D[0]=0;D[1]=0}else{D[0]=E[0]/C;D[1]=E[1]/C}return D},distance:function(C,D){return Math.sqrt((C[0]-D[0])*(C[0]-D[0])+(C[1]-D[1])*(C[1]-D[1]))},distanceSquare:function(C,D){return(C[0]-D[0])*(C[0]-D[0])+(C[1]-D[1])*(C[1]-D[1])},negate:function(C,D){C[0]=-D[0];C[1]=-D[1];return C},lerp:function(C,D,F,E){C[0]=D[0]+E*(F[0]-D[0]);C[1]=D[1]+E*(F[1]-D[1]);return C},applyTransform:function(C,D,E){var F=D[0];var G=D[1];C[0]=E[0]*F+E[2]*G+E[4];C[1]=E[1]*F+E[3]*G+E[5];return C},min:function(C,D,E){C[0]=Math.min(D[0],E[0]);C[1]=Math.min(D[1],E[1]);return C},max:function(C,D,E){C[0]=Math.max(D[0],E[0]);C[1]=Math.max(D[1],E[1]);return C}};B.length=B.len;B.lengthSquare=B.lenSquare;B.dist=B.distance;B.distSquare=B.distanceSquare;return B});define("zrender/tool/matrix",[],function(){var B=typeof Float32Array==="undefined"?Array:Float32Array;var A={create:function(){var C=new B(6);A.identity(C);return C},identity:function(C){C[0]=1;C[1]=0;C[2]=0;C[3]=1;C[4]=0;C[5]=0;return C},copy:function(C,D){C[0]=D[0];C[1]=D[1];C[2]=D[2];C[3]=D[3];C[4]=D[4];C[5]=D[5];return C},mul:function(C,D,E){C[0]=D[0]*E[0]+D[2]*E[1];C[1]=D[1]*E[0]+D[3]*E[1];C[2]=D[0]*E[2]+D[2]*E[3];C[3]=D[1]*E[2]+D[3]*E[3];C[4]=D[0]*E[4]+D[2]*E[5]+D[4];C[5]=D[1]*E[4]+D[3]*E[5]+D[5];return C},translate:function(C,E,D){C[0]=E[0];C[1]=E[1];C[2]=E[2];C[3]=E[3];C[4]=E[4]+D[0];C[5]=E[5]+D[1];return C},rotate:function(D,K,H){var E=K[0];var J=K[2];var M=K[4];var F=K[1];var C=K[3];var L=K[5];var G=Math.sin(H);var I=Math.cos(H);D[0]=E*I+F*G;D[1]=-E*G+F*I;D[2]=J*I+C*G;D[3]=-J*G+I*C;D[4]=I*M+G*L;D[5]=I*L-G*M;return D},scale:function(C,F,D){var E=D[0];var G=D[1];C[0]=F[0]*E;C[1]=F[1]*G;C[2]=F[2]*E;C[3]=F[3]*G;C[4]=F[4]*E;C[5]=F[5]*G;return C},invert:function(D,I){var E=I[0];var H=I[2];var K=I[4];var F=I[1];var C=I[3];var J=I[5];var G=E*C-F*H;if(!G){return null}G=1/G;D[0]=C*G;D[1]=-F*G;D[2]=-H*G;D[3]=E*G;D[4]=(H*J-C*K)*G;D[5]=(F*K-E*J)*G;return D},mulVector:function(D,I,F){var E=I[0];var H=I[2];var K=I[4];var G=I[1];var C=I[3];var J=I[5];D[0]=F[0]*E+F[1]*H+K;D[1]=F[0]*G+F[1]*C+J;return D}};return A});define("zrender/Handler",["require","./config","./tool/env","./tool/event","./tool/util","./tool/vector","./tool/matrix","./mixin/Eventful"],function(M){var B=M("./config");var A=M("./tool/env");var L=M("./tool/event");var G=M("./tool/util");var H=M("./tool/vector");var J=M("./tool/matrix");var N=B.EVENT;var I=M("./mixin/Eventful");var C=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"];var O={resize:function(R){R=R||window.event;this._lastHover=null;this._isMouseDown=0;this.dispatch(N.RESIZE,R)},click:function(R){R=this._zrenderEventFixed(R);var S=this._lastHover;if((S&&S.clickable)||!S){this._dispatchAgency(S,N.CLICK,R)}this._mousemoveHandler(R)},dblclick:function(R){R=this._zrenderEventFixed(R);var S=this._lastHover;if((S&&S.clickable)||!S){this._dispatchAgency(S,N.DBLCLICK,R)}this._mousemoveHandler(R)},mousewheel:function(T){T=this._zrenderEventFixed(T);var Y=T.wheelDelta||-T.detail;var R=Y>0?1.1:1/1.1;var Z=this.painter.getLayers();var S=false;for(var X in Z){if(X!=="hover"){var V=Z[X];var W=V.position;if(V.zoomable){V.__zoom=V.__zoom||1;var U=V.__zoom;U*=R;U=Math.max(Math.min(V.maxZoom,U),V.minZoom);R=U/V.__zoom;V.__zoom=U;W[0]-=(this._mouseX-W[0])*(R-1);W[1]-=(this._mouseY-W[1])*(R-1);V.scale[0]*=R;V.scale[1]*=R;V.dirty=true;S=true}}}if(S){this.painter.refresh()}this._dispatchAgency(this._lastHover,N.MOUSEWHEEL,T);this._mousemoveHandler(T)},mousemove:function(S){if(this.painter.isLoading()){return}S=this._zrenderEventFixed(S);this._lastX=this._mouseX;this._lastY=this._mouseY;this._mouseX=L.getX(S);this._mouseY=L.getY(S);var W=this._mouseX-this._lastX;var U=this._mouseY-this._lastY;this._processDragStart(S);this._hasfound=0;this._event=S;this._iterateAndFindHover();if(!this._hasfound){if(!this._draggingTarget||(this._lastHover&&this._lastHover!=this._draggingTarget)){this._processOutShape(S);this._processDragLeave(S)}this._lastHover=null;this.storage.delHover();this.painter.clearHover()}var T="default";if(this._draggingTarget){this.storage.drift(this._draggingTarget.id,W,U);this.storage.addHover(this._draggingTarget)}else{if(this._isMouseDown){var X=this.painter.getLayers();var R=false;for(var V in X){if(V!=="hover"){var Y=X[V];if(Y.panable){T="move";Y.position[0]+=W;Y.position[1]+=U;R=true;Y.dirty=true}}}if(R){this.painter.refresh()}}}if(this._draggingTarget||(this._hasfound&&this._lastHover.draggable)){T="move"}else{if(this._hasfound&&this._lastHover.clickable){T="pointer"}}this.root.style.cursor=T;this._dispatchAgency(this._lastHover,N.MOUSEMOVE,S);if(this._draggingTarget||this._hasfound||this.storage.hasHoverShape()){this.painter.refreshHover()}},mouseout:function(R){R=this._zrenderEventFixed(R);var S=R.toElement||R.relatedTarget;if(S!=this.root){while(S&&S.nodeType!=9){if(S==this.root){this._mousemoveHandler(R);return}S=S.parentNode}}R.zrenderX=this._lastX;R.zrenderY=this._lastY;this.root.style.cursor="default";this._isMouseDown=0;this._processOutShape(R);this._processDrop(R);this._processDragEnd(R);if(!this.painter.isLoading()){this.painter.refreshHover()}this.dispatch(N.GLOBALOUT,R)},mousedown:function(R){if(this._lastDownButton==2){this._lastDownButton=R.button;this._mouseDownTarget=null;return}this._lastMouseDownMoment=new Date();R=this._zrenderEventFixed(R);this._isMouseDown=1;this._mouseDownTarget=this._lastHover;this._dispatchAgency(this._lastHover,N.MOUSEDOWN,R);this._lastDownButton=R.button},mouseup:function(R){R=this._zrenderEventFixed(R);this.root.style.cursor="default";this._isMouseDown=0;this._mouseDownTarget=null;this._dispatchAgency(this._lastHover,N.MOUSEUP,R);this._processDrop(R);this._processDragEnd(R)},touchstart:function(R){R=this._zrenderEventFixed(R,true);this._lastTouchMoment=new Date();this._mobildFindFixed(R);this._mousedownHandler(R)},touchmove:function(R){R=this._zrenderEventFixed(R,true);this._mousemoveHandler(R);if(this._isDragging){L.stop(R)}},touchend:function(R){R=this._zrenderEventFixed(R,true);this._mouseupHandler(R);var S=new Date();if(S-this._lastTouchMoment<N.touchClickDelay){this._mobildFindFixed(R);this._clickHandler(R);if(S-this._lastClickMoment<N.touchClickDelay/2){this._dblclickHandler(R);if(this._lastHover&&this._lastHover.clickable){L.stop(R)}}this._lastClickMoment=S}this.painter.clearHover()}};function Q(S,R){return function(T){return S.call(R,T)}}function P(S,R){return function(T,U,V){return S.call(R,T,U,V)}}function F(R){var T=C.length;while(T--){var S=C[T];R["_"+S+"Handler"]=Q(O[S],R)}}var K=function(S,R,T){I.call(this);this.root=S;this.storage=R;this.painter=T;this._lastX=this._lastY=this._mouseX=this._mouseY=0;this._findHover=P(D,this);this._domHover=T.getDomHover();F(this);if(window.addEventListener){window.addEventListener("resize",this._resizeHandler);if(A.os.tablet||A.os.phone){S.addEventListener("touchstart",this._touchstartHandler);S.addEventListener("touchmove",this._touchmoveHandler);S.addEventListener("touchend",this._touchendHandler)}else{S.addEventListener("click",this._clickHandler);S.addEventListener("dblclick",this._dblclickHandler);S.addEventListener("mousewheel",this._mousewheelHandler);S.addEventListener("mousemove",this._mousemoveHandler);S.addEventListener("mousedown",this._mousedownHandler);S.addEventListener("mouseup",this._mouseupHandler)}S.addEventListener("DOMMouseScroll",this._mousewheelHandler);S.addEventListener("mouseout",this._mouseoutHandler)}else{window.attachEvent("onresize",this._resizeHandler);S.attachEvent("onclick",this._clickHandler);S.attachEvent("ondblclick ",this._dblclickHandler);S.attachEvent("onmousewheel",this._mousewheelHandler);S.attachEvent("onmousemove",this._mousemoveHandler);S.attachEvent("onmouseout",this._mouseoutHandler);S.attachEvent("onmousedown",this._mousedownHandler);S.attachEvent("onmouseup",this._mouseupHandler)}};K.prototype.on=function(S,R){this.bind(S,R);return this};K.prototype.un=function(S,R){this.unbind(S,R);return this};K.prototype.trigger=function(R,S){switch(R){case N.RESIZE:case N.CLICK:case N.DBLCLICK:case N.MOUSEWHEEL:case N.MOUSEMOVE:case N.MOUSEDOWN:case N.MOUSEUP:case N.MOUSEOUT:this["_"+R+"Handler"](S);break}};K.prototype.dispose=function(){var R=this.root;if(window.removeEventListener){window.removeEventListener("resize",this._resizeHandler);if(A.os.tablet||A.os.phone){R.removeEventListener("touchstart",this._touchstartHandler);R.removeEventListener("touchmove",this._touchmoveHandler);R.removeEventListener("touchend",this._touchendHandler)}else{R.removeEventListener("click",this._clickHandler);R.removeEventListener("dblclick",this._dblclickHandler);R.removeEventListener("mousewheel",this._mousewheelHandler);R.removeEventListener("mousemove",this._mousemoveHandler);R.removeEventListener("mousedown",this._mousedownHandler);R.removeEventListener("mouseup",this._mouseupHandler)}R.removeEventListener("DOMMouseScroll",this._mousewheelHandler);R.removeEventListener("mouseout",this._mouseoutHandler)}else{window.detachEvent("onresize",this._resizeHandler);R.detachEvent("onclick",this._clickHandler);R.detachEvent("dblclick",this._dblclickHandler);R.detachEvent("onmousewheel",this._mousewheelHandler);R.detachEvent("onmousemove",this._mousemoveHandler);R.detachEvent("onmouseout",this._mouseoutHandler);R.detachEvent("onmousedown",this._mousedownHandler);R.detachEvent("onmouseup",this._mouseupHandler)}this.root=this._domHover=this.storage=this.painter=null;this.un()};K.prototype._processDragStart=function(R){var S=this._lastHover;if(this._isMouseDown&&S&&S.draggable&&!this._draggingTarget&&this._mouseDownTarget==S){if(S.dragEnableTime&&new Date()-this._lastMouseDownMoment<S.dragEnableTime){return}var T=S;this._draggingTarget=T;this._isDragging=1;T.invisible=true;this.storage.mod(T.id);this._dispatchAgency(T,N.DRAGSTART,R);this.painter.refresh()}};K.prototype._processDragEnter=function(R){if(this._draggingTarget){this._dispatchAgency(this._lastHover,N.DRAGENTER,R,this._draggingTarget)}};K.prototype._processDragOver=function(R){if(this._draggingTarget){this._dispatchAgency(this._lastHover,N.DRAGOVER,R,this._draggingTarget)}};K.prototype._processDragLeave=function(R){if(this._draggingTarget){this._dispatchAgency(this._lastHover,N.DRAGLEAVE,R,this._draggingTarget)}};K.prototype._processDrop=function(R){if(this._draggingTarget){this._draggingTarget.invisible=false;this.storage.mod(this._draggingTarget.id);this.painter.refresh();this._dispatchAgency(this._lastHover,N.DROP,R,this._draggingTarget)}};K.prototype._processDragEnd=function(R){if(this._draggingTarget){this._dispatchAgency(this._draggingTarget,N.DRAGEND,R);this._lastHover=null}this._isDragging=0;this._draggingTarget=null};K.prototype._processOverShape=function(R){this._dispatchAgency(this._lastHover,N.MOUSEOVER,R)};K.prototype._processOutShape=function(R){this._dispatchAgency(this._lastHover,N.MOUSEOUT,R)};K.prototype._dispatchAgency=function(X,V,W,T){var U="on"+V;var R={type:V,event:W,target:X,cancelBubble:false};var S=X;if(T){R.dragged=T}while(S){S[U]&&(R.cancelBubble=S[U](R));S.dispatch(V,R);S=S.parent;if(R.cancelBubble){break}}if(X){if(!R.cancelBubble){this.dispatch(V,R)}}else{if(!T){this.dispatch(V,{type:V,event:W})}}};K.prototype._iterateAndFindHover=(function(){var R=J.create();return function(){var W=this.storage.getShapeList();var T;var X;var S=[0,0];for(var U=W.length-1;U>=0;U--){var V=W[U];if(T!==V.zlevel){X=this.painter.getLayer(V.zlevel,X);S[0]=this._mouseX;S[1]=this._mouseY;if(X.needTransform){J.invert(R,X.transform);H.applyTransform(S,S,R)}}if(this._findHover(V,S[0],S[1])){break}}}})();var E=[{x:10},{x:-20},{x:10,y:10},{y:-20}];K.prototype._mobildFindFixed=function(S){this._lastHover=null;this._mouseX=S.zrenderX;this._mouseY=S.zrenderY;this._event=S;this._iterateAndFindHover();for(var R=0;!this._lastHover&&R<E.length;R++){var T=E[R];T.x&&(this._mouseX+=T.x);T.y&&(this._mouseX+=T.y);this._iterateAndFindHover()}if(this._lastHover){S.zrenderX=this._mouseX;S.zrenderY=this._mouseY}};function D(V,T,U){if((this._draggingTarget&&this._draggingTarget.id==V.id)||V.isSilent()){return false}var R=this._event;if(V.isCover(T,U)){if(V.hoverable){this.storage.addHover(V)}var S=V.parent;while(S){if(S.clipShape&&!S.clipShape.isCover(this._mouseX,this._mouseY)){return false}S=S.parent}if(this._lastHover!=V){this._processOutShape(R);this._processDragLeave(R);this._lastHover=V;this._processDragEnter(R)}this._processOverShape(R);this._processDragOver(R);this._hasfound=1;return true}return false}K.prototype._zrenderEventFixed=function(S,V){if(S.zrenderFixed){return S}if(!V){S=S||window.event;var U=S.toElement||S.relatedTarget||S.srcElement||S.target;if(U&&U!=this._domHover){S.zrenderX=(typeof S.offsetX!="undefined"?S.offsetX:S.layerX)+U.offsetLeft;S.zrenderY=(typeof S.offsetY!="undefined"?S.offsetY:S.layerY)+U.offsetTop}}else{var T=S.type!="touchend"?S.targetTouches[0]:S.changedTouches[0];if(T){var R=this.root.getBoundingClientRect();S.zrenderX=T.clientX-R.left;S.zrenderY=T.clientY-R.top}}S.zrenderFixed=1;return S};G.merge(K.prototype,I.prototype,true);return K});define("zrender/tool/curve",["require","./vector"],function(H){var N=H("./vector");var G=0.0001;var U=Math.sqrt(3);var S=1/3;var J=N.create();var I=N.create();var L=N.create();function R(V){return V>-G&&V<G}function M(V){return V>G||V<-G}function P(W,X,Z,a,Y){var V=1-Y;return V*V*(V*W+3*Y*X)+Y*Y*(Y*a+3*V*Z)}function E(W,X,Z,a,Y){var V=1-Y;return 3*(((X-W)*V+2*(Z-X)*Y)*V+(a-Z)*Y*Y)}function K(m,z,X,q,u,i){var j=q+3*(z-X)-m;var h=3*(X-z*2+m);var V=3*(z-m);var l=m-u;var v=h*h-3*j*V;var s=h*V-9*j*l;var t=V*V-3*h*l;var e=0;if(R(v)&&R(s)){if(R(h)){i[0]=0}else{var W=-V/h;if(W>=0&&W<=1){i[e++]=W}}}else{var w=s*s-4*v*t;if(R(w)){var o=s/v;var W=-h/j+o;var Z=-o/2;if(W>=0&&W<=1){i[e++]=W}if(Z>=0&&Z<=1){i[e++]=Z}}else{if(w>0){var p=Math.sqrt(w);var Y=v*h+1.5*j*(-s+p);var f=v*h+1.5*j*(-s-p);if(Y<0){Y=-Math.pow(-Y,S)}else{Y=Math.pow(Y,S)}if(f<0){f=-Math.pow(-f,S)}else{f=Math.pow(f,S)}var W=(-h-(Y+f))/(3*j);if(W>=0&&W<=1){i[e++]=W}}else{var k=(2*v*h-3*j*s)/(2*Math.sqrt(v*v*v));var r=Math.acos(k)/3;var g=Math.sqrt(v);var x=Math.cos(r);var W=(-h-2*g*x)/(3*j);var Z=(-h+g*(x+U*Math.sin(r)))/(3*j);var y=(-h+g*(x-U*Math.sin(r)))/(3*j);if(W>=0&&W<=1){i[e++]=W}if(Z>=0&&Z<=1){i[e++]=Z}if(y>=0&&y<=1){i[e++]=y}}}}return e}function O(Z,W,f,e,k){var g=6*f-12*W+6*Z;var j=9*W+3*e-3*Z-9*f;var h=3*W-3*Z;var i=0;if(R(j)){if(M(g)){var Y=-h/g;if(Y>=0&&Y<=1){k[i++]=Y}}}else{var V=g*g-4*j*h;if(R(V)){k[0]=-g/(2*j)}else{if(V>0){var d=Math.sqrt(V);var Y=(-g+d)/(2*j);var X=(-g-d)/(2*j);if(Y>=0&&Y<=1){k[i++]=Y}if(X>=0&&X<=1){k[i++]=X}}}}return i}function D(Y,b,c,a,W,V){var f=(b-Y)*W+Y;var X=(c-b)*W+b;var e=(a-c)*W+c;var Z=(X-f)*W+f;var d=(e-X)*W+X;var g=(d-Z)*W+Z;V[0]=Y;V[1]=f;V[2]=Z;V[3]=g;V[4]=g;V[5]=d;V[6]=e;V[7]=a}function Q(a,b,l,m,p,q,e,f,n,o,h){var W;var X=0.005;var g=Infinity;J[0]=n;J[1]=o;for(var V=0;V<1;V+=0.05){I[0]=P(a,l,p,e,V);I[1]=P(b,m,q,f,V);var c=N.distSquare(J,I);if(c<g){W=V;g=c}}g=Infinity;for(var Y=0;Y<32;Y++){if(X<G){break}var k=W-X;var j=W+X;I[0]=P(a,l,p,e,k);I[1]=P(b,m,q,f,k);var c=N.distSquare(I,J);if(k>=0&&c<g){W=k;g=c}else{L[0]=P(a,l,p,e,j);L[1]=P(b,m,q,f,j);var Z=N.distSquare(L,J);if(j<=1&&Z<g){W=j;g=Z}else{X*=0.5}}}if(h){h[0]=P(a,l,p,e,W);h[1]=P(b,m,q,f,W)}return Math.sqrt(g)}function T(W,X,Z,Y){var V=1-Y;return V*(V*W+2*Y*X)+Y*Y*Z}function F(V,W,Y,X){return 2*((1-X)*(W-V)+X*(Y-W))}function A(W,d,e,Z,j){var i=W-2*d+e;var f=2*(d-W);var g=W-Z;var h=0;if(R(i)){if(M(f)){var Y=-g/f;if(Y>=0&&Y<=1){j[h++]=Y}}}else{var V=f*f-4*i*g;if(R(V)){var Y=-f/(2*i);if(Y>=0&&Y<=1){j[h++]=Y}}else{if(V>0){var k=Math.sqrt(V);var Y=(-f+k)/(2*i);var X=(-f-k)/(2*i);if(Y>=0&&Y<=1){j[h++]=Y}if(X>=0&&X<=1){j[h++]=X}}}}return h}function C(V,X,Y){var W=V+Y-2*X;if(W===0){return 0.5}else{return(V-X)/W}}function B(Z,a,j,k,n,o,l,m,f){var W;var X=0.005;var e=Infinity;J[0]=l;J[1]=m;for(var V=0;V<1;V+=0.05){I[0]=T(Z,j,n,V);I[1]=T(a,k,o,V);var b=N.distSquare(J,I);if(b<e){W=V;e=b}}e=Infinity;for(var Y=0;Y<32;Y++){if(X<G){break}var h=W-X;var g=W+X;I[0]=T(Z,j,n,h);I[1]=T(a,k,o,h);var b=N.distSquare(I,J);if(h>=0&&b<e){W=h;e=b}else{L[0]=T(Z,j,n,g);L[1]=T(a,k,o,g);var c=N.distSquare(L,J);if(g<=1&&c<e){W=g;e=c}else{X*=0.5}}}if(f){f[0]=T(Z,j,n,W);f[1]=T(a,k,o,W)}return Math.sqrt(e)}return{cubicAt:P,cubicDerivativeAt:E,cubicRootAt:K,cubicExtrema:O,cubicSubdivide:D,cubicProjectPoint:Q,quadraticAt:T,quadraticDerivativeAt:F,quadraticRootAt:A,quadraticExtremum:C,quadraticProjectPoint:B}});define("zrender/tool/area",["require","./util","./curve"],function(h){var V=h("./util");var e=h("./curve");var I;var F={};var K={};var H=0;var N=0;var i=5000;var R=Math.PI*2;function a(j){j%=R;if(j<0){j+=R}return j}function E(p,k,m,n){if(!k||!p){return false}var l=p.type;I=I||V.getContext();var j=c(p,k,m,n);if(typeof j!="undefined"){return j}if(p.buildPath&&I.isPointInPath){return Q(p,I,k,m,n)}switch(l){case"heart":case"droplet":case"ellipse":return true;case"trochoid":var o=k.location=="out"?k.r1+k.r2+k.d:k.r1-k.r2+k.d;return M(k,m,n,o);case"rose":return M(k,m,n,k.maxr);default:return false}}function c(o,j,m,n){var k=o.type;switch(k){case"bezier-curve":if(typeof(j.cpX2)==="undefined"){return A(j.xStart,j.yStart,j.cpX1,j.cpY1,j.xEnd,j.yEnd,j.lineWidth,m,n)}return D(j.xStart,j.yStart,j.cpX1,j.cpY1,j.cpX2,j.cpY2,j.xEnd,j.yEnd,j.lineWidth,m,n);case"line":return P(j.xStart,j.yStart,j.xEnd,j.yEnd,j.lineWidth,m,n);case"broken-line":return f(j.pointList,j.lineWidth,m,n);case"ring":return J(j.x,j.y,j.r0,j.r,m,n);case"circle":return M(j.x,j.y,j.r,m,n);case"sector":return Y(j,m,n);case"path":return Z(j.pathArray,Math.max(j.lineWidth,5),j.brushType,m,n);case"polygon":case"star":case"isogon":return g(j.pointList,m,n);case"text":var l=j.__rect||o.getRect(j);return B(l.x,l.y,l.width,l.height,m,n);case"rectangle":case"image":return B(j.x,j.y,j.width,j.height,m,n)}}function Q(n,j,k,l,m){j.beginPath();n.buildPath(j,k);j.closePath();return j.isPointInPath(l,m)}function L(m,j,k,l){return !E(m,j,k,l)}function P(m,n,j,k,p,r,s){if(p===0){return false}var u=Math.max(p,5);var l=0;var q=m;if((s>n+u&&s>k+u)||(s<n-u&&s<k-u)||(r>m+u&&r>j+u)||(r<m-u&&r<j-u)){return false}if(m!==j){l=(n-k)/(m-j);q=(m*k-j*n)/(m-j)}else{return Math.abs(r-m)<=u/2}var o=l*r-s+q;var t=o*o/(l*l+1);return t<=u/2*u/2}function D(l,m,j,k,q,o,n,t,p,r,s){if(p===0){return false}var u=Math.max(p,5);if((s>m+u&&s>k+u&&s>o+u&&s>t+u)||(s<m-u&&s<k-u&&s<o-u&&s<t-u)||(r>l+u&&r>j+u&&r>q+u&&r>n+u)||(r<l-u&&r<j-u&&r<q-u&&r<n-u)){return false}var v=e.cubicProjectPoint(l,m,j,k,q,o,n,t,r,s,null);return v<=u/2}function A(l,m,j,k,n,p,o,q,r){if(o===0){return false}var s=Math.max(o,5);if((r>m+s&&r>k+s&&r>p+s)||(r<m-s&&r<k-s&&r<p-s)||(q>l+s&&q>j+s&&q>n+s)||(q<l-s&&q<j-s&&q<n-s)){return false}var t=e.quadraticProjectPoint(l,m,j,k,n,p,q,r,null);return t<=s/2}function S(n,m,j,v,k,p,o,s,t){if(o===0){return false}var u=Math.max(o,5);s-=n;t-=m;var l=Math.sqrt(s*s+t*t);if((l-u>j)||(l+u<j)){return false}if(p){v=a(k);k=a(v)}else{v=a(v);k=a(k)}if(v>k){k+=R}var q=Math.atan2(t,s);if(q<0){q+=R}return(q>=v&&q<=k)||(q+R>=v&&q+R<=k)}function f(j,p,s,t){var p=Math.max(p,10);for(var o=0,q=j.length-1;o<q;o++){var m=j[o][0];var n=j[o][1];var r=j[o+1][0];var k=j[o+1][1];if(P(m,n,r,k,p,s,t)){return true}}return false}function J(p,j,o,k,m,n){var l=(m-p)*(m-p)+(n-j)*(n-j);return(l<k*k)&&(l>o*o)}function B(k,l,m,j,n,o){return n>=k&&n<=(k+m)&&o>=l&&o<=(l+j)}function M(k,l,j,m,n){return(m-k)*(m-k)+(n-l)*(n-l)<j*j}function Y(o,l,m){if(!J(o.x,o.y,o.r0||0,o.r,l,m)){return false}if(Math.abs(o.endAngle-o.startAngle)>=360){return true}var k=(360-Math.atan2(m-o.y,l-o.x)/Math.PI*180)%360;var j=(360+o.endAngle)%360;var n=(360+o.startAngle)%360;if(j>n){return(k>=n&&k<=j)}return !(k>=j&&k<=n)}function g(l,t,u){var k=l.length;var m=0;for(var p=0,o=k-1;p<k;p++){var n=l[o][0];var s=l[o][1];var r=l[p][0];var q=l[p][1];m+=b(n,s,r,q,t,u);o=p}return m!==0}function b(n,o,k,l,q,r){if((r>o&&r>l)||(r<o&&r<l)){return 0}if(l==o){return 0}var j=l<o?1:-1;var m=(r-o)/(l-o);var p=m*(k-n)+n;return p>q?j:0}var G=[-1,-1,-1];var d=[-1,-1];function C(){var j=d[0];d[0]=d[1];d[1]=j}function O(o,p,z,Aa,Ad,Ae,q,r,Ab,Ac){if((Ac>p&&Ac>Aa&&Ac>Ae&&Ac>r)||(Ac<p&&Ac<Aa&&Ac<Ae&&Ac<r)){return 0}var m=e.cubicRootAt(p,Aa,Ae,r,Ac,G);if(m===0){return 0}else{var k=0;var u=-1;var j,s;for(var n=0;n<m;n++){var l=G[n];var v=e.cubicAt(o,z,Ad,q,l);if(v<Ab){continue}if(u<0){u=e.cubicExtrema(p,Aa,Ae,r,d);if(d[1]<d[0]&&u>1){C()}j=e.cubicAt(p,Aa,Ae,r,d[0]);if(u>1){s=e.cubicAt(p,Aa,Ae,r,d[1])}}if(u==2){if(l<d[0]){k+=j<p?1:-1}else{if(l<d[1]){k+=s<j?1:-1}else{k+=r<s?1:-1}}}else{if(l<d[0]){k+=j<p?1:-1}else{k+=r<j?1:-1}}}return k}}function X(o,p,l,m,q,r,v,z){if((z>p&&z>m&&z>r)||(z<p&&z<m&&z<r)){return 0}var k=e.quadraticRootAt(p,m,r,z,G);if(k===0){return 0}else{var n=e.quadraticExtremum(p,m,r);if(n>=0&&n<=1){var s=0;var u=e.quadraticAt(p,m,r,n);for(var Aa=0;Aa<k;Aa++){var j=e.quadraticAt(o,l,q,G[Aa]);if(j>v){continue}if(G[Aa]<n){s+=u<p?1:-1}else{s+=r<u?1:-1}}return s}else{var j=e.quadraticAt(o,l,q,G[0]);if(j>v){return 0}return r<p?1:-1}}}function W(q,o,j,Aa,k,s,v,z){z-=o;if(z>j||z<-j){return 0}var p=Math.sqrt(j*j-z*z);G[0]=-p;G[1]=p;if(s){Aa=a(k);k=a(Aa)}else{Aa=a(Aa);k=a(k)}if(Aa>k){k+=R}var n=0;for(var t=0;t<2;t++){var m=G[t];if(m+q>v){var u=Math.atan2(z,m);var l=s?1:-1;if(u<0){u=R+u}if((u>=Aa&&u<=k)||(u+R>=Aa&&u+R<=k)){if(u>Math.PI/2&&u<Math.PI*1.5){l=-l}n+=l}}}return n}function Z(r,Ag,k,Aj,Ak){var Af=0;var m=0;var n=0;var u=0;var v=0;var z=true;var Ac=k==="stroke"||k==="both";var l=k==="fill"||k==="both";for(var s=0;s<r.length;s++){var Al=r[s];var j=Al.points;if(z||Al.command==="M"){if(s>0){if(l){Af+=b(m,n,u,v,Aj,Ak)}if(Af!==0){return true}}u=j[j.length-2];v=j[j.length-1];z=false}switch(Al.command){case"M":m=j[0];n=j[1];break;case"L":if(Ac){if(P(m,n,j[0],j[1],Ag,Aj,Ak)){return true}}if(l){Af+=b(m,n,j[0],j[1],Aj,Ak)}m=j[0];n=j[1];break;case"C":if(Ac){if(D(m,n,j[0],j[1],j[2],j[3],j[4],j[5],Ag,Aj,Ak)){return true}}if(l){Af+=O(m,n,j[0],j[1],j[2],j[3],j[4],j[5],Aj,Ak)}m=j[4];n=j[5];break;case"Q":if(Ac){if(A(m,n,j[0],j[1],j[2],j[3],Ag,Aj,Ak)){return true}}if(l){Af+=X(m,n,j[0],j[1],j[2],j[3],Aj,Ak)}m=j[2];n=j[3];break;case"A":var o=j[0];var Ae=j[1];var Ai=j[2];var t=j[3];var Ab=j[4];var Ad=j[5];var Ah=Math.cos(Ab)*Ai+o;var Aa=Math.sin(Ab)*t+Ae;Af+=b(m,n,Ah,Aa);var q=(Aj-o)*t/Ai+o;if(Ac){if(S(o,Ae,t,Ab,Ab+Ad,1-j[7],Ag,q,Ak)){return true}}if(l){Af+=W(o,Ae,t,Ab,Ab+Ad,1-j[7],q,Ak)}m=Math.cos(Ab+Ad)*Ai+o;n=Math.sin(Ab+Ad)*t+Ae;break;case"z":if(Ac){if(P(m,n,u,v,Ag,Aj,Ak)){return true}}z=true;break}}if(l){Af+=b(m,n,u,v,Aj,Ak)}return Af!==0}function U(o,p){var j=o+":"+p;if(F[j]){return F[j]}I=I||V.getContext();I.save();if(p){I.font=p}o=(o+"").split("\n");var k=0;for(var m=0,n=o.length;m<n;m++){k=Math.max(I.measureText(o[m]).width,k)}I.restore();F[j]=k;if(++H>i){H=0;F={}}return k}function T(k,m){var j=k+":"+m;if(K[j]){return K[j]}I=I||V.getContext();I.save();if(m){I.font=m}k=(k+"").split("\n");var l=(I.measureText("国").width+2)*k.length;I.restore();K[j]=l;if(++N>i){N=0;K={}}return l}return{isInside:E,isOutside:L,getTextWidth:U,getTextHeight:T,isInsidePath:Z,isInsidePolygon:g,isInsideSector:Y,isInsideCircle:M,isInsideLine:P,isInsideRect:B,isInsideBrokenLine:f}});define("zrender/mixin/Transformable",["require","../tool/matrix","../tool/vector"],function(D){var E=D("../tool/matrix");var C=D("../tool/vector");var A=[0,0];var H=5e-05;function F(I){return I>-H&&I<H}function G(I){return I>H||I<-H}var B=function(){if(!this.position){this.position=[0,0]}if(typeof(this.rotation)=="undefined"){this.rotation=[0,0,0]}if(!this.scale){this.scale=[1,1,0,0]}this.needLocalTransform=false;this.needTransform=false};B.prototype={constructor:B,updateNeedTransform:function(){this.needLocalTransform=G(this.rotation[0])||G(this.position[0])||G(this.position[1])||G(this.scale[0]-1)||G(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();if(this.parent){this.needTransform=this.needLocalTransform||this.parent.needTransform}else{this.needTransform=this.needLocalTransform}if(!this.needTransform){return}var I=this.transform||E.create();E.identity(I);if(this.needLocalTransform){if(G(this.scale[0])||G(this.scale[1])){A[0]=-this.scale[2]||0;A[1]=-this.scale[3]||0;var J=G(A[0])||G(A[1]);if(J){E.translate(I,I,A)}E.scale(I,I,this.scale);if(J){A[0]=-A[0];A[1]=-A[1];E.translate(I,I,A)}}if(this.rotation instanceof Array){if(this.rotation[0]!==0){A[0]=-this.rotation[1]||0;A[1]=-this.rotation[2]||0;var J=G(A[0])||G(A[1]);if(J){E.translate(I,I,A)}E.rotate(I,I,this.rotation[0]);if(J){A[0]=-A[0];A[1]=-A[1];E.translate(I,I,A)}}}else{if(this.rotation!==0){E.rotate(I,I,this.rotation)}}if(G(this.position[0])||G(this.position[1])){E.translate(I,I,this.position)}}this.transform=I;if(this.parent&&this.parent.needTransform){if(this.needLocalTransform){E.mul(this.transform,this.parent.transform,this.transform)}else{E.copy(this.transform,this.parent.transform)}}},setTransform:function(J){if(this.needTransform){var I=this.transform;J.transform(I[0],I[1],I[2],I[3],I[4],I[5])}},lookAt:(function(){var I=C.create();return function(K){if(!this.transform){this.transform=E.create()}var J=this.transform;C.sub(I,K,this.position);if(F(I[0])&&F(I[1])){return}C.normalize(I,I);J[2]=I[0]*this.scale[1];J[3]=I[1]*this.scale[1];J[0]=I[1]*this.scale[0];J[1]=-I[0]*this.scale[0];J[4]=this.position[0];J[5]=this.position[1];this.decomposeTransform()}})(),decomposeTransform:function(){if(!this.transform){return}var L=this.transform;var K=L[0]*L[0]+L[1]*L[1];var I=this.position;var N=this.scale;var J=this.rotation;if(G(K-1)){K=Math.sqrt(K)}var M=L[2]*L[2]+L[3]*L[3];if(G(M-1)){M=Math.sqrt(M)}I[0]=L[4];I[1]=L[5];N[0]=K;N[1]=M;N[2]=N[3]=0;J[0]=Math.atan2(-L[1]/M,L[0]/K);J[1]=J[2]=0}};return B});define("zrender/tool/color",["require","../tool/util"],function(r){var b=r("../tool/util");var L;var t=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"];var f=t;var p="rgba(255,255,0,0.5)";var d=p;var A=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i;var s={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};function q(v){t=v}function N(){t=f}function R(w,v){w=w|0;v=v||t;return v[w%v.length]}function h(v){p=v}function D(){d=p}function T(){return p}function I(x,y,Ac,v,w,z,Ae){if(!L){L=b.getContext()}var Ab=L.createRadialGradient(x,y,Ac,v,w,z);for(var Aa=0,Ad=Ae.length;Aa<Ad;Aa++){Ab.addColorStop(Ae[Aa][0],Ae[Aa][1])}Ab.__nonRecursion=true;return Ab}function e(x,y,v,w,Ac){if(!L){L=b.getContext()}var Aa=L.createLinearGradient(x,y,v,w);for(var z=0,Ab=Ac.length;z<Ab;z++){Aa.addColorStop(Ac[z][0],Ac[z][1])}Aa.__nonRecursion=true;return Aa}function H(x,z,Aa){x=X(x);z=X(z);x=W(x);z=W(z);var Ad=[];var Af=(z[0]-x[0])/Aa;var w=(z[1]-x[1])/Aa;var y=(z[2]-x[2])/Aa;for(var Ac=0,v=x[0],Ab=x[1],Ae=x[2];Ac<Aa;Ac++){Ad[Ac]=i([C(Math.floor(v),[0,255]),C(Math.floor(Ab),[0,255]),C(Math.floor(Ae),[0,255])]);v+=Af;Ab+=w;Ae+=y}v=z[0];Ab=z[1];Ae=z[2];Ad[Ac]=i([v,Ab,Ae]);return Ad}function u(Ab,v){var z=[];var Aa=Ab.length;if(v===undefined){v=20}if(Aa===1){z=H(Ab[0],Ab[0],v)}else{if(Aa>1){for(var w=0,x=Aa-1;w<x;w++){var y=H(Ab[w],Ab[w+1],v);if(w<x-1){y.pop()}z=z.concat(y)}}}return z}function i(x,v){v=v||"rgb";if(x&&(x.length===3||x.length===4)){x=n(x,function(y){return y>1?Math.ceil(y):y});if(v.indexOf("hex")>-1){return"#"+((1<<24)+(x[0]<<16)+(x[1]<<8)+(+x[2])).toString(16).slice(1)}else{if(v.indexOf("hs")>-1){var w=n(x.slice(1,3),function(y){return y+"%"});x[1]=w[0];x[2]=w[1]}}if(v.indexOf("a")>-1){if(x.length===3){x.push(1)}x[3]=C(x[3],[0,1]);return v+"("+x.slice(0,4).join(",")+")"}return v+"("+x.slice(0,3).join(",")+")"}}function B(w){w=j(w);if(w.indexOf("rgba")<0){w=X(w)}var x=[];var v=0;w.replace(/[\d.]+/g,function(y){if(v<3){y=y|0}else{y=+y}x[v++]=y});return x}function P(x,v){var y=W(x);var w=y[3];if(typeof w==="undefined"){w=1}if(x.indexOf("hsb")>-1){y=J(y)}else{if(x.indexOf("hsl")>-1){y=l(y)}}if(v.indexOf("hsb")>-1||v.indexOf("hsv")>-1){y=G(y)}else{if(v.indexOf("hsl")>-1){y=o(y)}}y[3]=w;return i(y,v)}function X(v){return P(v,"rgba")}function k(v){return P(v,"rgb")}function V(v){return P(v,"hex")}function U(v){return P(v,"hsva")}function m(v){return P(v,"hsv")}function O(v){return P(v,"hsba")}function E(v){return P(v,"hsb")}function Q(v){return P(v,"hsla")}function F(v){return P(v,"hsl")}function g(w){for(var v in s){if(V(s[v])===V(w)){return v}}return null}function j(v){return String(v).replace(/\s+/g,"")}function a(y){if(s[y]){y=s[y]}y=j(y);y=y.replace(/hsv/i,"hsb");if(/^#[\da-f]{3}$/i.test(y)){y=parseInt(y.slice(1),16);var w=(y&3840)<<8;var v=(y&240)<<4;var x=y&15;y="#"+((1<<24)+(w<<4)+w+(v<<4)+v+(x<<4)+x).toString(16).slice(1)}return y}function M(y,w){var x=w>0?1:-1;if(typeof w==="undefined"){w=0}w=Math.abs(w)>1?1:Math.abs(w);y=k(y);var z=W(y);for(var v=0;v<3;v++){if(x===1){z[v]=z[v]*(1-w)|0}else{z[v]=((255-z[v])*w+z[v])|0}}return"rgb("+z.join(",")+")"}function Y(v){var w=W(X(v));w=n(w,function(x){return 255-x});return i(w,"rgb")}function c(Ad,Ag,z){if(typeof z==="undefined"){z=0.5}z=1-C(z,[0,1]);var y=z*2-1;var Ae=W(X(Ad));var Ac=W(X(Ag));var Ah=Ae[3]-Ac[3];var Af=(((y*Ah===-1)?y:(y+Ah)/(1+y*Ah))+1)/2;var x=1-Af;var v=[];for(var Ab=0;Ab<3;Ab++){v[Ab]=Ae[Ab]*Af+Ac[Ab]*x}var Aa=Ae[3]*z+Ac[3]*(1-z);Aa=Math.max(0,Math.min(1,Aa));if(Ae[3]===1&&Ac[3]===1){return i(v,"rgb")}v[3]=Aa;return i(v,"rgba")}function S(){return"#"+Math.random().toString(16).slice(2,8)}function W(Aa){Aa=a(Aa);var v=Aa.match(A);if(v===null){throw new Error("The color format error")}var Ag;var Af;var z=[];var y;if(v[2]){Ag=v[2].replace("#","").split("");y=[Ag[0]+Ag[1],Ag[2]+Ag[3],Ag[4]+Ag[5]];z=n(y,function(x){return C(parseInt(x,16),[0,255])})}else{if(v[4]){var Ad=(v[4]).split(",");Af=Ad[3];y=Ad.slice(0,3);z=n(y,function(x){x=Math.floor(x.indexOf("%")>0?parseInt(x,0)*2.55:x);return C(x,[0,255])});if(typeof Af!=="undefined"){z.push(C(parseFloat(Af),[0,1]))}}else{if(v[5]||v[6]){var Ac=(v[5]||v[6]).split(",");var Ab=parseInt(Ac[0],0)/360;var w=Ac[1];var Ae=Ac[2];Af=Ac[3];z=n([w,Ae],function(x){return C(parseFloat(x)/100,[0,1])});z.unshift(Ab);if(typeof Af!=="undefined"){z.push(C(parseFloat(Af),[0,1]))}}}}return z}function Z(w,v){if(v===null){v=1}var x=W(X(w));x[3]=C(Number(v).toFixed(4),[0,1]);return i(x,"rgba")}function n(v,w){if(typeof w!=="function"){throw new TypeError()}var y=v?v.length:0;for(var x=0;x<y;x++){v[x]=w(v[x])}return v}function C(v,w){if(v<=w[0]){v=w[0]}else{if(v>=w[1]){v=w[1]}}return v}function J(z){var w=z[0];var Af=z[1];var Ai=z[2];var Ae;var Ad;var Aa;if(Af===0){Ae=Ai*255;Ad=Ai*255;Aa=Ai*255}else{var Ab=w*6;if(Ab===6){Ab=0}var Ac=Ab|0;var y=Ai*(1-Af);var Ah=Ai*(1-Af*(Ab-Ac));var Aj=Ai*(1-Af*(1-(Ab-Ac)));var v=0;var x=0;var Ag=0;if(Ac===0){v=Ai;x=Aj;Ag=y}else{if(Ac===1){v=Ah;x=Ai;Ag=y}else{if(Ac===2){v=y;x=Ai;Ag=Aj}else{if(Ac===3){v=y;x=Ah;Ag=Ai}else{if(Ac===4){v=Aj;x=y;Ag=Ai}else{v=Ai;x=y;Ag=Ah}}}}}Ae=v*255;Ad=x*255;Aa=Ag*255}return[Ae,Ad,Aa]}function l(x){var v=x[0];var Ac=x[1];var z=x[2];var Ab;var Aa;var y;if(Ac===0){Ab=z*255;Aa=z*255;y=z*255}else{var Ad;if(z<0.5){Ad=z*(1+Ac)}else{Ad=(z+Ac)-(Ac*z)}var w=2*z-Ad;Ab=255*K(w,Ad,v+(1/3));Aa=255*K(w,Ad,v);y=255*K(w,Ad,v-(1/3))}return[Ab,Aa,y]}function K(w,x,v){if(v<0){v+=1}if(v>1){v-=1}if((6*v)<1){return(w+(x-w)*6*v)}if((2*v)<1){return(x)}if((3*v)<2){return(w+(x-w)*((2/3)-v)*6)}return w}function G(y){var Ad=(y[0]/255);var Ac=(y[1]/255);var z=(y[2]/255);var Ah=Math.min(Ad,Ac,z);var x=Math.max(Ad,Ac,z);var Af=x-Ah;var Ag=x;var w;var Ae;if(Af===0){w=0;Ae=0}else{Ae=Af/x;var Ab=(((x-Ad)/6)+(Af/2))/Af;var Aa=(((x-Ac)/6)+(Af/2))/Af;var v=(((x-z)/6)+(Af/2))/Af;if(Ad===x){w=v-Aa}else{if(Ac===x){w=(1/3)+Ab-v}else{if(z===x){w=(2/3)+Aa-Ab}}}if(w<0){w+=1}if(w>1){w-=1}}w=w*360;Ae=Ae*100;Ag=Ag*100;return[w,Ae,Ag]}function o(y){var Ad=(y[0]/255);var Ac=(y[1]/255);var z=(y[2]/255);var Ah=Math.min(Ad,Ac,z);var x=Math.max(Ad,Ac,z);var Af=x-Ah;var Aa=(x+Ah)/2;var w;var Ae;if(Af===0){w=0;Ae=0}else{if(Aa<0.5){Ae=Af/(x+Ah)}else{Ae=Af/(2-x-Ah)}var Ab=(((x-Ad)/6)+(Af/2))/Af;var Ag=(((x-Ac)/6)+(Af/2))/Af;var v=(((x-z)/6)+(Af/2))/Af;if(Ad===x){w=v-Ag}else{if(Ac===x){w=(1/3)+Ab-v}else{if(z===x){w=(2/3)+Ag-Ab}}}if(w<0){w+=1}if(w>1){w-=1}}w=w*360;Ae=Ae*100;Aa=Aa*100;return[w,Ae,Aa]}return{customPalette:q,resetPalette:N,getColor:R,getHighlightColor:T,customHighlight:h,resetHighlight:D,getRadialGradient:I,getLinearGradient:e,getGradientColors:u,getStepColors:H,reverse:Y,mix:c,lift:M,trim:j,random:S,toRGB:k,toRGBA:X,toHex:V,toHSL:F,toHSLA:Q,toHSB:E,toHSBA:O,toHSV:m,toHSVA:U,toName:g,toColor:i,toArray:B,alpha:Z,getData:W}});define("zrender/shape/Base",["require","../tool/matrix","../tool/guid","../tool/util","../tool/log","../mixin/Transformable","../mixin/Eventful","../tool/area","../tool/area","../tool/color","../tool/area"],function(C){var F=C("../tool/matrix");var G=C("../tool/guid");var J=C("../tool/util");var K=C("../tool/log");var B=C("../mixin/Transformable");var E=C("../mixin/Eventful");function A(P,Q,S,T,N,L,V){if(N){P.font=N}P.textAlign=L;P.textBaseline=V;var M=I(Q,S,T,N,L,V);Q=(Q+"").split("\n");var O=C("../tool/area").getTextHeight("国",N);switch(V){case"top":T=M.y;break;case"bottom":T=M.y+O;break;default:T=M.y+O/2}for(var R=0,U=Q.length;R<U;R++){P.fillText(Q[R],S,T);T+=O}}function I(Q,S,T,N,L,P){var M=C("../tool/area");var R=M.getTextWidth(Q,N);var O=M.getTextHeight("国",N);Q=(Q+"").split("\n");switch(L){case"end":case"right":S-=R;break;case"center":S-=(R/2);break}switch(P){case"top":break;case"bottom":T-=O*Q.length;break;default:T-=O*Q.length/2}return{x:S,y:T,width:R,height:O*Q.length}}var D=function(M){M=M||{};this.id=M.id||G();for(var L in M){this[L]=M[L]}this.style=this.style||{};this.highlightStyle=this.highlightStyle||null;this.parent=null;this.__dirty=true;B.call(this);E.call(this)};D.prototype.invisible=false;D.prototype.ignore=false;D.prototype.zlevel=0;D.prototype.draggable=false;D.prototype.clickable=false;D.prototype.hoverable=true;D.prototype.z=0;D.prototype.brush=function(M,N){var L=this.style;if(this.brushTypeOnly){L.brushType=this.brushTypeOnly}if(N){L=this.getHighlightStyle(L,this.highlightStyle||{},this.brushTypeOnly)}if(this.brushTypeOnly=="stroke"){L.strokeColor=L.strokeColor||L.color}M.save();this.setContext(M,L);this.setTransform(M);M.beginPath();this.buildPath(M,L);switch(L.brushType){case"both":M.fill();case"stroke":L.lineWidth>0&&M.stroke();break;default:M.fill()}this.drawText(M,L,this.style);M.restore()};var H=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];D.prototype.setContext=function(Q,O){for(var M=0,P=H.length;M<P;M++){var R=H[M][0];var N=O[R];var L=H[M][1];if(typeof N!="undefined"){Q[L]=N}}};D.prototype.getHighlightStyle=function(O,M,P){var Q={};for(var R in O){Q[R]=O[R]}var N=C("../tool/color");var L=N.getHighlightColor();if(O.brushType!="stroke"){Q.strokeColor=L;Q.lineWidth=(O.lineWidth||1)+this.getHighlightZoom();Q.brushType="both"}else{if(P!="stroke"){Q.strokeColor=L;Q.lineWidth=(O.lineWidth||1)+this.getHighlightZoom()}else{Q.strokeColor=M.strokeColor||N.mix(O.strokeColor,N.toRGB(L))}}for(var R in M){if(typeof M[R]!="undefined"){Q[R]=M[R]}}return Q};D.prototype.getHighlightZoom=function(){return this.type!="text"?6:2};D.prototype.drift=function(L,M){this.position[0]+=L;this.position[1]+=M};D.prototype.getTansform=(function(){var L=[];return function(N,O){var M=[N,O];if(this.needTransform&&this.transform){F.invert(L,this.transform);F.mulVector(M,L,[N,O,1]);if(N==M[0]&&O==M[1]){this.updateNeedTransform()}}return M}})();D.prototype.buildPath=function(M,L){K("buildPath not implemented in "+this.type)};D.prototype.getRect=function(L){K("getRect not implemented in "+this.type)};D.prototype.isCover=function(N,O){var M=this.getTansform(N,O);N=M[0];O=M[1];var L=this.style.__rect;if(!L){L=this.style.__rect=this.getRect(this.style)}if(N>=L.x&&N<=(L.x+L.width)&&O>=L.y&&O<=(L.y+L.height)){return C("../tool/area").isInside(this,this.style,N,O)}return false};D.prototype.drawText=function(Q,b,M){if(typeof(b.text)=="undefined"||b.text===false){return}var N=b.textColor||b.color||b.strokeColor;Q.fillStyle=N;var W=10;var Y;var X;var a;var S;var Z=b.textPosition||this.textPosition||"top";switch(Z){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var T=(M||b).__rect||this.getRect(M||b);switch(Z){case"inside":a=T.x+T.width/2;S=T.y+T.height/2;Y="center";X="middle";if(b.brushType!="stroke"&&N==b.color){Q.fillStyle="#fff"}break;case"left":a=T.x-W;S=T.y+T.height/2;Y="end";X="middle";break;case"right":a=T.x+T.width+W;S=T.y+T.height/2;Y="start";X="middle";break;case"top":a=T.x+T.width/2;S=T.y-W;Y="center";X="bottom";break;case"bottom":a=T.x+T.width/2;S=T.y+T.height+W;Y="center";X="top";break}}break;case"start":case"end":var R;var O;var V;var U;if(typeof b.pointList!="undefined"){var P=b.pointList;if(P.length<2){return}var L=P.length;switch(Z){case"start":R=P[0][0];O=P[1][0];V=P[0][1];U=P[1][1];break;case"end":R=P[L-2][0];O=P[L-1][0];V=P[L-2][1];U=P[L-1][1];break}}else{R=b.xStart||0;O=b.xEnd||0;V=b.yStart||0;U=b.yEnd||0}switch(Z){case"start":Y=R<O?"end":"start";X=V<U?"bottom":"top";a=R;S=V;break;case"end":Y=R<O?"start":"end";X=V<U?"top":"bottom";a=O;S=U;break}W-=4;if(R!=O){a-=(Y=="end"?W:-W)}else{Y="center"}if(V!=U){S-=(X=="bottom"?W:-W)}else{X="middle"}break;case"specific":a=b.textX||0;S=b.textY||0;Y="start";X="middle";break}if(a!=null&&S!=null){A(Q,b.text,a,S,b.textFont,b.textAlign||Y,b.textBaseline||X)}};D.prototype.modSelf=function(){this.__dirty=true;if(this.style){this.style.__rect=null}};D.prototype.isSilent=function(){return !(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)};J.merge(D.prototype,B.prototype,true);J.merge(D.prototype,E.prototype,true);return D});define("zrender/shape/Text",["require","../tool/area","./Base","../tool/util"],function(B){var D=B("../tool/area");var C=B("./Base");var A=function(E){C.call(this,E)};A.prototype={type:"text",brush:function(H,N){var I=this.style;if(N){I=this.getHighlightStyle(I,this.highlightStyle||{})}if(typeof(I.text)=="undefined"||I.text===false){return}H.save();this.setContext(H,I);this.setTransform(H);if(I.textFont){H.font=I.textFont}H.textAlign=I.textAlign||"start";H.textBaseline=I.textBaseline||"middle";var F=(I.text+"").split("\n");var J=D.getTextHeight("国",I.textFont);var G=this.getRect(I);var L=I.x;var M;if(I.textBaseline=="top"){M=G.y}else{if(I.textBaseline=="bottom"){M=G.y+J}else{M=G.y+J/2}}for(var K=0,E=F.length;K<E;K++){if(I.maxWidth){switch(I.brushType){case"fill":H.fillText(F[K],L,M,I.maxWidth);break;case"stroke":H.strokeText(F[K],L,M,I.maxWidth);break;case"both":H.fillText(F[K],L,M,I.maxWidth);H.strokeText(F[K],L,M,I.maxWidth);break;default:H.fillText(F[K],L,M,I.maxWidth)}}else{switch(I.brushType){case"fill":H.fillText(F[K],L,M);break;case"stroke":H.strokeText(F[K],L,M);break;case"both":H.fillText(F[K],L,M);H.strokeText(F[K],L,M);break;default:H.fillText(F[K],L,M)}}M+=J}H.restore();return},getRect:function(F){if(F.__rect){return F.__rect}var H=D.getTextWidth(F.text,F.textFont);var E=D.getTextHeight(F.text,F.textFont);var I=F.x;if(F.textAlign=="end"||F.textAlign=="right"){I-=H}else{if(F.textAlign=="center"){I-=(H/2)}}var G;if(F.textBaseline=="top"){G=F.y}else{if(F.textBaseline=="bottom"){G=F.y-E}else{G=F.y-E/2}}F.__rect={x:I,y:G,width:H,height:E};return F.__rect}};B("../tool/util").inherits(A,C);return A});define("zrender/shape/Rectangle",["require","./Base","../tool/util"],function(B){var C=B("./Base");var A=function(D){C.call(this,D)};A.prototype={type:"rectangle",_buildRadiusPath:function(I,J){var N=J.x;var O=J.y;var M=J.width;var F=J.height;var D=J.radius;var H;var K;var E;var G;if(typeof D==="number"){H=K=E=G=D}else{if(D instanceof Array){if(D.length===1){H=K=E=G=D[0]}else{if(D.length===2){H=E=D[0];K=G=D[1]}else{if(D.length===3){H=D[0];K=G=D[1];E=D[2]}else{H=D[0];K=D[1];E=D[2];G=D[3]}}}}else{H=K=E=G=0}}var L;if(H+K>M){L=H+K;H*=M/L;K*=M/L}if(E+G>M){L=E+G;E*=M/L;G*=M/L}if(K+E>F){L=K+E;K*=F/L;E*=F/L}if(H+G>F){L=H+G;H*=F/L;G*=F/L}I.moveTo(N+H,O);I.lineTo(N+M-K,O);K!==0&&I.quadraticCurveTo(N+M,O,N+M,O+K);I.lineTo(N+M,O+F-E);E!==0&&I.quadraticCurveTo(N+M,O+F,N+M-E,O+F);I.lineTo(N+G,O+F);G!==0&&I.quadraticCurveTo(N,O+F,N,O+F-G);I.lineTo(N,O+H);H!==0&&I.quadraticCurveTo(N,O,N+H,O)},buildPath:function(E,D){if(!D.radius){E.moveTo(D.x,D.y);E.lineTo(D.x+D.width,D.y);E.lineTo(D.x+D.width,D.y+D.height);E.lineTo(D.x,D.y+D.height);E.lineTo(D.x,D.y)}else{this._buildRadiusPath(E,D)}E.closePath();return},getRect:function(D){if(D.__rect){return D.__rect}var E;if(D.brushType=="stroke"||D.brushType=="fill"){E=D.lineWidth||1}else{E=0}D.__rect={x:Math.round(D.x-E/2),y:Math.round(D.y-E/2),width:D.width+E,height:D.height+E};return D.__rect}};B("../tool/util").inherits(A,C);return A});define("zrender/loadingEffect/Base",["require","../tool/util","../shape/Text","../shape/Rectangle"],function(C){var B=C("../tool/util");var D=C("../shape/Text");var F=C("../shape/Rectangle");var G="Loading...";var A="normal 16px Arial";function E(H){this.setOptions(H)}E.prototype.createTextShape=function(H){return new D({highlightStyle:B.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:G,textAlign:"center",textBaseline:"middle",textFont:A,color:"#333",brushType:"fill"},H,true)})};E.prototype.createBackgroundShape=function(H){return new F({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:H}})};E.prototype.start=function(J){this.canvasWidth=J._width;this.canvasHeight=J._height;function I(K){J.storage.addHover(K)}function H(){J.refreshHover()}this.loadingTimer=this._start(I,H)};E.prototype._start=function(){return setInterval(function(){},10000)};E.prototype.stop=function(){clearInterval(this.loadingTimer)};E.prototype.setOptions=function(H){this.options=H||{}};E.prototype.adjust=function(H,I){if(H<=I[0]){H=I[0]}else{if(H>=I[1]){H=I[1]}}return H};E.prototype.getLocation=function(L,I,H){var J=L.x!=null?L.x:"center";switch(J){case"center":J=Math.floor((this.canvasWidth-I)/2);break;case"left":J=0;break;case"right":J=this.canvasWidth-I;break}var K=L.y!=null?L.y:"center";switch(K){case"center":K=Math.floor((this.canvasHeight-H)/2);break;case"top":K=0;break;case"bottom":K=this.canvasHeight-H;break}return{x:J,y:K,width:I,height:H}};return E});define("zrender/shape/Image",["require","./Base","../tool/util"],function(B){var E=[];var A;var C=B("./Base");var D=function(F){C.call(this,F);this._imageCache={}};D.prototype={type:"image",brush:function(J,S,H){var K=this.style||{};if(S){K=this.getHighlightStyle(K,this.highlightStyle||{})}var R=K.image;var O=this;if(typeof(R)==="string"){var F=R;if(this._imageCache[F]){R=this._imageCache[F]}else{R=new Image();R.onload=function(){R.onload=null;clearTimeout(A);E.push(O);A=setTimeout(function(){H&&H(E);E=[]},10)};R.src=F;this._imageCache[F]=R}}if(R){if(R.nodeName.toUpperCase()=="IMG"){if(window.ActiveXObject){if(R.readyState!="complete"){return}}else{if(!R.complete){return}}}var N=K.width||R.width;var T=K.height||R.height;var P=K.x;var Q=K.y;if(!R.width||!R.height){return}J.save();this.setContext(J,K);this.setTransform(J);if(K.sWidth&&K.sHeight){var M=K.sx||0;var L=K.sy||0;J.drawImage(R,M,L,K.sWidth,K.sHeight,P,Q,N,T)}else{if(K.sx&&K.sy){var M=K.sx;var L=K.sy;var G=N-M;var I=T-L;J.drawImage(R,M,L,G,I,P,Q,N,T)}else{J.drawImage(R,P,Q,N,T)}}if(!K.width){K.width=N}if(!K.height){K.height=T}if(!this.style.width){this.style.width=N}if(!this.style.height){this.style.height=T}this.drawText(J,K,this.style);J.restore()}},getRect:function(F){return{x:F.x,y:F.y,width:F.width,height:F.height}},clearCache:function(){this._imageCache={}}};B("../tool/util").inherits(D,C);return D});define("zrender/Painter",["require","./config","./tool/util","./tool/log","./tool/matrix","./loadingEffect/Base","./mixin/Transformable","./shape/Image"],function(E){var A=E("./config");var L=E("./tool/util");var N=E("./tool/log");var F=E("./tool/matrix");var J=E("./loadingEffect/Base");var B=E("./mixin/Transformable");var H=window.devicePixelRatio||1;H=Math.max(H,1);var I=window["G_vmlCanvasManager"];function K(){return false}function M(){}var C=function(Q,O){this.root=Q;this.storage=O;Q.innerHTML="";this._width=this._getWidth();this._height=this._getHeight();var R=document.createElement("div");this._domRoot=R;R.style.position="relative";R.style.overflow="hidden";R.style.width=this._width+"px";R.style.height=this._height+"px";Q.appendChild(R);this._layers={};this._layerConfig={};this._loadingEffect=new J({});this.shapeToImage=this._createShapeToImageProcessor();this._bgDom=G("bg","div",this);R.appendChild(this._bgDom);this._bgDom.onselectstart=K;this._bgDom.style["-webkit-user-select"]="none";this._bgDom.style["user-select"]="none";var S=new D("_zrender_hover_",this);this._layers["hover"]=S;R.appendChild(S.dom);S.initContext();S.dom.onselectstart=K;S.dom.style["-webkit-user-select"]="none";S.dom.style["user-select"]="none";var P=this;this.updatePainter=function(U,T){P.refreshShapes(U,T)}};C.prototype.render=function(O){if(this.isLoading()){this.hideLoading()}this.refresh(O,true);return this};C.prototype.refresh=function(O,P){var Q=this.storage.getShapeList(true);this._paintList(Q,P);if(typeof O=="function"){O()}return this};C.prototype._paintList=function(Q,T){if(typeof(T)=="undefined"){T=false}this._updateLayerStatus(Q);var Y;var a;var U;for(var X in this._layers){if(X!=="hover"){this._layers[X].unusedCount++;this._layers[X].updateTransform()}}var O=[];for(var W=0,Z=Q.length;W<Z;W++){var R=Q[W];if(a!==R.zlevel){if(Y&&Y.needTransform){U.restore()}Y=this.getLayer(R.zlevel,Y);U=Y.ctx;a=R.zlevel;Y.unusedCount=0;if(Y.dirty||T){Y.clear()}if(Y.needTransform){U.save();Y.setTransform(U)}}if(R.__startClip&&!I){var S=R.__startClip;U.save();if(S.needTransform){var b=S.transform;F.invert(O,b);U.transform(b[0],b[1],b[2],b[3],b[4],b[5])}U.beginPath();S.buildPath(U,S.style);U.clip();if(S.needTransform){var b=O;U.transform(b[0],b[1],b[2],b[3],b[4],b[5])}}if((Y.dirty||T)&&!R.invisible){if(!R.onbrush||(R.onbrush&&!R.onbrush(U,false))){if(A.catchBrushException){try{R.brush(U,false,this.updatePainter)}catch(P){N(P,"brush error of "+R.type,R)}}else{R.brush(U,false,this.updatePainter)}}}if(R.__stopClip&&!I){U.restore()}R.__dirty=false}if(Y&&Y.needTransform){U.restore()}for(var X in this._layers){if(X!=="hover"){var V=this._layers[X];V.dirty=false;if(V.unusedCount==1){V.clear()}}}};C.prototype.getLayer=function(Q,P){var O=this._layers[Q];if(!O){O=new D(Q,this);var R=P?P.dom:this._bgDom;if(R.nextSibling){R.parentNode.insertBefore(O.dom,R.nextSibling)}else{R.parentNode.appendChild(O.dom)}O.initContext();this._layers[Q]=O;if(this._layerConfig[Q]){L.merge(O,this._layerConfig[Q],true)}O.updateTransform()}return O};C.prototype.getLayers=function(){return this._layers};C.prototype._updateLayerStatus=function(P){var W=this._layers;var V={};for(var U in W){if(U!=="hover"){V[U]=W[U].elCount;W[U].elCount=0}}for(var R=0,T=P.length;R<T;R++){var Q=P[R];var O=Q.zlevel;var S=W[O];if(S){S.elCount++;if(S.dirty){continue}S.dirty=Q.__dirty}}for(var U in W){if(U!=="hover"){if(V[U]!==W[U].elCount){W[U].dirty=true}}}};C.prototype.refreshShapes=function(R,O){for(var P=0,Q=R.length;P<Q;P++){var S=R[P];this.storage.mod(S.id)}this.refresh(O);return this};C.prototype.setLoadingEffect=function(O){this._loadingEffect=O;return this};C.prototype.clear=function(){for(var O in this._layers){if(O=="hover"){continue}this._layers[O].clear()}return this};C.prototype.modLayer=function(Q,P){if(P){if(!this._layerConfig[Q]){this._layerConfig[Q]=P}else{L.merge(this._layerConfig[Q],P,true)}var O=this._layers[Q];if(O){L.merge(O,this._layerConfig[Q],true)}}};C.prototype.delLayer=function(P){var O=this._layers[P];if(!O){return}this.modLayer(P,{position:O.position,rotation:O.rotation,scale:O.scale});O.dom.parentNode.removeChild(O.dom);delete this._layers[P]};C.prototype.refreshHover=function(){this.clearHover();var Q=this.storage.getHoverShapes(true);for(var O=0,P=Q.length;O<P;O++){this._brushHover(Q[O])}this.storage.delHover();return this};C.prototype.clearHover=function(){var O=this._layers.hover;O&&O.clear();return this};C.prototype.showLoading=function(O){this._loadingEffect&&this._loadingEffect.stop();O&&this.setLoadingEffect(O);this._loadingEffect.start(this);this.loading=true;return this};C.prototype.hideLoading=function(){this._loadingEffect.stop();this.clearHover();this.loading=false;return this};C.prototype.isLoading=function(){return this.loading};C.prototype.resize=function(){var P=this._domRoot;P.style.display="none";var Q=this._getWidth();var O=this._getHeight();P.style.display="";if(this._width!=Q||O!=this._height){this._width=Q;this._height=O;P.style.width=Q+"px";P.style.height=O+"px";for(var R in this._layers){this._layers[R].resize(Q,O)}this.refresh(null,true)}return this};C.prototype.clearLayer=function(P){var O=this._layers[P];if(O){O.clear()}};C.prototype.dispose=function(){if(this.isLoading()){this.hideLoading()}this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null};C.prototype.getDomHover=function(){return this._layers.hover.dom};C.prototype.toDataURL=function(O,P,U){if(I){return null}var T=G("image","canvas",this);this._bgDom.appendChild(T);var R=T.getContext("2d");H!=1&&R.scale(H,H);R.fillStyle=P||"#fff";R.rect(0,0,this._width*H,this._height*H);R.fill();var Q=this;this.storage.iterShape(function(W){if(!W.invisible){if(!W.onbrush||(W.onbrush&&!W.onbrush(R,false))){if(A.catchBrushException){try{W.brush(R,false,Q.updatePainter)}catch(V){N(V,"brush error of "+W.type,W)}}else{W.brush(R,false,Q.updatePainter)}}}},{normal:"up",update:true});var S=T.toDataURL(O,U);R=null;this._bgDom.removeChild(T);return S};C.prototype.getWidth=function(){return this._width};C.prototype.getHeight=function(){return this._height};C.prototype._getWidth=function(){var O=this.root;var P=O.currentStyle||document.defaultView.getComputedStyle(O);return((O.clientWidth||parseInt(P.width,10))-parseInt(P.paddingLeft,10)-parseInt(P.paddingRight,10)).toFixed(0)-0};C.prototype._getHeight=function(){var O=this.root;var P=O.currentStyle||document.defaultView.getComputedStyle(O);return((O.clientHeight||parseInt(P.height,10))-parseInt(P.paddingTop,10)-parseInt(P.paddingBottom,10)).toFixed(0)-0};C.prototype._brushHover=function(R){var Q=this._layers.hover.ctx;if(!R.onbrush||(R.onbrush&&!R.onbrush(Q,true))){var P=this.getLayer(R.zlevel);if(P.needTransform){Q.save();P.setTransform(Q)}if(A.catchBrushException){try{R.brush(Q,true,this.updatePainter)}catch(O){N(O,"hoverBrush error of "+R.type,R)}}else{R.brush(Q,true,this.updatePainter)}if(P.needTransform){Q.restore()}}};C.prototype._shapeToImage=function(U,R,Q,P,S){var O=document.createElement("canvas");var T=O.getContext("2d");var S=window.devicePixelRatio||1;O.style.width=Q+"px";O.style.height=P+"px";O.setAttribute("width",Q*S);O.setAttribute("height",P*S);T.clearRect(0,0,Q*S,P*S);var V={position:R.position,rotation:R.rotation,scale:R.scale};R.position=[0,0,0];R.rotation=0;R.scale=[1,1];if(R){R.brush(T,false)}var W=E("./shape/Image");var X=new W({id:U,style:{x:0,y:0,image:O}});if(V.position!=null){X.position=R.position=V.position}if(V.rotation!=null){X.rotation=R.rotation=V.rotation}if(V.scale!=null){X.scale=R.scale=V.scale}return X};C.prototype._createShapeToImageProcessor=function(){if(I){return M}var O=this;return function(S,Q,R,P){return O._shapeToImage(S,Q,R,P,H)}};function G(T,O,Q){var S=document.createElement(O);var R=Q._width;var P=Q._height;S.style.position="absolute";S.style.left=0;S.style.top=0;S.style.width=R+"px";S.style.height=P+"px";S.setAttribute("width",R*H);S.setAttribute("height",P*H);S.setAttribute("data-zr-dom-id",T);return S}var D=function(P,O){this.dom=G(P,"canvas",O);this.dom.onselectstart=K;this.dom.style["-webkit-user-select"]="none";this.dom.style["user-select"]="none";I&&I.initElement(this.dom);this.domBack=null;this.ctxBack=null;this.painter=O;this.unusedCount=0;this.config=null;this.dirty=true;this.elCount=0;this.clearColor=0;this.motionBlur=false;this.lastFrameAlpha=0.7;this.zoomable=false;this.panable=false;this.maxZoom=Infinity;this.minZoom=0;B.call(this)};D.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");if(H!=1){this.ctx.scale(H,H)}};D.prototype.createBackBuffer=function(){if(I){return}this.domBack=G("back-"+this.id,"canvas",this.painter);this.ctxBack=this.domBack.getContext("2d");if(H!=1){this.ctxBack.scale(H,H)}};D.prototype.resize=function(P,O){this.dom.style.width=P+"px";this.dom.style.height=O+"px";this.dom.setAttribute("width",P*H);this.dom.setAttribute("height",O*H);if(H!=1){this.ctx.scale(H,H)}if(this.domBack){this.domBack.setAttribute("width",P*H);this.domBack.setAttribute("height",O*H);if(H!=1){this.ctxBack.scale(H,H)}}};D.prototype.clear=function(){var P=this.dom;var R=this.ctx;var T=P.width;var O=P.height;var V=this.clearColor&&!I;var Q=this.motionBlur&&!I;var S=this.lastFrameAlpha;if(Q){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(P,0,0,T/H,O/H)}if(V){R.save();R.fillStyle=this.config.clearColor;R.fillRect(0,0,T/H,O/H);R.restore()}else{R.clearRect(0,0,T/H,O/H)}if(Q){var U=this.domBack;R.save();R.globalAlpha=S;R.drawImage(U,0,0,T/H,O/H);R.restore()}};L.merge(D.prototype,B.prototype);return C});define("zrender/Group",["require","./tool/guid","./tool/util","./mixin/Transformable","./mixin/Eventful"],function(D){var A=D("./tool/guid");var B=D("./tool/util");var C=D("./mixin/Transformable");var F=D("./mixin/Eventful");var E=function(H){H=H||{};this.id=H.id||A();for(var G in H){this[G]=H[G]}this.type="group";this.clipShape=null;this._children=[];this._storage=null;this.__dirty=true;C.call(this);F.call(this)};E.prototype.ignore=false;E.prototype.children=function(){return this._children.slice()};E.prototype.childAt=function(G){return this._children[G]};E.prototype.addChild=function(G){if(G==this){return}if(G.parent==this){return}if(G.parent){G.parent.removeChild(G)}this._children.push(G);G.parent=this;if(this._storage&&this._storage!==G._storage){this._storage.addToMap(G);if(G instanceof E){G.addChildrenToStorage(this._storage)}}};E.prototype.removeChild=function(G){var H=B.indexOf(this._children,G);this._children.splice(H,1);G.parent=null;if(G._storage){this._storage.delFromMap(G.id);if(G instanceof E){G.delChildrenFromStorage(G._storage)}}};E.prototype.eachChild=function(G,H){var J=!!H;for(var I=0;I<this._children.length;I++){var K=this._children[I];if(J){G.call(H,K)}else{G(K)}}};E.prototype.traverse=function(G,H){var J=!!H;for(var I=0;I<this._children.length;I++){var K=this._children[I];if(J){G.call(H,K)}else{G(K)}if(K.type==="group"){K.traverse(G,H)}}};E.prototype.addChildrenToStorage=function(G){for(var H=0;H<this._children.length;H++){var I=this._children[H];G.addToMap(I);if(I.type==="group"){I.addChildrenToStorage(G)}}};E.prototype.delChildrenFromStorage=function(G){for(var H=0;H<this._children.length;H++){var I=this._children[H];G.delFromMap(I.id);if(I.type==="group"){I.delChildrenFromStorage(G)}}};E.prototype.modSelf=function(){this.__dirty=true};B.merge(E.prototype,C.prototype,true);B.merge(E.prototype,F.prototype,true);return E});define("zrender/Storage",["require","./tool/util","./Group"],function(D){var B=D("./tool/util");var E=D("./Group");var A={hover:false,normal:"down",update:false};function C(H,G){if(H.zlevel==G.zlevel){if(H.z==G.z){return H.__renderidx-G.__renderidx}return H.z-G.z}return H.zlevel-G.zlevel}var F=function(){this._elements={};this._hoverElements=[];this._roots=[];this._shapeList=[];this._shapeListOffset=0};F.prototype.iterShape=function(I,H){if(!H){H=A}if(H.hover){for(var J=0,K=this._hoverElements.length;J<K;J++){var G=this._hoverElements[J];G.updateTransform();if(I(G)){return this}}}if(H.update){this.updateShapeList()}switch(H.normal){case"down":var K=this._shapeList.length;while(K--){if(I(this._shapeList[K])){return this}}break;default:for(var J=0,K=this._shapeList.length;J<K;J++){if(I(this._shapeList[J])){return this}}break}return this};F.prototype.getHoverShapes=function(H){if(H){for(var G=0,I=this._hoverElements.length;G<I;G++){this._hoverElements[G].updateTransform()}}return this._hoverElements};F.prototype.getShapeList=function(G){if(G){this.updateShapeList()}return this._shapeList};F.prototype.updateShapeList=function(){this._shapeListOffset=0;for(var G=0,I=this._roots.length;G<I;G++){var H=this._roots[G];this._updateAndAddShape(H)}this._shapeList.length=this._shapeListOffset;for(var G=0,I=this._shapeList.length;G<I;G++){this._shapeList[G].__renderidx=G}this._shapeList.sort(C)};F.prototype._updateAndAddShape=function(G){if(G.ignore){return}G.updateTransform();if(G.type=="group"){if(G.clipShape){G.clipShape.parent=G;G.clipShape.updateTransform();var K=G._children[0];if(K){K.__startClip=G.clipShape}}for(var H=0;H<G._children.length;H++){var J=G._children[H];J.__dirty=G.__dirty||J.__dirty;this._updateAndAddShape(J)}if(G.clipShape){var I=this._shapeList[this._shapeListOffset-1];if(I){I.__stopClip=true}}G.__dirty=false}else{this._shapeList[this._shapeListOffset++]=G}};F.prototype.mod=function(J,K){var G=this._elements[J];if(G){G.modSelf();if(K){if(K.parent||K._storage||K.__startClip){var I={};for(var H in K){if(H=="parent"||H=="_storage"||H=="__startClip"){continue}if(K.hasOwnProperty(H)){I[H]=K[H]}}B.merge(G,I,true)}else{B.merge(G,K,true)}}}return this};F.prototype.drift=function(G,H,I){var J=this._elements[G];if(J){J.needTransform=true;if(!J.ondrift||(J.ondrift&&!J.ondrift(H,I))){J.drift(H,I)}}return this};F.prototype.addHover=function(G){G.updateNeedTransform();this._hoverElements.push(G);return this};F.prototype.delHover=function(){this._hoverElements=[];return this};F.prototype.hasHoverShape=function(){return this._hoverElements.length>0};F.prototype.addRoot=function(G){if(G instanceof E){G.addChildrenToStorage(this)}this.addToMap(G);this._roots.push(G)};F.prototype.delRoot=function(L){if(typeof(L)=="undefined"){for(var H=0;H<this._roots.length;H++){var I=this._roots[H];if(I instanceof E){I.delChildrenFromStorage(this)}}this._elements={};this._hoverElements=[];this._roots=[];return}if(L instanceof Array){for(var H=0,J=L.length;H<J;H++){this.delRoot(L[H])}return}var G;if(typeof(L)=="string"){G=this._elements[L]}else{G=L}var K=B.indexOf(this._roots,G);if(K>=0){this.delFromMap(G.id);this._roots.splice(K,1);if(G instanceof E){G.delChildrenFromStorage(this)}}};F.prototype.addToMap=function(G){if(G instanceof E){G._storage=this}G.modSelf();this._elements[G.id]=G;return this};F.prototype.get=function(G){return this._elements[G]};F.prototype.delFromMap=function(H){var G=this._elements[H];if(G){delete this._elements[H];if(G instanceof E){G._storage=null}}return this};F.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null};return F});define("zrender/animation/easing",[],function(){var A={Linear:function(B){return B},QuadraticIn:function(B){return B*B},QuadraticOut:function(B){return B*(2-B)},QuadraticInOut:function(B){if((B*=2)<1){return 0.5*B*B}return -0.5*(--B*(B-2)-1)},CubicIn:function(B){return B*B*B},CubicOut:function(B){return --B*B*B+1},CubicInOut:function(B){if((B*=2)<1){return 0.5*B*B*B}return 0.5*((B-=2)*B*B+2)},QuarticIn:function(B){return B*B*B*B},QuarticOut:function(B){return 1-(--B*B*B*B)},QuarticInOut:function(B){if((B*=2)<1){return 0.5*B*B*B*B}return -0.5*((B-=2)*B*B*B-2)},QuinticIn:function(B){return B*B*B*B*B},QuinticOut:function(B){return --B*B*B*B*B+1},QuinticInOut:function(B){if((B*=2)<1){return 0.5*B*B*B*B*B}return 0.5*((B-=2)*B*B*B*B+2)},SinusoidalIn:function(B){return 1-Math.cos(B*Math.PI/2)},SinusoidalOut:function(B){return Math.sin(B*Math.PI/2)},SinusoidalInOut:function(B){return 0.5*(1-Math.cos(Math.PI*B))},ExponentialIn:function(B){return B===0?0:Math.pow(1024,B-1)},ExponentialOut:function(B){return B===1?1:1-Math.pow(2,-10*B)},ExponentialInOut:function(B){if(B===0){return 0}if(B===1){return 1}if((B*=2)<1){return 0.5*Math.pow(1024,B-1)}return 0.5*(-Math.pow(2,-10*(B-1))+2)},CircularIn:function(B){return 1-Math.sqrt(1-B*B)},CircularOut:function(B){return Math.sqrt(1-(--B*B))},CircularInOut:function(B){if((B*=2)<1){return -0.5*(Math.sqrt(1-B*B)-1)}return 0.5*(Math.sqrt(1-(B-=2)*B)+1)},ElasticIn:function(E){var B;var D=0.1;var C=0.4;if(E===0){return 0}if(E===1){return 1}if(!D||D<1){D=1;B=C/4}else{B=C*Math.asin(1/D)/(2*Math.PI)}return -(D*Math.pow(2,10*(E-=1))*Math.sin((E-B)*(2*Math.PI)/C))},ElasticOut:function(E){var B;var D=0.1;var C=0.4;if(E===0){return 0}if(E===1){return 1}if(!D||D<1){D=1;B=C/4}else{B=C*Math.asin(1/D)/(2*Math.PI)}return(D*Math.pow(2,-10*E)*Math.sin((E-B)*(2*Math.PI)/C)+1)},ElasticInOut:function(E){var B;var D=0.1;var C=0.4;if(E===0){return 0}if(E===1){return 1}if(!D||D<1){D=1;B=C/4}else{B=C*Math.asin(1/D)/(2*Math.PI)}if((E*=2)<1){return -0.5*(D*Math.pow(2,10*(E-=1))*Math.sin((E-B)*(2*Math.PI)/C))}return D*Math.pow(2,-10*(E-=1))*Math.sin((E-B)*(2*Math.PI)/C)*0.5+1},BackIn:function(C){var B=1.70158;return C*C*((B+1)*C-B)},BackOut:function(C){var B=1.70158;return --C*C*((B+1)*C+B)+1},BackInOut:function(C){var B=1.70158*1.525;if((C*=2)<1){return 0.5*(C*C*((B+1)*C-B))}return 0.5*((C-=2)*C*((B+1)*C+B)+2)},BounceIn:function(B){return 1-A.BounceOut(1-B)},BounceOut:function(B){if(B<(1/2.75)){return 7.5625*B*B}else{if(B<(2/2.75)){return 7.5625*(B-=(1.5/2.75))*B+0.75}else{if(B<(2.5/2.75)){return 7.5625*(B-=(2.25/2.75))*B+0.9375}else{return 7.5625*(B-=(2.625/2.75))*B+0.984375}}}},BounceInOut:function(B){if(B<0.5){return A.BounceIn(B*2)*0.5}return A.BounceOut(B*2-1)*0.5+0.5}};return A});define("zrender/animation/Clip",["require","./easing"],function(A){var C=A("./easing");function B(D){this._targetPool=D.target||{};if(!(this._targetPool instanceof Array)){this._targetPool=[this._targetPool]}this._life=D.life||1000;this._delay=D.delay||0;this._startTime=new Date().getTime()+this._delay;this._endTime=this._startTime+this._life*1000;this.loop=typeof D.loop=="undefined"?false:D.loop;this.gap=D.gap||0;this.easing=D.easing||"Linear";this.onframe=D.onframe;this.ondestroy=D.ondestroy;this.onrestart=D.onrestart}B.prototype={step:function(F){var D=(F-this._startTime)/this._life;if(D<0){return}D=Math.min(D,1);var E=typeof this.easing=="string"?C[this.easing]:this.easing;var G=typeof E==="function"?E(D):D;this.fire("frame",G);if(D==1){if(this.loop){this.restart();return"restart"}this._needsRemove=true;return"destroy"}return null},restart:function(){var E=new Date().getTime();var D=(E-this._startTime)%this._life;this._startTime=new Date().getTime()-D+this.gap},fire:function(E,F){for(var D=0,G=this._targetPool.length;D<G;D++){if(this["on"+E]){this["on"+E](this._targetPool[D],F)}}},constructor:B};return B});define("zrender/animation/Animation",["require","./Clip","../tool/color","../tool/util","../tool/event"],function(Q){var O=Q("./Clip");var B=Q("../tool/color");var L=Q("../tool/util");var R=Q("../tool/event").Dispatcher;var H=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(S){setTimeout(S,16)};var M=Array.prototype.slice;var F=function(S){S=S||{};this.stage=S.stage||{};this.onframe=S.onframe||function(){};this._clips=[];this._running=false;this._time=0;R.call(this)};F.prototype={add:function(S){this._clips.push(S)},remove:function(S){var T=L.indexOf(this._clips,S);if(T>=0){this._clips.splice(T,1)}},_update:function(){var T=new Date().getTime();var Z=T-this._time;var X=this._clips;var Y=X.length;var U=[];var V=[];for(var W=0;W<Y;W++){var a=X[W];var S=a.step(T);if(S){U.push(S);V.push(a)}}if(this.stage.update){this.stage.update()}for(var W=0;W<Y;){if(X[W]._needsRemove){X[W]=X[Y-1];X.pop();Y--}else{W++}}Y=U.length;for(var W=0;W<Y;W++){V[W].fire(U[W])}this._time=T;this.onframe(Z);this.dispatch("frame",Z)},start:function(){var T=this;this._running=true;function S(){if(T._running){T._update();H(S)}}this._time=new Date().getTime();H(S)},stop:function(){this._running=false},clear:function(){this._clips=[]},animate:function(U,S){S=S||{};var T=new N(U,S.loop,S.getter,S.setter);T.animation=this;return T},constructor:F};L.merge(F.prototype,R.prototype,true);function P(T,S){return T[S]}function E(U,S,T){U[S]=T}function I(T,U,S){return(U-T)*S+T}function J(Y,X,V,T,a){var Z=Y.length;if(a==1){for(var W=0;W<Z;W++){T[W]=I(Y[W],X[W],V)}}else{var S=Y[0].length;for(var W=0;W<Z;W++){for(var U=0;U<S;U++){T[W][U]=I(Y[W][U],X[W][U],V)}}}}function G(S){switch(typeof S){case"undefined":case"string":return false}return typeof S.length!=="undefined"}function A(X,T,a,Z,V,d,b,U,e){var c=X.length;if(e==1){for(var Y=0;Y<c;Y++){U[Y]=K(X[Y],T[Y],a[Y],Z[Y],V,d,b)}}else{var S=X[0].length;for(var Y=0;Y<c;Y++){for(var W=0;W<S;W++){U[Y][W]=K(X[Y][W],T[Y][W],a[Y][W],Z[Y][W],V,d,b)}}}}function K(U,S,X,V,T,a,Y){var Z=(X-U)*0.5;var W=(V-S)*0.5;return(2*(S-X)+Z+W)*Y+(-3*(S-X)-2*Z-W)*a+Z*T+S}function D(U){if(G(U)){var T=U.length;if(G(U[0])){var V=[];for(var S=0;S<T;S++){V.push(M.call(U[S]))}return V}else{return M.call(U)}}else{return U}}function C(S){S[0]=Math.floor(S[0]);S[1]=Math.floor(S[1]);S[2]=Math.floor(S[2]);return"rgba("+S.join(",")+")"}var N=function(U,S,T,V){this._tracks={};this._target=U;this._loop=S||false;this._getter=T||P;this._setter=V||E;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};N.prototype={when:function(S,T){for(var U in T){if(!this._tracks[U]){this._tracks[U]=[];if(S!==0){this._tracks[U].push({time:0,value:D(this._getter(this._target,U))})}}this._tracks[U].push({time:parseInt(S,10),value:T[U]})}return this},during:function(S){this._onframeList.push(S);return this},start:function(X){var Z=this;var V=this._setter;var Y=this._getter;var W=Z._onframeList.length;var a=X==="spline";var U=function(){Z._clipCount--;if(Z._clipCount===0){Z._tracks={};var c=Z._doneList.length;for(var b=0;b<c;b++){Z._doneList[b].call(Z)}}};var T=function(t,b){var f=t.length;if(!f){return}var s=t[0].value;var k=G(s);var z=false;var e=(k&&G(s[0]))?2:1;t.sort(function(w,i){return w.time-i.time});var j;if(f){j=t[f-1].time}else{return}var r=[];var u=[];for(var g=0;g<f;g++){r.push(t[g].time/j);var v=t[g].value;if(typeof(v)=="string"){v=B.toArray(v);if(v.length===0){v[0]=v[1]=v[2]=0;v[3]=1}z=true}u.push(v)}var x=0;var d=0;var y;var g;var c;var l;var h;var p;var o;if(z){var n=[0,0,0,0]}var q=function(Aa,i){if(i<d){y=Math.min(x+1,f-1);for(g=y;g>=0;g--){if(r[g]<=i){break}}g=Math.min(g,f-2)}else{for(g=x;g<f;g++){if(r[g]>i){break}}g=Math.min(g-1,f-2)}x=g;d=i;var Ab=(r[g+1]-r[g]);if(Ab===0){return}else{c=(i-r[g])/Ab}if(a){h=u[g];l=u[g===0?g:g-1];p=u[g>f-2?f-1:g+1];o=u[g>f-3?f-1:g+2];if(k){A(l,h,p,o,c,c*c,c*c*c,Y(Aa,b),e)}else{var w;if(z){w=A(l,h,p,o,c,c*c,c*c*c,n,1);w=C(n)}else{w=K(l,h,p,o,c,c*c,c*c*c)}V(Aa,b,w)}}else{if(k){J(u[g],u[g+1],c,Y(Aa,b),e)}else{var w;if(z){J(u[g],u[g+1],c,n,1);w=C(n)}else{w=I(u[g],u[g+1],c)}V(Aa,b,w)}}for(g=0;g<W;g++){Z._onframeList[g](Aa,i)}};var m=new O({target:Z._target,life:j,loop:Z._loop,delay:Z._delay,onframe:q,ondestroy:U});if(X&&X!=="spline"){m.easing=X}Z._clipList.push(m);Z._clipCount++;Z.animation.add(m)};for(var S in this._tracks){T(this._tracks[S],S)}return this},stop:function(){for(var S=0;S<this._clipList.length;S++){var T=this._clipList[S];this.animation.remove(T)}this._clipList=[]},delay:function(S){this._delay=S;return this},done:function(S){this._doneList.push(S);return this}};return F});
/*
 * ZRender, a high performance canvas library.
 *  
 * Copyright (c) 2013, Baidu Inc.
 * All rights reserved.
 * 
 * LICENSE
 * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
 */
define("zrender/zrender",["require","./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(E){E("./dep/excanvas");var I=E("./tool/util");var L=E("./tool/log");var F=E("./tool/guid");var A=E("./Handler");var K=E("./Painter");var B=E("./Storage");var D=E("./animation/Animation");var H={};var C={};C.version="2.0.4";C.init=function(M){var N=new G(F(),M);H[N.id]=N;return N};C.dispose=function(N){if(N){N.dispose()}else{for(var M in H){H[M].dispose()}H={}}return C};C.getInstance=function(M){return H[M]};C.delInstance=function(M){delete H[M];return C};function J(M){return function(){var O=M.animatingElements;for(var N=0,P=O.length;N<P;N++){M.storage.mod(O[N].id)}if(O.length||M._needsRefreshNextFrame){M.refresh()}}}var G=function(N,M){this.id=N;this.env=E("./tool/env");this.storage=new B();this.painter=new K(M,this.storage);this.handler=new A(M,this.storage,this.painter);this.animatingElements=[];this.animation=new D({stage:{update:J(this)}});this.animation.start();this._needsRefreshNextFrame=false};G.prototype.getId=function(){return this.id};G.prototype.addShape=function(M){this.storage.addRoot(M);return this};G.prototype.addGroup=function(M){this.storage.addRoot(M);return this};G.prototype.delShape=function(M){this.storage.delRoot(M);return this};G.prototype.delGroup=function(M){this.storage.delRoot(M);return this};G.prototype.modShape=function(M,N){this.storage.mod(M,N);return this};G.prototype.modGroup=function(N,M){this.storage.mod(N,M);return this};G.prototype.modLayer=function(N,M){this.painter.modLayer(N,M);return this};G.prototype.addHoverShape=function(M){this.storage.addHover(M);return this};G.prototype.render=function(M){this.painter.render(M);this._needsRefreshNextFrame=false;return this};G.prototype.refresh=function(M){this.painter.refresh(M);this._needsRefreshNextFrame=false;return this};G.prototype.refreshNextFrame=function(){this._needsRefreshNextFrame=true;return this};G.prototype.refreshHover=function(M){this.painter.refreshHover(M);return this};G.prototype.refreshShapes=function(N,M){this.painter.refreshShapes(N,M);return this};G.prototype.resize=function(){this.painter.resize();return this};G.prototype.animate=function(P,S,U){if(typeof(P)==="string"){P=this.storage.get(P)}if(P){var T;if(S){var M=S.split(".");var O=P;for(var Q=0,R=M.length;Q<R;Q++){if(!O){continue}O=O[M[Q]]}if(O){T=O}}else{T=P}if(!T){L('Property "'+S+'" is not existed in element '+P.id);return}var N=this.animatingElements;if(typeof P.__aniCount==="undefined"){P.__aniCount=0}if(P.__aniCount===0){N.push(P)}P.__aniCount++;return this.animation.animate(T,{loop:U}).done(function(){P.__aniCount--;if(P.__aniCount===0){var V=I.indexOf(N,P);N.splice(V,1)}})}else{L("Element not existed")}};G.prototype.clearAnimation=function(){this.animation.clear()};G.prototype.showLoading=function(M){this.painter.showLoading(M);return this};G.prototype.hideLoading=function(){this.painter.hideLoading();return this};G.prototype.getWidth=function(){return this.painter.getWidth()};G.prototype.getHeight=function(){return this.painter.getHeight()};G.prototype.toDataURL=function(M,N,O){return this.painter.toDataURL(M,N,O)};G.prototype.shapeToImage=function(N,O,M){var P=F();return this.painter.shapeToImage(P,N,O,M)};G.prototype.on=function(M,N){this.handler.on(M,N);return this};G.prototype.un=function(M,N){this.handler.un(M,N);return this};G.prototype.trigger=function(M,N){this.handler.trigger(M,N);return this};G.prototype.clear=function(){this.storage.delRoot();this.painter.clear();return this};G.prototype.dispose=function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.animatingElements=this.storage=this.painter=this.handler=null;C.delInstance(this.id)};return C});define("zrender",["zrender/zrender"],function(A){return A});define("echarts/util/ecQuery",["zrender/tool/util"],function(){var A=require("zrender/tool/util");function C(G,F){if(typeof G=="undefined"){return}if(!F){return G}F=F.split(".");var E=F.length;var H=0;while(H<E){G=G[F[H]];if(typeof G=="undefined"){return}H++}return G}function D(F,G){var I;for(var E=0,H=F.length;E<H;E++){I=C(F[E],G);if(typeof I!="undefined"){return I}}}function B(F,G){var I;var H=F.length;while(H--){var E=C(F[H],G);if(typeof E!="undefined"){if(typeof I=="undefined"){I=A.clone(E)}else{A.merge(I,E,true)}}}return I}return{query:C,deepQuery:D,deepMerge:B}});define("echarts/util/number",[],function(){function B(F){return F.replace(/^\s+/,"").replace(/\s+$/,"")}function D(F,G){if(typeof F==="string"){if(B(F).match(/%$/)){return parseFloat(F)/100*G}return parseFloat(F)}return F}function C(F,G){return[D(G[0],F.getWidth()),D(G[1],F.getHeight())]}function A(F,G){if(!(G instanceof Array)){G=[0,G]}var H=Math.min(F.getWidth(),F.getHeight())/2;return[D(G[0],H),D(G[1],H)]}function E(F){if(isNaN(F)){return"-"}F=(F+"").split(".");return F[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(F.length>1?("."+F[1]):"")}return{parsePercent:D,parseCenter:C,parseRadius:A,addCommas:E}});define("echarts/component/base",["require","../config","../util/ecQuery","../util/number","zrender/tool/util","zrender/tool/env"],function(C){var D=C("../config");var F=C("../util/ecQuery");var B=C("../util/number");var A=C("zrender/tool/util");function E(G,I,H,J,K){this.ecTheme=G;this.messageCenter=I;this.zr=H;this.option=J;this.series=J.series;this.myChart=K;this.component=K.component;this._zlevelBase=this.getZlevelBase();this.shapeList=[];this.effectList=[];var L=this;L.hoverConnect=function(O){var Q=(O.target||{}).hoverConnect;if(Q){var P=10;var R;if(!(Q instanceof Array)){R=L.getShapeById(Q);if(R){L.zr.addHoverShape(R);P=Math.min(P,R.zlevel)}}else{for(var M=0,N=Q.length;M<N;M++){R=L.getShapeById(Q[M]);L.zr.addHoverShape(R);P=Math.min(P,R.zlevel)}}if(P<O.target.zlevel){L.zr.addHoverShape(O.target)}}}}E.prototype={canvasSupported:C("zrender/tool/env").canvasSupported,getZlevelBase:function(G){G=G||this.type+"";switch(G){case D.COMPONENT_TYPE_GRID:case D.COMPONENT_TYPE_AXIS_CATEGORY:case D.COMPONENT_TYPE_AXIS_VALUE:case D.COMPONENT_TYPE_POLAR:return 0;case D.CHART_TYPE_LINE:case D.CHART_TYPE_BAR:case D.CHART_TYPE_SCATTER:case D.CHART_TYPE_PIE:case D.CHART_TYPE_RADAR:case D.CHART_TYPE_MAP:case D.CHART_TYPE_K:case D.CHART_TYPE_CHORD:case D.CHART_TYPE_GUAGE:case D.CHART_TYPE_FUNNEL:return 2;case D.COMPONENT_TYPE_LEGEND:case D.COMPONENT_TYPE_DATARANGE:case D.COMPONENT_TYPE_DATAZOOM:case D.COMPONENT_TYPE_TIMELINE:case D.COMPONENT_TYPE_ROAMCONTROLLER:return 4;case D.CHART_TYPE_ISLAND:return 5;case D.COMPONENT_TYPE_TOOLBOX:case D.COMPONENT_TYPE_TITLE:return 6;case D.COMPONENT_TYPE_TOOLTIP:return 8;default:return 0}},reformOption:function(G){return A.merge(G||{},A.clone(this.ecTheme[this.type]||{}))},reformCssArray:function(G){if(G instanceof Array){switch(G.length+""){case"4":return G;case"3":return[G[0],G[1],G[2],G[1]];case"2":return[G[0],G[1],G[0],G[1]];case"1":return[G[0],G[0],G[0],G[0]];case"0":return[0,0,0,0]}}else{return[G,G,G,G]}},getShapeById:function(I){for(var G=0,H=this.shapeList.length;G<H;G++){if(this.shapeList[G].id===I){return this.shapeList[G]}}return null},getFont:function(H){var G=A.merge(A.clone(H)||{},this.ecTheme.textStyle);return G.fontStyle+" "+G.fontWeight+" "+G.fontSize+"px "+G.fontFamily},getItemStyleColor:function(I,H,G,J){return typeof I==="function"?I(H,G,J):I},subPixelOptimize:function(G,H){if(H%2===1){G=Math.floor(G)+0.5}else{G=Math.round(G)}return G},resize:function(){this.refresh&&this.refresh();this.clearEffectShape&&this.clearEffectShape(true);var G=this;setTimeout(function(){G.animationEffect&&G.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape();this.zr&&this.zr.delShape(this.shapeList);this.shapeList=[]},dispose:function(){this.clear();this.shapeList=null;this.effectList=null},query:F.query,deepQuery:F.deepQuery,deepMerge:F.deepMerge,parsePercent:B.parsePercent,parseCenter:B.parseCenter,parseRadius:B.parseRadius,numAddCommas:B.addCommas};return E});define("zrender/tool/math",[],function(){var C=Math.PI/180;function A(G,F){return Math.sin(F?G*C:G)}function B(G,F){return Math.cos(F?G*C:G)}function D(F){return F*C}function E(F){return F/C}return{sin:A,cos:B,degreeToRadian:D,radianToDegree:E}});define("zrender/shape/Star",["require","../tool/math","./Base","../tool/util"],function(D){var E=D("../tool/math");var A=E.sin;var C=E.cos;var F=Math.PI;var G=D("./Base");var B=function(H){G.call(this,H)};B.prototype={type:"star",buildPath:function(N,O){var R=O.n;if(!R||R<2){return}var S=O.x;var T=O.y;var H=O.r;var P=O.r0;if(P==null){P=R>4?H*C(2*F/R)/C(F/R):H/3}var J=F/R;var V=-F/2;var U=S+H*C(V);var I=T+H*A(V);V+=J;var K=O.pointList=[];K.push([U,I]);for(var Q=0,L=R*2-1,M;Q<L;Q++){M=Q%2===0?P:H;K.push([S+M*C(V),T+M*A(V)]);V+=J}K.push([U,I]);N.moveTo(K[0][0],K[0][1]);for(var Q=0;Q<K.length;Q++){N.lineTo(K[Q][0],K[Q][1])}N.closePath();return},getRect:function(H){if(H.__rect){return H.__rect}var I;if(H.brushType=="stroke"||H.brushType=="fill"){I=H.lineWidth||1}else{I=0}H.__rect={x:Math.round(H.x-H.r-I/2),y:Math.round(H.y-H.r-I/2),width:H.r*2+I,height:H.r*2+I};return H.__rect}};D("../tool/util").inherits(B,G);return B});define("zrender/shape/Heart",["require","./Base","../tool/util"],function(B){var C=B("./Base");var A=function(D){C.call(this,D)};A.prototype={type:"heart",buildPath:function(E,D){E.moveTo(D.x,D.y);E.bezierCurveTo(D.x+D.a/2,D.y-D.b*2/3,D.x+D.a*2,D.y+D.b/3,D.x,D.y+D.b);E.bezierCurveTo(D.x-D.a*2,D.y+D.b/3,D.x-D.a/2,D.y-D.b*2/3,D.x,D.y);E.closePath();return},getRect:function(D){if(D.__rect){return D.__rect}var E;if(D.brushType=="stroke"||D.brushType=="fill"){E=D.lineWidth||1}else{E=0}D.__rect={x:Math.round(D.x-D.a-E/2),y:Math.round(D.y-D.b/4-E/2),width:D.a*2+E,height:D.b*5/4+E};return D.__rect}};B("../tool/util").inherits(A,C);return A});define("zrender/shape/Droplet",["require","./Base","../tool/util"],function(A){var B=A("./Base");var C=function(D){B.call(this,D)};C.prototype={type:"droplet",buildPath:function(E,D){E.moveTo(D.x,D.y+D.a);E.bezierCurveTo(D.x+D.a,D.y+D.a,D.x+D.a*3/2,D.y-D.a/3,D.x,D.y-D.b);E.bezierCurveTo(D.x-D.a*3/2,D.y-D.a/3,D.x-D.a,D.y+D.a,D.x,D.y+D.a);E.closePath()},getRect:function(D){if(D.__rect){return D.__rect}var E;if(D.brushType=="stroke"||D.brushType=="fill"){E=D.lineWidth||1}else{E=0}D.__rect={x:Math.round(D.x-D.a-E/2),y:Math.round(D.y-D.b-E/2),width:D.a*2+E,height:D.a+D.b+E};return D.__rect}};A("../tool/util").inherits(C,B);return C});define("echarts/util/shape/Icon",["require","zrender/tool/util","zrender/shape/Star","zrender/shape/Heart","zrender/shape/Droplet","zrender/shape/Image","zrender/shape/Base"],function(M){var H=M("zrender/tool/util");function A(e,c){var b=c.width/16;var d=c.height/16;e.moveTo(c.x,c.y+c.height);e.lineTo(c.x+5*b,c.y+14*d);e.lineTo(c.x+c.width,c.y+3*d);e.lineTo(c.x+13*b,c.y);e.lineTo(c.x+2*b,c.y+11*d);e.lineTo(c.x,c.y+c.height);e.moveTo(c.x+6*b,c.y+10*d);e.lineTo(c.x+14*b,c.y+2*d);e.moveTo(c.x+10*b,c.y+13*d);e.lineTo(c.x+c.width,c.y+13*d);e.moveTo(c.x+13*b,c.y+10*d);e.lineTo(c.x+13*b,c.y+c.height)}function W(e,c){var b=c.width/16;var d=c.height/16;e.moveTo(c.x,c.y+c.height);e.lineTo(c.x+5*b,c.y+14*d);e.lineTo(c.x+c.width,c.y+3*d);e.lineTo(c.x+13*b,c.y);e.lineTo(c.x+2*b,c.y+11*d);e.lineTo(c.x,c.y+c.height);e.moveTo(c.x+6*b,c.y+10*d);e.lineTo(c.x+14*b,c.y+2*d);e.moveTo(c.x+10*b,c.y+13*d);e.lineTo(c.x+c.width,c.y+13*d)}function X(e,c){var b=c.width/16;var d=c.height/16;e.moveTo(c.x+4*b,c.y+15*d);e.lineTo(c.x+9*b,c.y+13*d);e.lineTo(c.x+14*b,c.y+8*d);e.lineTo(c.x+11*b,c.y+5*d);e.lineTo(c.x+6*b,c.y+10*d);e.lineTo(c.x+4*b,c.y+15*d);e.moveTo(c.x+5*b,c.y);e.lineTo(c.x+11*b,c.y);e.moveTo(c.x+5*b,c.y+d);e.lineTo(c.x+11*b,c.y+d);e.moveTo(c.x,c.y+2*d);e.lineTo(c.x+c.width,c.y+2*d);e.moveTo(c.x,c.y+5*d);e.lineTo(c.x+3*b,c.y+c.height);e.lineTo(c.x+13*b,c.y+c.height);e.lineTo(c.x+c.width,c.y+5*d)}function C(e,c){var b=c.width/16;var d=c.height/16;e.moveTo(c.x,c.y+3*d);e.lineTo(c.x+6*b,c.y+3*d);e.moveTo(c.x+3*b,c.y);e.lineTo(c.x+3*b,c.y+6*d);e.moveTo(c.x+3*b,c.y+8*d);e.lineTo(c.x+3*b,c.y+c.height);e.lineTo(c.x+c.width,c.y+c.height);e.lineTo(c.x+c.width,c.y+3*d);e.lineTo(c.x+8*b,c.y+3*d)}function D(e,c){var b=c.width/16;var d=c.height/16;e.moveTo(c.x+6*b,c.y);e.lineTo(c.x+2*b,c.y+3*d);e.lineTo(c.x+6*b,c.y+6*d);e.moveTo(c.x+2*b,c.y+3*d);e.lineTo(c.x+14*b,c.y+3*d);e.lineTo(c.x+14*b,c.y+11*d);e.moveTo(c.x+2*b,c.y+5*d);e.lineTo(c.x+2*b,c.y+13*d);e.lineTo(c.x+14*b,c.y+13*d);e.moveTo(c.x+10*b,c.y+10*d);e.lineTo(c.x+14*b,c.y+13*d);e.lineTo(c.x+10*b,c.y+c.height)}function P(f,d){var c=d.width/16;var e=d.height/16;var b=d.width/2;f.lineWidth=1.5;f.arc(d.x+b,d.y+b,b-c,0,Math.PI*2/3);f.moveTo(d.x+3*c,d.y+d.height);f.lineTo(d.x+0*c,d.y+12*e);f.lineTo(d.x+5*c,d.y+11*e);f.moveTo(d.x,d.y+8*e);f.arc(d.x+b,d.y+b,b-c,Math.PI,Math.PI*5/3);f.moveTo(d.x+13*c,d.y);f.lineTo(d.x+d.width,d.y+4*e);f.lineTo(d.x+11*c,d.y+5*e)}function B(e,c){var b=c.width/16;var d=c.height/16;e.moveTo(c.x,c.y);e.lineTo(c.x,c.y+c.height);e.lineTo(c.x+c.width,c.y+c.height);e.moveTo(c.x+2*b,c.y+14*d);e.lineTo(c.x+7*b,c.y+6*d);e.lineTo(c.x+11*b,c.y+11*d);e.lineTo(c.x+15*b,c.y+2*d)}function V(e,c){var b=c.width/16;var d=c.height/16;e.moveTo(c.x,c.y);e.lineTo(c.x,c.y+c.height);e.lineTo(c.x+c.width,c.y+c.height);e.moveTo(c.x+3*b,c.y+14*d);e.lineTo(c.x+3*b,c.y+6*d);e.lineTo(c.x+4*b,c.y+6*d);e.lineTo(c.x+4*b,c.y+14*d);e.moveTo(c.x+7*b,c.y+14*d);e.lineTo(c.x+7*b,c.y+2*d);e.lineTo(c.x+8*b,c.y+2*d);e.lineTo(c.x+8*b,c.y+14*d);e.moveTo(c.x+11*b,c.y+14*d);e.lineTo(c.x+11*b,c.y+9*d);e.lineTo(c.x+12*b,c.y+9*d);e.lineTo(c.x+12*b,c.y+14*d)}function U(d,e){var h=e.x;var i=e.y;var g=e.width;var c=e.height;var f=Math.round(c/3);var b=3;while(b--){d.rect(h,i+f*b+2,g,2)}}function J(d,e){var h=e.x;var i=e.y;var f=e.width;var c=e.height;var g=Math.round(f/3);var b=3;while(b--){d.rect(h+g*b,i,2,c)}}function K(d,c){var b=c.width/16;d.moveTo(c.x+b,c.y);d.lineTo(c.x+b,c.y+c.height);d.lineTo(c.x+15*b,c.y+c.height);d.lineTo(c.x+15*b,c.y);d.lineTo(c.x+b,c.y);d.moveTo(c.x+3*b,c.y+3*b);d.lineTo(c.x+13*b,c.y+3*b);d.moveTo(c.x+3*b,c.y+6*b);d.lineTo(c.x+13*b,c.y+6*b);d.moveTo(c.x+3*b,c.y+9*b);d.lineTo(c.x+13*b,c.y+9*b);d.moveTo(c.x+3*b,c.y+12*b);d.lineTo(c.x+9*b,c.y+12*b)}function T(e,c){var b=c.width/16;var d=c.height/16;e.moveTo(c.x,c.y);e.lineTo(c.x,c.y+c.height);e.lineTo(c.x+c.width,c.y+c.height);e.lineTo(c.x+c.width,c.y);e.lineTo(c.x,c.y);e.moveTo(c.x+4*b,c.y);e.lineTo(c.x+4*b,c.y+8*d);e.lineTo(c.x+12*b,c.y+8*d);e.lineTo(c.x+12*b,c.y);e.moveTo(c.x+6*b,c.y+11*d);e.lineTo(c.x+6*b,c.y+13*d);e.lineTo(c.x+10*b,c.y+13*d);e.lineTo(c.x+10*b,c.y+11*d);e.lineTo(c.x+6*b,c.y+11*d)}function I(g,d){var e=d.x;var f=d.y;var c=d.width;var b=d.height;g.moveTo(e,f+b/2);g.lineTo(e+c,f+b/2);g.moveTo(e+c/2,f);g.lineTo(e+c/2,f+b)}function L(f,e){var c=e.width/2;var b=e.height/2;var d=Math.min(c,b);f.moveTo(e.x+c+d,e.y+b);f.arc(e.x+c,e.y+b,d,0,Math.PI*2);f.closePath()}function G(c,b){c.rect(b.x,b.y,b.width,b.height);c.closePath()}function E(g,d){var c=d.width/2;var b=d.height/2;var e=d.x+c;var f=d.y+b;var h=Math.min(c,b);g.moveTo(e,f-h);g.lineTo(e+h,f+h);g.lineTo(e-h,f+h);g.lineTo(e,f-h);g.closePath()}function F(g,d){var c=d.width/2;var b=d.height/2;var e=d.x+c;var f=d.y+b;var h=Math.min(c,b);g.moveTo(e,f-h);g.lineTo(e+h,f);g.lineTo(e,f+h);g.lineTo(e-h,f);g.lineTo(e,f-h);g.closePath()}function R(f,c){var d=c.x;var e=c.y;var b=c.width/16;f.moveTo(d+8*b,e);f.lineTo(d+b,e+c.height);f.lineTo(d+8*b,e+c.height/4*3);f.lineTo(d+15*b,e+c.height);f.lineTo(d+8*b,e);f.closePath()}function Q(f,e){var d=M("zrender/shape/Star");var c=e.width/2;var b=e.height/2;d.prototype.buildPath(f,{x:e.x+c,y:e.y+b,r:Math.min(c,b),n:e.n||5})}function a(d,c){var b=M("zrender/shape/Heart");b.prototype.buildPath(d,{x:c.x+c.width/2,y:c.y+c.height*0.2,a:c.width/2,b:c.height*0.8})}function S(d,c){var b=M("zrender/shape/Droplet");b.prototype.buildPath(d,{x:c.x+c.width*0.5,y:c.y+c.height*0.5,a:c.width*0.5,b:c.height*0.8})}function Z(h,e){var f=e.x;var g=e.y-e.height/2*1.5;var c=e.width/2;var b=e.height/2;var d=Math.min(c,b);h.arc(f+c,g+b,d,Math.PI/5*4,Math.PI/5);h.lineTo(f+c,g+b+d*1.5);h.closePath()}function Y(c,b){setTimeout(function(){var e=M("zrender/shape/Image");var d=new e({style:b});d.brush(c)},100)}var O=M("zrender/shape/Base");function N(b){O.call(this,b)}N.prototype={type:"icon",iconLibrary:{mark:A,markUndo:W,markClear:X,dataZoom:C,dataZoomReset:D,restore:P,lineChart:B,barChart:V,stackChart:U,tiledChart:J,dataView:K,saveAsImage:T,cross:I,circle:L,rectangle:G,triangle:E,diamond:F,arrow:R,star:Q,heart:a,droplet:S,pin:Z,image:Y},buildPath:function(c,b){if(this.iconLibrary[b.iconType]){this.iconLibrary[b.iconType](c,b)}else{c.moveTo(b.x,b.y);c.lineTo(b.x+b.width,b.y);c.lineTo(b.x+b.width,b.y+b.height);c.lineTo(b.x,b.y+b.height);c.lineTo(b.x,b.y);c.closePath()}return},getRect:function(b){if(b.__rect){return b.__rect}b.__rect={x:Math.round(b.x),y:Math.round(b.y-(b.iconType=="pin"?(b.height/2*1.5):0)),width:b.width,height:b.height};return b.__rect},isCover:function(e,f){var d=this.getTansform(e,f);e=d[0];f=d[1];var c=this.style.__rect;if(!c){c=this.style.__rect=this.getRect(this.style)}var b=(c.height<8||c.width<8)?4:0;if(e>=c.x-b&&e<=(c.x+c.width+b)&&f>=c.y-b&&f<=(c.y+c.height+b)){return true}else{return false}}};H.inherits(N,O);return N});define("zrender/shape/util/dashedLineTo",[],function(){var A=[5,5];return function(G,B,C,D,E,K){if(G.setLineDash){A[0]=A[1]=K;G.setLineDash(A);G.moveTo(B,C);G.lineTo(D,E);return}K=typeof K!="number"?5:K;var J=D-B;var H=E-C;var F=Math.floor(Math.sqrt(J*J+H*H)/K);J=J/F;H=H/F;var L=true;for(var I=0;I<F;++I){if(L){G.moveTo(B,C)}else{G.lineTo(B,C)}L=!L;B+=J;C+=H}G.lineTo(D,E)}});define("zrender/shape/Line",["require","./Base","./util/dashedLineTo","../tool/util"],function(C){var D=C("./Base");var A=C("./util/dashedLineTo");var B=function(E){this.brushTypeOnly="stroke";this.textPosition="end";D.call(this,E)};B.prototype={type:"line",buildPath:function(G,E){if(!E.lineType||E.lineType=="solid"){G.moveTo(E.xStart,E.yStart);G.lineTo(E.xEnd,E.yEnd)}else{if(E.lineType=="dashed"||E.lineType=="dotted"){var F=(E.lineWidth||1)*(E.lineType=="dashed"?5:1);A(G,E.xStart,E.yStart,E.xEnd,E.yEnd,F)}}},getRect:function(E){if(E.__rect){return E.__rect}var F=E.lineWidth||1;E.__rect={x:Math.min(E.xStart,E.xEnd)-F,y:Math.min(E.yStart,E.yEnd)-F,width:Math.abs(E.xStart-E.xEnd)+F,height:Math.abs(E.yStart-E.yEnd)+F};return E.__rect}};C("../tool/util").inherits(B,D);return B});define("zrender/shape/util/smoothSpline",["require","../../tool/vector"],function(B){var C=B("../../tool/vector");function A(F,D,I,G,E,L,J){var K=(I-F)*0.5;var H=(G-D)*0.5;return(2*(D-I)+K+H)*J+(-3*(D-I)-2*K-H)*L+K*E+D}return function(L,T,J){var D=L.length;var Q=[];var S=0;for(var G=1;G<D;G++){S+=C.distance(L[G-1],L[G])}var H=S/5;H=H<D?D:H;for(var G=0;G<H;G++){var N=G/(H-1)*(T?D:D-1);var R=Math.floor(N);var E=N-R;var K;var I=L[R%D];var P;var M;if(!T){K=L[R===0?R:R-1];P=L[R>D-2?D-1:R+1];M=L[R>D-3?D-1:R+2]}else{K=L[(R-1+D)%D];P=L[(R+1)%D];M=L[(R+2)%D]}var F=E*E;var O=E*F;Q.push([A(K[0],I[0],P[0],M[0],E,F,O),A(K[1],I[1],P[1],M[1],E,F,O)])}return Q}});define("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(A){var B=A("../../tool/vector");return function(N,R,W,M){var G=[];var S=[];var C=[];var F=[];var I;var Q;var V=!!M;var L,T;if(V){L=[Infinity,Infinity];T=[-Infinity,-Infinity];for(var H=0,D=N.length;H<D;H++){B.min(L,L,N[H]);B.max(T,T,N[H])}B.min(L,L,M[0]);B.max(T,T,M[1])}for(var H=0,D=N.length;H<D;H++){var E=N[H];var I;var Q;if(W){I=N[H?H-1:D-1];Q=N[(H+1)%D]}else{if(H===0||H===D-1){G.push(N[H]);continue}else{I=N[H-1];Q=N[H+1]}}B.sub(S,Q,I);B.scale(S,S,R);var U=B.distance(E,I);var J=B.distance(E,Q);var K=U+J;if(K!==0){U/=K;J/=K}B.scale(C,S,-U);B.scale(F,S,J);var P=B.add([],E,C);var O=B.add([],E,F);if(V){B.max(P,P,L);B.min(P,P,T);B.max(O,O,L);B.min(O,O,T)}G.push(P);G.push(O)}if(W){G.push(G.shift())}return G}});define("zrender/shape/Polygon",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","../tool/util"],function(C){var E=C("./Base");var A=C("./util/smoothSpline");var F=C("./util/smoothBezier");var B=C("./util/dashedLineTo");var D=function(G){E.call(this,G)};D.prototype={type:"polygon",brush:function(I,J){var G=this.style;if(J){G=this.getHighlightStyle(G,this.highlightStyle||{})}I.save();this.setContext(I,G);this.setTransform(I);var H=false;if(G.brushType=="fill"||G.brushType=="both"||typeof G.brushType=="undefined"){I.beginPath();if(G.lineType=="dashed"||G.lineType=="dotted"){this.buildPath(I,{lineType:"solid",lineWidth:G.lineWidth,pointList:G.pointList});H=false}else{this.buildPath(I,G);H=true}I.closePath();I.fill()}if(G.lineWidth>0&&(G.brushType=="stroke"||G.brushType=="both")){if(!H){I.beginPath();this.buildPath(I,G)}I.stroke()}this.drawText(I,G,this.style);I.restore();return},buildPath:function(H,I){var J=I.pointList;if(J.length<2){return}if(I.smooth&&I.smooth!=="spline"){var L=F(J,I.smooth,true,I.smoothConstraint);H.moveTo(J[0][0],J[0][1]);var N;var Q;var G;var M=J.length;for(var K=0;K<M;K++){N=L[K*2];Q=L[K*2+1];G=J[(K+1)%M];H.bezierCurveTo(N[0],N[1],Q[0],Q[1],G[0],G[1])}}else{if(I.smooth==="spline"){J=A(J,true)}if(!I.lineType||I.lineType=="solid"){H.moveTo(J[0][0],J[0][1]);for(var K=1,O=J.length;K<O;K++){H.lineTo(J[K][0],J[K][1])}H.lineTo(J[0][0],J[0][1])}else{if(I.lineType=="dashed"||I.lineType=="dotted"){var P=I._dashLength||(I.lineWidth||1)*(I.lineType=="dashed"?5:1);I._dashLength=P;H.moveTo(J[0][0],J[0][1]);for(var K=1,O=J.length;K<O;K++){B(H,J[K-1][0],J[K-1][1],J[K][0],J[K][1],P)}B(H,J[J.length-1][0],J[J.length-1][1],J[0][0],J[0][1],P)}}}return},getRect:function(J){if(J.__rect){return J.__rect}var K=Number.MAX_VALUE;var G=Number.MIN_VALUE;var N=Number.MAX_VALUE;var H=Number.MIN_VALUE;var M=J.pointList;for(var I=0,L=M.length;I<L;I++){if(M[I][0]<K){K=M[I][0]}if(M[I][0]>G){G=M[I][0]}if(M[I][1]<N){N=M[I][1]}if(M[I][1]>H){H=M[I][1]}}var O;if(J.brushType=="stroke"||J.brushType=="fill"){O=J.lineWidth||1}else{O=0}J.__rect={x:Math.round(K-O/2),y:Math.round(N-O/2),width:G-K+O,height:H-N+O};return J.__rect}};C("../tool/util").inherits(D,E);return D});define("zrender/shape/BrokenLine",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(C){var D=C("./Base");var A=C("./util/smoothSpline");var E=C("./util/smoothBezier");var B=C("./util/dashedLineTo");var F=function(G){this.brushTypeOnly="stroke";this.textPosition="end";D.call(this,G)};F.prototype={type:"broken-line",buildPath:function(H,I){var J=I.pointList;if(J.length<2){return}var M=Math.min(I.pointList.length,Math.round(I.pointListLength||I.pointList.length));if(I.smooth&&I.smooth!=="spline"){var L=E(J,I.smooth,false,I.smoothConstraint);H.moveTo(J[0][0],J[0][1]);var N;var P;var G;for(var K=0;K<M-1;K++){N=L[K*2];P=L[K*2+1];G=J[K+1];H.bezierCurveTo(N[0],N[1],P[0],P[1],G[0],G[1])}}else{if(I.smooth==="spline"){J=A(J);M=J.length}if(!I.lineType||I.lineType=="solid"){H.moveTo(J[0][0],J[0][1]);for(var K=1;K<M;K++){H.lineTo(J[K][0],J[K][1])}}else{if(I.lineType=="dashed"||I.lineType=="dotted"){var O=(I.lineWidth||1)*(I.lineType=="dashed"?5:1);H.moveTo(J[0][0],J[0][1]);for(var K=1;K<M;K++){B(H,J[K-1][0],J[K-1][1],J[K][0],J[K][1],O)}}}}return},getRect:function(G){return C("./Polygon").prototype.getRect(G)}};C("../tool/util").inherits(F,D);return F});define("echarts/util/shape/MarkLine",["require","zrender/shape/Base","./Icon","zrender/shape/Line","zrender/shape/BrokenLine","zrender/tool/matrix","zrender/tool/area","zrender/shape/util/dashedLineTo","zrender/shape/util/smoothSpline","zrender/tool/util"],function(E){var M=E("zrender/shape/Base");var C=E("./Icon");var K=E("zrender/shape/Line");var A=new K({});var G=E("zrender/shape/BrokenLine");var H=new G({});var B=E("zrender/tool/matrix");var J=E("zrender/tool/area");var D=E("zrender/shape/util/dashedLineTo");var F=E("zrender/shape/util/smoothSpline");var I=E("zrender/tool/util");function L(N){M.call(this,N)}L.prototype={type:"mark-line",brush:function(O,P){var N=this.style;if(P){N=this.getHighlightStyle(N,this.highlightStyle||{})}O.save();this.setContext(O,N);this.setTransform(O);O.save();O.beginPath();this.buildLinePath(O,N);O.stroke();O.restore();this.brushSymbol(O,N,0);this.brushSymbol(O,N,1);this.drawText(O,N,this.style);O.restore()},buildLinePath:function(R,P){var N=P.pointList||this.getPointList(P);P.pointList=N;var Q=Math.min(P.pointList.length,Math.round(P.pointListLength||P.pointList.length));if(!P.lineType||P.lineType=="solid"){R.moveTo(N[0][0],N[0][1]);for(var O=1;O<Q;O++){R.lineTo(N[O][0],N[O][1])}}else{if(P.lineType=="dashed"||P.lineType=="dotted"){if(P.smooth!=="spline"){var S=(P.lineWidth||1)*(P.lineType=="dashed"?5:1);R.moveTo(N[0][0],N[0][1]);for(var O=1;O<Q;O++){D(R,N[O-1][0],N[O-1][1],N[O][0],N[O][1],S)}}else{for(var O=1;O<Q;O+=2){R.moveTo(N[O-1][0],N[O-1][1]);R.lineTo(N[O][0],N[O][1])}}}}},brushSymbol:function(R,S,Q){if(S.symbol[Q]=="none"){return}R.save();R.beginPath();R.lineWidth=S.symbolBorder;R.strokeStyle=S.symbolBorderColor;S.iconType=S.symbol[Q].replace("empty","").toLowerCase();if(S.symbol[Q].match("empty")){R.fillStyle="#fff"}var O=Math.min(S.pointList.length,Math.round(S.pointListLength||S.pointList.length));var T=Q===0?S.pointList[0][0]:S.pointList[O-1][0];var U=Q===0?S.pointList[0][1]:S.pointList[O-1][1];var N=typeof S.symbolRotate[Q]!="undefined"?(S.symbolRotate[Q]-0):0;var V;if(N!==0){V=B.create();B.identity(V);if(T||U){B.translate(V,V,[-T,-U])}B.rotate(V,V,N*Math.PI/180);if(T||U){B.translate(V,V,[T,U])}R.transform.apply(R,V)}if(S.iconType=="arrow"&&N===0){this.buildArrawPath(R,S,Q)}else{var P=S.symbolSize[Q];S.x=T-P;S.y=U-P,S.width=P*2;S.height=P*2;C.prototype.buildPath(R,S)}R.closePath();R.fill();R.stroke();R.restore()},buildArrawPath:function(T,d,c){var N=Math.min(d.pointList.length,Math.round(d.pointListLength||d.pointList.length));var P=d.symbolSize[c]*2;var U=d.pointList[0][0];var R=d.pointList[N-1][0];var Y=d.pointList[0][1];var X=d.pointList[N-1][1];var V=0;if(d.smooth==="spline"){V=0.2}var Z=Math.atan(Math.abs((X-Y)/(U-R)));if(c===0){if(R>U){if(X>Y){Z=Math.PI*2-Z+V}else{Z+=V}}else{if(X>Y){Z+=Math.PI-V}else{Z=Math.PI-Z-V}}}else{if(U>R){if(Y>X){Z=Math.PI*2-Z+V}else{Z+=V}}else{if(Y>X){Z+=Math.PI-V}else{Z=Math.PI-Z-V}}}var W=Math.PI/8;var a=c===0?U:R;var b=c===0?Y:X;var O=[[a+P*Math.cos(Z-W),b-P*Math.sin(Z-W)],[a+P*0.6*Math.cos(Z),b-P*0.6*Math.sin(Z)],[a+P*Math.cos(Z+W),b-P*Math.sin(Z+W)]];T.moveTo(a,b);for(var Q=0,S=O.length;Q<S;Q++){T.lineTo(O[Q][0],O[Q][1])}T.lineTo(a,b)},getPointList:function(P){var N=[[P.xStart,P.yStart],[P.xEnd,P.yEnd]];if(P.smooth==="spline"){var O=N[1][0];var Q=N[1][1];N[3]=[O,Q];N[1]=this.getOffetPoint(N[0],N[3]);N[2]=this.getOffetPoint(N[3],N[0]);N=F(N,false);N[N.length-1]=[O,Q]}return N},getOffetPoint:function(O,N){var Q=Math.sqrt(Math.round((O[0]-N[0])*(O[0]-N[0])+(O[1]-N[1])*(O[1]-N[1])))/3;var V=[O[0],O[1]];var S;var P=0.2;if(O[0]!=N[0]&&O[1]!=N[1]){var R=(N[1]-O[1])/(N[0]-O[0]);S=Math.atan(R)}else{if(O[0]==N[0]){S=(O[1]<=N[1]?1:-1)*Math.PI/2}else{S=0}}var T;var U;if(O[0]<=N[0]){S-=P;T=Math.round(Math.cos(S)*Q);U=Math.round(Math.sin(S)*Q);V[0]+=T;V[1]+=U}else{S+=P;T=Math.round(Math.cos(S)*Q);U=Math.round(Math.sin(S)*Q);V[0]-=T;V[1]-=U}return V},getRect:function(N){if(N.__rect){return N.__rect}var O=N.lineWidth||1;N.__rect={x:Math.min(N.xStart,N.xEnd)-O,y:Math.min(N.yStart,N.yEnd)-O,width:Math.abs(N.xStart-N.xEnd)+O,height:Math.abs(N.yStart-N.yEnd)+O};return N.__rect},isCover:function(P,Q){var O=this.getTansform(P,Q);P=O[0];Q=O[1];var N=this.style.__rect;if(!N){N=this.style.__rect=this.getRect(this.style)}if(P>=N.x&&P<=(N.x+N.width)&&Q>=N.y&&Q<=(N.y+N.height)){return this.style.smooth!=="spline"?J.isInside(A,this.style,P,Q):J.isInside(H,this.style,P,Q)}return false}};I.inherits(L,M);return L});define("echarts/util/shape/normalIsCover",[],function(){return function(C,D){var B=this.getTansform(C,D);C=B[0];D=B[1];var A=this.style.__rect;if(!A){A=this.style.__rect=this.getRect(this.style)}return C>=A.x&&C<=(A.x+A.width)&&D>=A.y&&D<=(A.y+A.height)}});define("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(B){var D=B("zrender/shape/Base");var C=B("zrender/shape/Polygon");var F=new C({});var A=B("zrender/tool/util");function E(G){D.call(this,G)}E.prototype={type:"symbol",buildPath:function(N,W){var L=W.pointList;var G=L.length;if(G===0){return}var T=10000;var M=Math.ceil(G/T);var P;var I;var Q=L[0] instanceof Array;var K=W.size?W.size:2;var X=K;var H=K/2;var R=Math.PI*2;var O;var U;var V;for(var S=0;S<M;S++){N.beginPath();P=S*T;I=P+T;I=I>G?G:I;for(var J=P;J<I;J++){if(W.random){O=W["randomMap"+(J%20)]/100;X=K*O*O;H=X/2}if(Q){U=L[J][0];V=L[J][1]}else{U=L[J].x;V=L[J].y}if(X<3){N.rect(U-H,V-H,X,X)}else{switch(W.iconType){case"circle":N.moveTo(U,V);N.arc(U,V,H,0,R,true);break;case"diamond":N.moveTo(U,V-H);N.lineTo(U+H/3,V-H/3);N.lineTo(U+H,V);N.lineTo(U+H/3,V+H/3);N.lineTo(U,V+H);N.lineTo(U-H/3,V+H/3);N.lineTo(U-H,V);N.lineTo(U-H/3,V-H/3);N.lineTo(U,V-H);break;default:N.rect(U-H,V-H,X,X)}}}N.closePath();if(S<(M-1)){switch(W.brushType){case"both":N.fill();W.lineWidth>0&&N.stroke();break;case"stroke":W.lineWidth>0&&N.stroke();break;default:N.fill()}}}},getRect:function(G){return G.__rect||F.getRect(G)},isCover:B("./normalIsCover")};A.inherits(E,D);return E});define("echarts/util/ecData",[],function(){function C(H,M,I,E,L,F,K,J){var G;if(typeof E!="undefined"){G=E.value==null?E:E.value}H._echartsData={"_series":M,"_seriesIndex":I,"_data":E,"_dataIndex":L,"_name":F,"_value":G,"_special":K,"_special2":J};return H._echartsData}function B(G,E){var F=G._echartsData;if(!E){return F}switch(E){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":return F&&F["_"+E]}return null}function D(G,E,F){G._echartsData=G._echartsData||{};switch(E){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":G._echartsData["_"+E]=F;break}}function A(E,F){F._echartsData={"_series":E._echartsData._series,"_seriesIndex":E._echartsData._seriesIndex,"_data":E._echartsData._data,"_dataIndex":E._echartsData._dataIndex,"_name":E._echartsData._name,"_value":E._echartsData._value,"_special":E._echartsData._special,"_special2":E._echartsData._special2}}return{pack:C,set:D,get:B,clone:A}});define("echarts/util/ecAnimation",["require","zrender/tool/util","zrender/shape/Polygon"],function(H){var G=H("zrender/tool/util");function L(P,a,U,S,V){var R=U.style.pointList;var T=R.length;var W;if(!a){W=[];if(U._orient!="vertical"){var Y=R[0][1];for(var X=0;X<T;X++){W[X]=[R[X][0],Y]}}else{var Z=R[0][0];for(var X=0;X<T;X++){W[X]=[Z,R[X][1]]}}if(U.type=="half-smooth-polygon"){W[T-1]=G.clone(R[T-1]);W[T-2]=G.clone(R[T-2])}a={style:{pointList:W}}}W=a.style.pointList;var Q=W.length;if(Q==T){U.style.pointList=W}else{if(Q<T){U.style.pointList=W.concat(R.slice(Q))}else{U.style.pointList=W.slice(0,T)}}P.addShape(U);P.animate(U.id,"style").when(S,{pointList:R}).start(V)}function F(T,Q){var S=arguments.length;for(var P=2;P<S;P++){var R=arguments[P];T.style[R]=Q.style[R]}}function M(P,X,S,R,U){var T=S.style;if(!X){X={style:{x:T.x,y:S._orient=="vertical"?T.y+T.height:T.y,width:S._orient=="vertical"?T.width:0,height:S._orient!="vertical"?T.height:0}}}var Y=T.x;var W=T.y;var V=T.width;var Q=T.height;F(S,X,"x","y","width","height");P.addShape(S);P.animate(S.id,"style").when(R,{x:Y,y:W,width:V,height:Q}).start(U)}function N(P,R,V,S,Q){if(!R){var T=V.style.y;R={style:{y:[T[0],T[0],T[0],T[0]]}}}var U=V.style.y;V.style.y=R.style.y;P.addShape(V);P.animate(V.id,"style").when(S,{y:U}).start(Q)}function K(Q,X,S,R,U){var V=S.style.x;var W=S.style.y;var T=S.style.r0;var P=S.style.r;if(S._animationAdd!="r"){S.style.r0=0;S.style.r=0;S.rotation=[Math.PI*2,V,W];Q.addShape(S);Q.animate(S.id,"style").when(R,{r0:T,r:P}).start(U);Q.animate(S.id,"").when(Math.round(R/3*2),{rotation:[0,V,W]}).start(U)}else{S.style.r0=S.style.r;Q.addShape(S);Q.animate(S.id,"style").when(R,{r0:T}).start(U)}}function I(P,S,V,T,R){if(!S){if(V._animationAdd!="r"){S={style:{startAngle:V.style.startAngle,endAngle:V.style.startAngle}}}else{S={style:{r0:V.style.r}}}}var U=V.style.startAngle;var Q=V.style.endAngle;F(V,S,"startAngle","endAngle");P.addShape(V);P.animate(V.id,"style").when(T,{startAngle:U,endAngle:Q}).start(R)}function D(P,R,V,S,Q){if(!R){R={style:{x:V.style.textAlign=="left"?V.style.x+100:V.style.x-100,y:V.style.y}}}var T=V.style.x;var U=V.style.y;F(V,R,"x","y");P.addShape(V);P.animate(V.id,"style").when(S,{x:T,y:U}).start(Q)}function A(P,W,S,R,T){var Q=H("zrender/shape/Polygon").prototype.getRect(S.style);var U=Q.x+Q.width/2;var V=Q.y+Q.height/2;S.scale=[0.1,0.1,U,V];P.addShape(S);P.animate(S.id,"").when(R,{scale:[1,1,U,V]}).start(T)}function E(P,X,S,Q,T){if(!X){X={style:{source0:0,source1:360,target0:0,target1:360}}}var R=S.style.source0;var U=S.style.source1;var W=S.style.target0;var V=S.style.target1;if(X.style){F(S,X,"source0","source1","target0","target1")}P.addShape(S);P.animate(S.id,"style").when(Q,{source0:R,source1:U,target0:W,target1:V}).start(T)}function J(P,R,T,S,Q){if(!R){R={style:{angle:T.style.startAngle}}}var U=T.style.angle;T.style.angle=R.style.angle;P.addShape(T);P.animate(T.id,"style").when(S,{angle:U}).start(Q)}function O(P,R,V,S,Q){V.style._x=V.style.x;V.style._y=V.style.y;V.style._width=V.style.width;V.style._height=V.style.height;if(!R){var T=V._x||0;var U=V._y||0;V.scale=[0,0,T,U];P.addShape(V);P.animate(V.id,"").when(S,{scale:[1,1,T,U]}).start(Q||"QuinticOut")}else{M(P,R,V,S,Q)}}function C(Q,X,T,R,V){if(!X){X={style:{xEnd:T.style.xStart,yEnd:T.style.yStart}}}var U=T.style.xStart;var W=T.style.xEnd;var P=T.style.yStart;var S=T.style.yEnd;F(T,X,"xStart","xEnd","yStart","yEnd");Q.addShape(T);Q.animate(T.id,"style").when(R,{xStart:U,xEnd:W,yStart:P,yEnd:S}).start(V)}function B(P,R,T,S,Q){if(!T.style.smooth){T.style.pointList=!R?[[T.style.xStart,T.style.yStart],[T.style.xStart,T.style.yStart]]:R.style.pointList;P.addShape(T);P.animate(T.id,"style").when(S,{pointList:[[T.style.xStart,T.style.yStart],[T._x||0,T._y||0]]}).start(Q||"QuinticOut")}else{T.style.pointListLength=1;P.addShape(T);T.style.pointList=T.style.pointList||T.getPointList(T.style);P.animate(T.id,"style").when(S,{pointListLength:T.style.pointList.length}).start(Q||"QuinticOut")}}return{pointList:L,rectangle:M,candle:N,ring:K,sector:I,text:D,polygon:A,chord:E,gaugePointer:J,icon:O,line:C,markline:B}});define("zrender/shape/Circle",["require","./Base","../tool/util"],function(B){var C=B("./Base");var A=function(D){C.call(this,D)};A.prototype={type:"circle",buildPath:function(E,D){E.arc(D.x,D.y,D.r,0,Math.PI*2,true);return},getRect:function(D){if(D.__rect){return D.__rect}var E;if(D.brushType=="stroke"||D.brushType=="fill"){E=D.lineWidth||1}else{E=0}D.__rect={x:Math.round(D.x-D.r-E/2),y:Math.round(D.y-D.r-E/2),width:D.r*2+E,height:D.r*2+E};return D.__rect}};B("../tool/util").inherits(A,C);return A});define("echarts/util/ecEffect",["require","../util/ecData","zrender/shape/Circle","zrender/shape/Image","../util/shape/Icon","../util/shape/Symbol","zrender/tool/env"],function(E){var A=E("../util/ecData");var I=E("zrender/shape/Circle");var J=E("zrender/shape/Image");var C=E("../util/shape/Icon");var F=E("../util/shape/Symbol");var H=E("zrender/tool/env").canvasSupported;function D(M,P,O,K){var V=O.effect;var Q=V.color||O.style.strokeColor||O.style.color;var Y=V.shadowColor||Q;var T=V.scaleSize;var L=typeof V.shadowBlur!="undefined"?V.shadowBlur:T;var N=new C({zlevel:K,style:{brushType:"stroke",iconType:(O.style.iconType!="pin"&&O.style.iconType!="droplet")?O.style.iconType:"circle",x:L+1,y:L+1,n:O.style.n,width:O.style.width*T,height:O.style.height*T,lineWidth:1,strokeColor:Q,shadowColor:Y,shadowBlur:L},draggable:false,hoverable:false});if(H){N.style.image=M.shapeToImage(N,N.style.width+L*2+2,N.style.height+L*2+2).style.image;N=new J({zlevel:N.zlevel,style:N.style,draggable:false,hoverable:false})}A.clone(O,N);N.position=O.position;P.push(N);M.addShape(N);var R=window.devicePixelRatio||1;var U=(N.style.width/R-O.style.width)/2;N.style.x=O.style._x-U;N.style.y=O.style._y-U;var S=(V.period+Math.random()*10)*100;M.modShape(O.id,{invisible:true});var W=N.style.x+(N.style.width)/2/R;var X=N.style.y+(N.style.height)/2/R;M.modShape(N.id,{scale:[0.1,0.1,W,X]});M.animate(N.id,"",V.loop).when(S,{scale:[1,1,W,X]}).done(function(){O.effect.show=false;M.delShape(N.id)}).start()}function G(M,P,O,K){var V=O.effect;var Q=V.color||O.style.strokeColor||O.style.color;var T=V.scaleSize;var Y=V.shadowColor||Q;var L=typeof V.shadowBlur!="undefined"?V.shadowBlur:(T*2);var R=window.devicePixelRatio||1;var N=new F({zlevel:K,position:O.position,scale:O.scale,style:{pointList:O.style.pointList,iconType:O.style.iconType,color:Q,strokeColor:Q,shadowColor:Y,shadowBlur:L*R,random:true,brushType:"fill",lineWidth:1,size:O.style.size},draggable:false,hoverable:false});P.push(N);M.addShape(N);M.modShape(O.id,{invisible:true});var S=Math.round(V.period*100);var W={};var X={};for(var U=0;U<20;U++){N.style["randomMap"+U]=0;W={};W["randomMap"+U]=100;X={};X["randomMap"+U]=0;N.style["randomMap"+U]=Math.random()*100;M.animate(N.id,"style",true).when(S,W).when(S*2,X).when(S*3,W).when(S*4,W).delay(Math.random()*S*U).start()}}function B(S,X,U,T){var b=U.effect;var L=b.color||U.style.strokeColor||U.style.color;var K=b.shadowColor||U.style.strokeColor||L;var P=U.style.lineWidth*b.scaleSize;var W=typeof b.shadowBlur!="undefined"?b.shadowBlur:P;var Z=new I({zlevel:T,style:{x:W,y:W,r:P,color:L,shadowColor:K,shadowBlur:W},draggable:false,hoverable:false});var V;if(H){Z.style.image=S.shapeToImage(Z,(P+W)*2,(P+W)*2).style.image;Z=new J({zlevel:Z.zlevel,style:Z.style,draggable:false,hoverable:false});V=W}else{V=0}A.clone(U,Z);Z.position=U.position;X.push(Z);S.addShape(Z);Z.style.x=U.style.xStart-V;Z.style.y=U.style.yStart-V;var a=(U.style.xStart-U.style.xEnd)*(U.style.xStart-U.style.xEnd)+(U.style.yStart-U.style.yEnd)*(U.style.yStart-U.style.yEnd);var R=Math.round(Math.sqrt(Math.round(a*b.period*b.period)));if(!U.style.smooth){S.animate(Z.id,"style",b.loop).when(R,{x:U._x-V,y:U._y-V}).done(function(){U.effect.show=false;S.delShape(Z.id)}).start()}else{var O=U.style.pointList||U.getPointList(U.style);var Y=O.length;R=Math.round(R/Y);var Q=S.animate(Z.id,"style",b.loop);var M=Math.ceil(Y/8);for(var N=0;N<Y-M;N+=M){Q.when(R*(N+1),{x:O[N][0]-V,y:O[N][1]-V})}Q.when(R*Y,{x:O[Y-1][0]-V,y:O[Y-1][1]-V});Q.done(function(){U.effect.show=false;S.delShape(Z.id)});Q.start("spline")}}return{point:D,largePoint:G,line:B}});define("echarts/util/accMath",[],function(){function B(F,H){var G=F.toString();var J=H.toString();var I=0;try{I=J.split(".")[1].length}catch(E){}try{I-=G.split(".")[1].length}catch(E){}return(G.replace(".","")-0)/(J.replace(".","")-0)*Math.pow(10,I)}function A(F,H){var G=F.toString();var J=H.toString();var I=0;try{I+=G.split(".")[1].length}catch(E){}try{I+=J.split(".")[1].length}catch(E){}return(G.replace(".","")-0)*(J.replace(".","")-0)/Math.pow(10,I)}function D(G,H){var E=0;var I=0;try{E=G.toString().split(".")[1].length}catch(F){}try{I=H.toString().split(".")[1].length}catch(F){}var J=Math.pow(10,Math.max(E,I));return(Math.round(G*J)+Math.round(H*J))/J}function C(E,F){return D(E,-F)}return{accDiv:B,accMul:A,accAdd:D,accSub:C}});define("echarts/chart/base",["require","zrender/shape/Image","../util/shape/Icon","../util/shape/MarkLine","../util/shape/Symbol","../config","../util/ecData","../util/ecAnimation","../util/ecEffect","../util/accMath","zrender/tool/util","zrender/tool/area"],function(F){var J=F("zrender/shape/Image");var D=F("../util/shape/Icon");var K=F("../util/shape/MarkLine");var H=F("../util/shape/Symbol");var I=F("../config");var A=F("../util/ecData");var E=F("../util/ecAnimation");var C=F("../util/ecEffect");var B=F("../util/accMath");var M=F("zrender/tool/util");var L=F("zrender/tool/area");function G(){var N=this;this.selectedMap={};this.lastShapeList=[];this.shapeHandler={onclick:function(){N.isClick=true},ondragover:function(Q){var O=Q.target;O.highlightStyle=O.highlightStyle||{};var P=O.highlightStyle;var S=P.brushTyep;var T=P.strokeColor;var R=P.lineWidth;P.brushType="stroke";P.strokeColor=N.ecTheme.calculableColor;P.lineWidth=O.type==="icon"?30:10;N.zr.addHoverShape(O);setTimeout(function(){if(O.highlightStyle){O.highlightStyle.brushType=S;O.highlightStyle.strokeColor=T;O.highlightStyle.lineWidth=R}},20)},ondrop:function(O){if(A.get(O.dragged,"data")!=null){N.isDrop=true}},ondragend:function(){N.isDragend=true}}}G.prototype={setCalculable:function(N){N.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME;N.ondragover=this.shapeHandler.ondragover;N.ondragend=this.shapeHandler.ondragend;N.ondrop=this.shapeHandler.ondrop;return N},ondrop:function(R,Y){if(!this.isDrop||!R.target){return}var W=R.target;var Z=R.dragged;var Q=A.get(W,"seriesIndex");var V=A.get(W,"dataIndex");var X=this.series;var P;var S=this.component.legend;if(V===-1){P={value:A.get(Z,"value"),name:A.get(Z,"name")};if(this.type===I.CHART_TYPE_PIE&&P.value<0){P.value=0}var N=false;var T=X[Q].data;for(var U=0,a=T.length;U<a;U++){if(T[U].name===P.name&&T[U].value==="-"){X[Q].data[U].value=P.value;N=true}}!N&&X[Q].data.push(P);S&&S.add(P.name,Z.style.color||Z.style.strokeColor)}else{P=this.option.series[Q].data[V]||"-";if(P.value!=null){if(P.value!="-"){this.option.series[Q].data[V].value=B.accAdd(this.option.series[Q].data[V].value,A.get(Z,"value"))}else{this.option.series[Q].data[V].value=A.get(Z,"value")}if(this.type===I.CHART_TYPE_FUNNEL||this.type===I.CHART_TYPE_PIE){S&&S.getRelatedAmount(P.name)===1&&this.component.legend.del(P.name);P.name+=this.option.nameConnector+A.get(Z,"name");S&&S.add(P.name,Z.style.color||Z.style.strokeColor)}}else{if(P!="-"){this.option.series[Q].data[V]=B.accAdd(this.option.series[Q].data[V],A.get(Z,"value"))}else{this.option.series[Q].data[V]=A.get(Z,"value")}}}Y.dragIn=Y.dragIn||true;this.isDrop=false;var O=this;setTimeout(function(){O.zr.trigger("mousemove",R.event)},300);return},ondragend:function(P,T){if(!this.isDragend||!P.target){return}var S=P.target;var O=A.get(S,"seriesIndex");var N=A.get(S,"dataIndex");var R=this.series;if(R[O].data[N].value!=null){R[O].data[N].value="-";var Q=R[O].data[N].name;if(this.component.legend&&this.component.legend.getRelatedAmount(Q)===0){this.component.legend.del(Q)}}else{R[O].data[N]="-"}T.dragOut=true;T.needRefresh=true;this.isDragend=false;return},onlegendSelected:function(O,Q){var P=O.selected;for(var N in this.selectedMap){if(this.selectedMap[N]!=P[N]){Q.needRefresh=true}this.selectedMap[N]=P[N]}return},addLabel:function(W,N,P,O,T){var Q=[P,N];var R=this.deepMerge(Q,"itemStyle.normal.label");var V=this.deepMerge(Q,"itemStyle.emphasis.label");var U=R.textStyle||{};var S=V.textStyle||{};if(R.show){W.style.text=this._getLabelText(N,P,O,"normal");W.style.textPosition=R.position==null?(T==="horizontal"?"right":"top"):R.position;W.style.textColor=U.color;W.style.textFont=this.getFont(U)}if(V.show){W.highlightStyle.text=this._getLabelText(N,P,O,"emphasis");W.highlightStyle.textPosition=R.show?W.style.textPosition:(V.position==null?(T==="horizontal"?"right":"top"):V.position);W.highlightStyle.textColor=S.color;W.highlightStyle.textFont=this.getFont(S)}return W},_getLabelText:function(Q,S,P,O){var N=this.deepQuery([S,Q],"itemStyle."+O+".label.formatter");if(!N&&O==="emphasis"){N=this.deepQuery([S,Q],"itemStyle.normal.label.formatter")}var R=S!=null?(S.value!=null?S.value:S):"-";if(N){if(typeof N==="function"){return N.call(this.myChart,Q.name,P,R)}else{if(typeof N==="string"){N=N.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");N=N.replace("{a0}",Q.name).replace("{b0}",P).replace("{c0}",R);return N}}}else{return R}},buildMark:function(N){var O=this.series[N];if(this.selectedMap[O.name]){O.markPoint&&this._buildMarkPoint(N);O.markLine&&this._buildMarkLine(N)}},_buildMarkPoint:function(R){var X=(this.markAttachStyle||{})[R];var N=this.series[R];var Q=this.getZlevelBase();var P;var V;var U=M.clone(N.markPoint);for(var T=0,W=U.data.length;T<W;T++){P=U.data[T];V=this.getMarkCoord(R,P);U.data[T].x=P.x!=null?P.x:V[0];U.data[T].y=P.y!=null?P.y:V[1];if(P.type&&(P.type==="max"||P.type==="min")){U.data[T].value=V[3];U.data[T].name=P.name||P.type;U.data[T].symbolSize=U.data[T].symbolSize||(L.getTextWidth(V[3],this.getFont())/2+5)}}var S=this._markPoint(R,U);for(var T=0,W=S.length;T<W;T++){S[T].zlevel=Q+1;for(var O in X){S[T][O]=M.clone(X[O])}this.shapeList.push(S[T])}if(this.type===I.CHART_TYPE_FORCE||this.type===I.CHART_TYPE_CHORD){for(var T=0,W=S.length;T<W;T++){this.zr.addShape(S[T])}}},_buildMarkLine:function(Q){var X=(this.markAttachStyle||{})[Q];var N=this.series[Q];var P=this.getZlevelBase();var U;var O;var V=M.clone(N.markLine);for(var S=0,W=V.data.length;S<W;S++){U=V.data[S];if(U.type&&(U.type==="max"||U.type==="min"||U.type==="average")){O=this.getMarkCoord(Q,U);V.data[S]=[M.clone(U),{}];V.data[S][0].name=U.name||U.type;V.data[S][0].value=O[3];O=O[2];U=[{},{}]}else{O=[this.getMarkCoord(Q,U[0]),this.getMarkCoord(Q,U[1])]}V.data[S][0].x=U[0].x!=null?U[0].x:O[0][0];V.data[S][0].y=U[0].y!=null?U[0].y:O[0][1];V.data[S][1].x=U[1].x!=null?U[1].x:O[1][0];V.data[S][1].y=U[1].y!=null?U[1].y:O[1][1]}var R=this._markLine(Q,V);for(var S=0,W=R.length;S<W;S++){R[S].zlevel=P+1;for(var T in X){R[S][T]=M.clone(X[T])}this.shapeList.push(R[S])}if(this.type===I.CHART_TYPE_FORCE||this.type===I.CHART_TYPE_CHORD){for(var S=0,W=R.length;S<W;S++){this.zr.addShape(R[S])}}},_markPoint:function(Z,N){var V=this.series[Z];var P=this.component;M.merge(N,this.ecTheme.markPoint);N.name=V.name;var Q=[];var d=N.data;var S;var Y=P.dataRange;var b=P.legend;var O;var e;var W;var a;var c;var f;var T=this.zr.getWidth();var X=this.zr.getHeight();if(!N.large){for(var R=0,U=d.length;R<U;R++){if(d[R].x==null||d[R].y==null){continue}e=d[R]!=null&&d[R].value!=null?d[R].value:"";if(b){O=b.getColor(V.name)}if(Y){O=isNaN(e)?O:Y.getColor(e);W=[d[R],N];a=this.deepQuery(W,"itemStyle.normal.color")||O;c=this.deepQuery(W,"itemStyle.emphasis.color")||a;if(a==null&&c==null){continue}}d[R].tooltip=d[R].tooltip||{trigger:"item"};d[R].name=d[R].name!=null?d[R].name:"";d[R].value=e;S=this.getSymbolShape(N,Z,d[R],R,d[R].name,this.parsePercent(d[R].x,T),this.parsePercent(d[R].y,X),"pin",O,"rgba(0,0,0,0)","horizontal");S._mark="point";f=this.deepMerge([d[R],N],"effect");if(f.show){S.effect=f}if(V.type===I.CHART_TYPE_MAP){S._geo=this.getMarkGeo(d[R])}A.pack(S,V,Z,d[R],R,d[R].name,e);Q.push(S)}}else{S=this.getLargeMarkPoingShape(Z,N);S._mark="largePoint";S&&Q.push(S)}return Q},_markLine:function(Z,d){var U=this.series[Z];var P=this.component;M.merge(d,this.ecTheme.markLine);d.symbol=d.symbol instanceof Array?d.symbol.length>1?d.symbol:[d.symbol[0],d.symbol[0]]:[d.symbol,d.symbol];d.symbolSize=d.symbolSize instanceof Array?d.symbolSize.length>1?d.symbolSize:[d.symbolSize[0],d.symbolSize[0]]:[d.symbolSize,d.symbolSize];d.symbolRotate=d.symbolRotate instanceof Array?d.symbolRotate.length>1?d.symbolRotate:[d.symbolRotate[0],d.symbolRotate[0]]:[d.symbolRotate,d.symbolRotate];d.name=U.name;var N=[];var V=d.data;var R;var Y=P.dataRange;var b=P.legend;var O;var f;var W;var a;var c;var g;var S=this.zr.getWidth();var X=this.zr.getHeight();var e;for(var Q=0,T=V.length;Q<T;Q++){if(V[Q][0].x==null||V[Q][0].y==null||V[Q][1].x==null||V[Q][1].y==null){continue}if(b){O=b.getColor(U.name)}e=this.deepMerge(V[Q]);f=e!=null&&e.value!=null?e.value:"";if(Y){O=isNaN(f)?O:Y.getColor(f);W=[e,d];a=this.deepQuery(W,"itemStyle.normal.color")||O;c=this.deepQuery(W,"itemStyle.emphasis.color")||a;if(a==null&&c==null){continue}}V[Q][0].tooltip=e.tooltip||{trigger:"item"};V[Q][0].name=V[Q][0].name!=null?V[Q][0].name:"";V[Q][1].name=V[Q][1].name!=null?V[Q][1].name:"";V[Q][0].value=V[Q][0].value!=null?V[Q][0].value:"";R=this.getLineMarkShape(d,Z,V[Q],Q,this.parsePercent(V[Q][0].x,S),this.parsePercent(V[Q][0].y,X),this.parsePercent(V[Q][1].x,S),this.parsePercent(V[Q][1].y,X),O);R._mark="line";g=this.deepMerge([e,d],"effect");if(g.show){R.effect=g}if(U.type===I.CHART_TYPE_MAP){R._geo=[this.getMarkGeo(V[Q][0]),this.getMarkGeo(V[Q][1])]}A.pack(R,U,Z,V[Q][0],Q,V[Q][0].name+(V[Q][1].name!==""?(" > "+V[Q][1].name):""),f);N.push(R)}return N},getMarkCoord:function(){return[0,0]},getSymbolShape:function(U,Z,b,W,f,d,e,c,N,Q,S){var X=[b,U];var Y=b!=null?(b.value!=null?b.value:b):"-";c=this.deepQuery(X,"symbol")||c;var V=this.deepQuery(X,"symbolSize");V=typeof V==="function"?V(Y):V;var a=this.deepQuery(X,"symbolRotate");var g=this.deepMerge(X,"itemStyle.normal");var O=this.deepMerge(X,"itemStyle.emphasis");var P=g.borderWidth!=null?g.borderWidth:(g.lineStyle&&g.lineStyle.width);if(P==null){P=c.match("empty")?2:0}var T=O.borderWidth!=null?O.borderWidth:(O.lineStyle&&O.lineStyle.width);if(T==null){T=P+2}var R=new D({style:{iconType:c.replace("empty","").toLowerCase(),x:d-V,y:e-V,width:V*2,height:V*2,brushType:"both",color:c.match("empty")?Q:(this.getItemStyleColor(g.color,Z,W,b)||N),strokeColor:g.borderColor||this.getItemStyleColor(g.color,Z,W,b)||N,lineWidth:P},highlightStyle:{color:c.match("empty")?Q:this.getItemStyleColor(O.color,Z,W,b),strokeColor:O.borderColor||g.borderColor||this.getItemStyleColor(g.color,Z,W,b)||N,lineWidth:T},clickable:this.deepQuery(X,"clickable")});if(c.match("image")){R.style.image=c.replace(new RegExp("^image:\\/\\/"),"");R=new J({style:R.style,highlightStyle:R.highlightStyle,clickable:this.deepQuery(X,"clickable")})}if(a!=null){R.rotation=[a*Math.PI/180,d,e]}if(c.match("star")){R.style.iconType="star";R.style.n=(c.replace("empty","").replace("star","")-0)||5}if(c==="none"){R.invisible=true;R.hoverable=false}R=this.addLabel(R,U,b,f,S);if(c.match("empty")){if(R.style.textColor==null){R.style.textColor=R.style.strokeColor}if(R.highlightStyle.textColor==null){R.highlightStyle.textColor=R.highlightStyle.strokeColor}}A.pack(R,U,Z,b,W,f);R._x=d;R._y=e;R._dataIndex=W;R._seriesIndex=Z;return R},getLineMarkShape:function(d,a,O,f,V,h,S,Z,U){var Y=O[0]!=null?(O[0].value!=null?O[0].value:O[0]):"-";var N=O[1]!=null?(O[1].value!=null?O[1].value:O[1]):"-";var g=[this.query(O[0],"symbol")||d.symbol[0],this.query(O[1],"symbol")||d.symbol[1]];var c=[this.query(O[0],"symbolSize")||d.symbolSize[0],this.query(O[1],"symbolSize")||d.symbolSize[1]];c[0]=typeof c[0]==="function"?c[0](Y):c[0];c[1]=typeof c[1]==="function"?c[1](N):c[1];var b=[this.query(O[0],"symbolRotate")||d.symbolRotate[0],this.query(O[1],"symbolRotate")||d.symbolRotate[1]];var W=[O[0],d];var i=this.deepMerge(W,"itemStyle.normal");i.color=this.getItemStyleColor(i.color,a,f,O);var P=this.deepMerge(W,"itemStyle.emphasis");P.color=this.getItemStyleColor(P.color,a,f,O);var Q=i.lineStyle;var e=P.lineStyle;var X=Q.width;if(X==null){X=i.borderWidth}var T=e.width;if(T==null){T=P.borderWidth!=null?P.borderWidth:(X+2)}var R=new K({style:{smooth:d.smooth?"spline":false,symbol:g,symbolSize:c,symbolRotate:b,xStart:V,yStart:h,xEnd:S,yEnd:Z,brushType:"both",lineType:Q.type,shadowColor:Q.shadowColor||Q.color||i.borderColor||i.color||U,shadowBlur:Q.shadowBlur,shadowOffsetX:Q.shadowOffsetX,shadowOffsetY:Q.shadowOffsetY,color:i.color||U,strokeColor:Q.color||i.borderColor||i.color||U,lineWidth:X,symbolBorderColor:i.borderColor||i.color||U,symbolBorder:i.borderWidth},highlightStyle:{shadowColor:e.shadowColor,shadowBlur:e.shadowBlur,shadowOffsetX:e.shadowOffsetX,shadowOffsetY:e.shadowOffsetY,color:P.color||i.color||U,strokeColor:e.color||Q.color||P.borderColor||i.borderColor||P.color||i.color||U,lineWidth:T,symbolBorderColor:P.borderColor||i.borderColor||P.color||i.color||U,symbolBorder:P.borderWidth==null?(i.borderWidth+2):(P.borderWidth)},clickable:this.deepQuery(W,"clickable")});R=this.addLabel(R,d,O[0],O[0].name+" : "+O[1].name);R._x=S;R._y=Z;return R},getLargeMarkPoingShape:function(T,Z){var N=this.series[T];var W=this.component;var S=Z.data;var P;var O=W.dataRange;var V=W.legend;var X;var R;var U=[S[0],Z];var a;var c;var Y;if(V){X=V.getColor(N.name)}if(O){R=S[0]!=null?(S[0].value!=null?S[0].value:S[0]):"-";X=isNaN(R)?X:O.getColor(R);a=this.deepQuery(U,"itemStyle.normal.color")||X;c=this.deepQuery(U,"itemStyle.emphasis.color")||a;if(a==null&&c==null){return}}X=this.deepMerge(U,"itemStyle.normal").color||X;var b=this.deepQuery(U,"symbol")||"circle";b=b.replace("empty","").replace(/\d/g,"");Y=this.deepMerge([S[0],Z],"effect");var Q=window.devicePixelRatio||1;P=new H({style:{pointList:S,color:X,strokeColor:X,shadowColor:Y.shadowColor||X,shadowBlur:(Y.shadowBlur!=null?Y.shadowBlur:8)*Q,size:this.deepQuery(U,"symbolSize"),iconType:b,brushType:"fill",lineWidth:1},draggable:false,hoverable:false});if(Y.show){P.effect=Y}return P},backupShapeList:function(){if(this.shapeList&&this.shapeList.length>0){this.lastShapeList=this.shapeList;this.shapeList=[]}else{this.lastShapeList=[]}},addShapeList:function(){var T=this.option.animationThreshold/(this.canvasSupported?2:4);var N=this.lastShapeList;var Q=this.shapeList;var O=N.length>0?500:this.query(this.option,"animationDuration");var R=this.query(this.option,"animationEasing");var S;var V={};var W={};if(this.option.animation&&!this.option.renderAsImage&&Q.length<T&&!this.motionlessOnce){for(var P=0,U=N.length;P<U;P++){S=this._getAnimationKey(N[P]);if(S.match("undefined")){this.zr.delShape(N[P].id)}else{S+=N[P].type;V[S]=N[P]}}for(var P=0,U=Q.length;P<U;P++){S=this._getAnimationKey(Q[P]);if(S.match("undefined")){this.zr.addShape(Q[P])}else{S+=Q[P].type;W[S]=Q[P]}}for(S in V){if(!W[S]){this.zr.delShape(V[S].id)}}for(S in W){if(V[S]){this.zr.delShape(V[S].id);this._animateMod(V[S],W[S],O,R)}else{this._animateMod(false,W[S],O,R)}}this.zr.refresh();this.animationEffect()}else{this.motionlessOnce=false;this.zr.delShape(N);for(var P=0,U=Q.length;P<U;P++){this.zr.addShape(Q[P])}}},_getAnimationKey:function(N){if(this.type!=I.CHART_TYPE_MAP){return A.get(N,"seriesIndex")+"_"+A.get(N,"dataIndex")+(N._mark?N._mark:"")+(this.type===I.CHART_TYPE_RADAR?A.get(N,"special"):"")}else{return A.get(N,"seriesIndex")+"_"+A.get(N,"dataIndex")+(N._mark?N._mark:"undefined")}},_animateMod:function(O,Q,P,N){switch(Q.type){case"broken-line":case"half-smooth-polygon":E.pointList(this.zr,O,Q,P,N);break;case"rectangle":E.rectangle(this.zr,O,Q,P,N);break;case"icon":E.icon(this.zr,O,Q,P,N);break;case"candle":if(P>500){E.candle(this.zr,O,Q,P,N)}else{this.zr.addShape(Q)}break;case"ring":case"sector":case"circle":if(P>500){E.ring(this.zr,O,Q,P+((A.get(Q,"dataIndex")||0)%20*100),N)}else{if(Q.type==="sector"){E.sector(this.zr,O,Q,P,N)}else{this.zr.addShape(Q)}}break;case"text":E.text(this.zr,O,Q,P,N);break;case"polygon":if(P>500){E.polygon(this.zr,O,Q,P,N)}else{E.pointList(this.zr,O,Q,P,N)}break;case"chord":E.chord(this.zr,O,Q,P,N);break;case"gauge-pointer":E.gaugePointer(this.zr,O,Q,P,N);break;case"mark-line":E.markline(this.zr,O,Q,P,N);break;case"line":E.line(this.zr,O,Q,P,N);break;default:this.zr.addShape(Q);break}},animationMark:function(Q,O,S){var R=S||this.shapeList;for(var N=0,P=R.length;N<P;N++){if(!R[N]._mark){continue}this._animateMod(false,R[N],Q,O)}this.animationEffect(S)},animationEffect:function(O){!O&&this.clearEffectShape();var R=O||this.shapeList;var P=I.EFFECT_ZLEVEL;if(this.canvasSupported){this.zr.modLayer(P,{motionBlur:true,lastFrameAlpha:0.95})}var S;for(var N=0,Q=R.length;N<Q;N++){S=R[N];if(!(S._mark&&S.effect&&S.effect.show&&C[S._mark])){continue}C[S._mark](this.zr,this.effectList,S,P);this.effectList[this.effectList.length-1]._mark=S._mark}},clearEffectShape:function(N){if(this.zr&&this.effectList&&this.effectList.length>0){N&&this.zr.modLayer(I.EFFECT_ZLEVEL,{motionBlur:false});this.zr.delShape(this.effectList)}this.effectList=[]},addMark:function(W,P,O){var N=this.series[W];if(this.selectedMap[N.name]){var Q=500;var S=this.query(this.option,"animationEasing");var U=N[O].data;var T=this.shapeList.length;N[O].data=P.data;this["_build"+O.replace("m","M")](W);if(this.option.animation&&!this.option.renderAsImage){this.animationMark(Q,S,this.shapeList.slice(T))}else{for(var R=T,V=this.shapeList.length;R<V;R++){this.zr.addShape(this.shapeList[R])}this.zr.refresh()}N[O].data=U}},delMark:function(Q,O,S){S=S.replace("mark","").replace("large","").toLowerCase();var N=this.series[Q];if(this.selectedMap[N.name]){var P=false;var T=[this.shapeList,this.effectList];var U=2;while(U--){for(var R=0,V=T[U].length;R<V;R++){if(T[U][R]._mark===S&&A.get(T[U][R],"seriesIndex")===Q&&A.get(T[U][R],"name")===O){this.zr.delShape(T[U][R].id);T[U].splice(R,1);P=true;break}}}P&&this.zr.refresh()}}};return G});define("echarts/chart",[],function(){var A={};var B={};A.define=function(C,D){B[C]=D;return A};A.get=function(C){return B[C]};return A});define("echarts/chart/island",["require","../component/base","./base","zrender/shape/Circle","../config","../util/ecData","zrender/tool/util","zrender/tool/event","zrender/tool/color","../util/accMath","../chart"],function(F){var C=F("../component/base");var B=F("./base");var D=F("zrender/shape/Circle");var G=F("../config");var A=F("../util/ecData");var E=F("zrender/tool/util");var I=F("zrender/tool/event");function H(J,L,K,M,N){C.call(this,J,L,K,{},N);B.call(this);this._nameConnector;this._valueConnector;this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();var O=this;O.shapeHandler.onmousewheel=function(R){var V=R.target;var S=R.event;var Q=I.getDelta(S);Q=Q>0?(-1):1;V.style.r-=Q;V.style.r=V.style.r<5?5:V.style.r;var T=A.get(V,"value");var P=T*O.option.island.calculateStep;if(P>1){T=Math.round(T-P*Q)}else{T=(T-P*Q).toFixed(2)-0}var U=A.get(V,"name");V.style.text=U+":"+T;A.set(V,"value",T);A.set(V,"name",U);O.zr.modShape(V.id);O.zr.refresh();I.stop(S)}}H.prototype={type:G.CHART_TYPE_ISLAND,_combine:function(M,K){var O=F("zrender/tool/color");var J=F("../util/accMath");var N=J.accAdd(A.get(M,"value"),A.get(K,"value"));var L=A.get(M,"name")+this._nameConnector+A.get(K,"name");M.style.text=L+this._valueConnector+N;A.set(M,"value",N);A.set(M,"name",L);M.style.r=this.option.island.r;M.style.color=O.mix(M.style.color,K.style.color)},refresh:function(J){if(J){J.island=this.reformOption(J.island);this.option=J;this._nameConnector=this.option.nameConnector;this._valueConnector=this.option.valueConnector}},getOption:function(){return this.option},resize:function(){var M=this.zr.getWidth();var O=this.zr.getHeight();var K=M/(this._zrWidth||M);var N=O/(this._zrHeight||O);if(K===1&&N===1){return}this._zrWidth=M;this._zrHeight=O;for(var J=0,L=this.shapeList.length;J<L;J++){this.zr.modShape(this.shapeList[J].id,{style:{x:Math.round(this.shapeList[J].style.x*K),y:Math.round(this.shapeList[J].style.y*N)}})}},add:function(O){var L=A.get(O,"name");var M=A.get(O,"value");var N=A.get(O,"series")!=null?A.get(O,"series").name:"";var K=this.getFont(this.option.island.textStyle);var J={zlevel:this._zlevelBase,style:{x:O.style.x,y:O.style.y,r:this.option.island.r,color:O.style.color||O.style.strokeColor,text:L+this._valueConnector+M,textFont:K},draggable:true,hoverable:true,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};if(J.style.color==="#fff"){J.style.color=O.style.strokeColor}this.setCalculable(J);J.dragEnableTime=0;A.pack(J,{name:N},-1,M,-1,L);J=new D(J);this.shapeList.push(J);this.zr.addShape(J)},del:function(M){this.zr.delShape(M.id);var L=[];for(var J=0,K=this.shapeList.length;J<K;J++){if(this.shapeList[J].id!=M.id){L.push(this.shapeList[J])}}this.shapeList=L},ondrop:function(K,M){if(!this.isDrop||!K.target){return}var L=K.target;var J=K.dragged;this._combine(L,J);this.zr.modShape(L.id);M.dragIn=true;this.isDrop=false;return},ondragend:function(J,L){var K=J.target;if(!this.isDragend){if(!L.dragIn){K.style.x=I.getX(J.event);K.style.y=I.getY(J.event);this.add(K);L.needRefresh=true}}else{if(L.dragIn){this.del(K);L.needRefresh=true}}this.isDragend=false;return}};E.inherits(H,B);E.inherits(H,C);F("../chart").define("island",H);return H});define("echarts/component",[],function(){var B={};var A={};B.define=function(C,D){A[C]=D;return B};B.get=function(C){return A[C]};return B});define("echarts/component/dataView",["require","./base","../config","zrender/tool/util","../component"],function(C){var E=C("./base");var D=C("../config");var A=C("zrender/tool/util");function B(F,H,G,I,J){E.call(this,F,H,G,I,J);this.dom=J.dom;this._tDom=document.createElement("div");this._textArea=document.createElement("textArea");this._buttonRefresh=document.createElement("button");this._buttonClose=document.createElement("button");this._hasShow=false;this._zrHeight=G.getHeight();this._zrWidth=G.getWidth();this._tDom.className="echarts-dataview",this.hide();this.dom.firstChild.appendChild(this._tDom);if(window.addEventListener){this._tDom.addEventListener("click",this._stop);this._tDom.addEventListener("mousewheel",this._stop);this._tDom.addEventListener("mousemove",this._stop);this._tDom.addEventListener("mousedown",this._stop);this._tDom.addEventListener("mouseup",this._stop);this._tDom.addEventListener("touchstart",this._stop);this._tDom.addEventListener("touchmove",this._stop);this._tDom.addEventListener("touchend",this._stop)}else{this._tDom.attachEvent("onclick",this._stop);this._tDom.attachEvent("onmousewheel",this._stop);this._tDom.attachEvent("onmousemove",this._stop);this._tDom.attachEvent("onmousedown",this._stop);this._tDom.attachEvent("onmouseup",this._stop)}}B.prototype={type:D.COMPONENT_TYPE_DATAVIEW,_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:"+0+"px;background-color:#f0ffff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(I){this._hasShow=true;var H=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=I;this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(H[0]||this._lang[0])+"</p>";this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:"+(this._zrWidth-15)+"px;height:"+(this._zrHeight-100)+"px;";var F=this.query(this.option,"toolbox.feature.dataView.optionToContent");if(typeof F!="function"){this._textArea.value=this._optionToContent()}else{this._textArea.value=F(this.option)}this._tDom.appendChild(this._textArea);this._buttonClose.style.cssText="float:right;padding:1px 6px;";this._buttonClose.innerHTML=H[1]||this._lang[1];var G=this;this._buttonClose.onclick=function(){G.hide()};this._tDom.appendChild(this._buttonClose);if(this.query(this.option,"toolbox.feature.dataView.readOnly")===false){this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;";this._buttonRefresh.innerHTML=H[2]||this._lang[2];this._buttonRefresh.onclick=function(){G._save()};this._tDom.appendChild(this._buttonRefresh);this._textArea.readOnly=false;this._textArea.style.cursor="default"}else{this._textArea.readOnly=true;this._textArea.style.cursor="text"}this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var K;var H;var I;var M;var G;var N;var J=[];var O="";if(this.option.xAxis){if(this.option.xAxis instanceof Array){J=this.option.xAxis}else{J=[this.option.xAxis]}for(K=0,M=J.length;K<M;K++){if((J[K].type||"category")=="category"){N=[];for(H=0,I=J[K].data.length;H<I;H++){G=J[K].data[H];N.push(typeof G.value!="undefined"?G.value:G)}O+=N.join(", ")+"\n\n"}}}if(this.option.yAxis){if(this.option.yAxis instanceof Array){J=this.option.yAxis}else{J=[this.option.yAxis]}for(K=0,M=J.length;K<M;K++){if(J[K].type=="category"){N=[];for(H=0,I=J[K].data.length;H<I;H++){G=J[K].data[H];N.push(typeof G.value!="undefined"?G.value:G)}O+=N.join(", ")+"\n\n"}}}var F=this.option.series;var L;for(K=0,M=F.length;K<M;K++){N=[];for(H=0,I=F[K].data.length;H<I;H++){G=F[K].data[H];if(F[K].type==D.CHART_TYPE_PIE||F[K].type==D.CHART_TYPE_MAP){L=(G.name||"-")+":"}else{L=""}if(F[K].type==D.CHART_TYPE_SCATTER){G=typeof G.value!="undefined"?G.value:G;G=G.join(", ")}N.push(L+(typeof G.value!="undefined"?G.value:G))}O+=(F[K].name||"-")+" : \n";O+=N.join(F[K].type==D.CHART_TYPE_SCATTER?"\n":", ");O+="\n\n"}return O},_save:function(){var J=this._textArea.value;var F=this.query(this.option,"toolbox.feature.dataView.contentToOption");if(typeof F!="function"){J=J.split("\n");var K=[];for(var G=0,I=J.length;G<I;G++){J[G]=this._trim(J[G]);if(J[G]!==""){K.push(J[G])}}this._contentToOption(K)}else{F(J,this.option)}this.hide();var H=this;setTimeout(function(){H.messageCenter&&H.messageCenter.dispatch(D.EVENT.DATA_VIEW_CHANGED,null,{option:H.option},H.myChart)},H.canvasSupported?800:100)},_contentToOption:function(P){var L;var I;var J;var N;var G;var K=[];var M=0;var O;var H;if(this.option.xAxis){if(this.option.xAxis instanceof Array){K=this.option.xAxis}else{K=[this.option.xAxis]}for(L=0,N=K.length;L<N;L++){if((K[L].type||"category")=="category"){O=P[M].split(",");for(I=0,J=K[L].data.length;I<J;I++){H=this._trim(O[I]||"");G=K[L].data[I];if(typeof K[L].data[I].value!="undefined"){K[L].data[I].value=H}else{K[L].data[I]=H}}M++}}}if(this.option.yAxis){if(this.option.yAxis instanceof Array){K=this.option.yAxis}else{K=[this.option.yAxis]}for(L=0,N=K.length;L<N;L++){if(K[L].type=="category"){O=P[M].split(",");for(I=0,J=K[L].data.length;I<J;I++){H=this._trim(O[I]||"");G=K[L].data[I];if(typeof K[L].data[I].value!="undefined"){K[L].data[I].value=H}else{K[L].data[I]=H}}M++}}}var F=this.option.series;for(L=0,N=F.length;L<N;L++){M++;if(F[L].type==D.CHART_TYPE_SCATTER){for(var I=0,J=F[L].data.length;I<J;I++){O=P[M];H=O.replace(" ","").split(",");if(typeof F[L].data[I].value!="undefined"){F[L].data[I].value=H}else{F[L].data[I]=H}M++}}else{O=P[M].split(",");for(var I=0,J=F[L].data.length;I<J;I++){H=(O[I]||"").replace(/.*:/,"");H=this._trim(H);H=(H!="-"&&H!=="")?(H-0):"-";if(typeof F[L].data[I].value!="undefined"){F[L].data[I].value=H}else{F[L].data[I]=H}}M++}}},_trim:function(F){var G=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g");return F.replace(G,"")},_stop:function(F){F=F||window.event;if(F.stopPropagation){F.stopPropagation()}else{F.cancelBubble=true}},resize:function(){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();if(this._tDom.offsetHeight>10){this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText;this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:"+(this._zrWidth-15)+"px;height:"+(this._zrHeight-100)+"px;"}},dispose:function(){if(window.removeEventListener){this._tDom.removeEventListener("click",this._stop);this._tDom.removeEventListener("mousewheel",this._stop);this._tDom.removeEventListener("mousemove",this._stop);this._tDom.removeEventListener("mousedown",this._stop);this._tDom.removeEventListener("mouseup",this._stop);this._tDom.removeEventListener("touchstart",this._stop);this._tDom.removeEventListener("touchmove",this._stop);this._tDom.removeEventListener("touchend",this._stop)}else{this._tDom.detachEvent("onclick",this._stop);this._tDom.detachEvent("onmousewheel",this._stop);this._tDom.detachEvent("onmousemove",this._stop);this._tDom.detachEvent("onmousedown",this._stop);this._tDom.detachEvent("onmouseup",this._stop)}this._buttonRefresh.onclick=null;this._buttonClose.onclick=null;if(this._hasShow){this._tDom.removeChild(this._textArea);this._tDom.removeChild(this._buttonRefresh);this._tDom.removeChild(this._buttonClose)}this._textArea=null;this._buttonRefresh=null;this._buttonClose=null;this.dom.firstChild.removeChild(this._tDom);this._tDom=null}};A.inherits(B,E);C("../component").define("dataView",B);return B});define("echarts/component/toolbox",["require","./base","zrender/shape/Line","zrender/shape/Image","zrender/shape/Rectangle","../util/shape/Icon","../config","zrender/tool/util","zrender/config","zrender/tool/event","./dataView","../component"],function(E){var F=E("./base");var K=E("zrender/shape/Line");var L=E("zrender/shape/Image");var M=E("zrender/shape/Rectangle");var B=E("../util/shape/Icon");var I=E("../config");var C=E("zrender/tool/util");var H=E("zrender/config");var J=E("zrender/tool/event");var A="stack";var G="tiled";function D(N,P,O,Q,R){F.call(this,N,P,O,Q,R);this.dom=R.dom;this._magicType={};this._magicMap={};this._isSilence=false;this._iconList;this._iconShapeMap={};this._featureTitle={};this._featureIcon={};this._featureColor={};this._enableColor="red";this._disableColor="#ccc";this._markShapeList=[];var S=this;S._onMark=function(T){S.__onMark(T)};S._onMarkUndo=function(T){S.__onMarkUndo(T)};S._onMarkClear=function(T){S.__onMarkClear(T)};S._onDataZoom=function(T){S.__onDataZoom(T)};S._onDataZoomReset=function(T){S.__onDataZoomReset(T)};S._onDataView=function(T){S.__onDataView(T)};S._onRestore=function(T){S.__onRestore(T)};S._onSaveAsImage=function(T){S.__onSaveAsImage(T)};S._onMagicType=function(T){S.__onMagicType(T)};S._onCustomHandler=function(T){S.__onCustomHandler(T)};S._onmousemove=function(T){return S.__onmousemove(T)};S._onmousedown=function(T){return S.__onmousedown(T)};S._onmouseup=function(T){return S.__onmouseup(T)};S._onclick=function(T){return S.__onclick(T)}}D.prototype={type:I.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var T=this.option.toolbox;this._enableColor=T.effectiveColor;this._disableColor=T.disableColor;var O=T.feature;var Q=[];for(var N in O){if(O[N].show){switch(N){case"mark":Q.push({key:N,name:"mark"});Q.push({key:N,name:"markUndo"});Q.push({key:N,name:"markClear"});break;case"magicType":for(var P=0,R=O[N].type.length;P<R;P++){O[N].title[O[N].type[P]+"Chart"]=O[N].title[O[N].type[P]];Q.push({key:N,name:O[N].type[P]+"Chart"})}break;case"dataZoom":Q.push({key:N,name:"dataZoom"});Q.push({key:N,name:"dataZoomReset"});break;case"saveAsImage":if(this.canvasSupported){Q.push({key:N,name:"saveAsImage"})}break;default:Q.push({key:N,name:N});break}}}if(Q.length>0){var S;var N;for(var P=0,R=Q.length;P<R;P++){S=Q[P].name;N=Q[P].key;this._iconList.push(S);this._featureTitle[S]=O[N].title[S]||O[N].title;if(O[N].icon){this._featureIcon[S]=O[N].icon[S]||O[N].icon}if(O[N].color){this._featureColor[S]=O[N].color[S]||O[N].color}}this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var P=0,R=this.shapeList.length;P<R;P++){this.zr.addShape(this.shapeList[P])}if(this._iconShapeMap["mark"]){this._iconDisable(this._iconShapeMap["markUndo"]);this._iconDisable(this._iconShapeMap["markClear"])}if(this._iconShapeMap["dataZoomReset"]&&this._zoomQueue.length===0){this._iconDisable(this._iconShapeMap["dataZoomReset"])}}},_buildItem:function(){var N=this.option.toolbox;var O=this._iconList.length;var T=this._itemGroupLocation.x;var S=this._itemGroupLocation.y;var Y=N.itemSize;var V=N.itemGap;var P;var Q=N.color instanceof Array?N.color:[N.color];var X=this.getFont(N.textStyle);var b;var a;var R;if(N.orient==="horizontal"){b=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"bottom":"top";a=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"left":"right";R=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"top":"bottom"}else{b=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"right":"left"}this._iconShapeMap={};var W=this;for(var Z=0;Z<O;Z++){P={type:"icon",zlevel:this._zlevelBase,style:{x:T,y:S,width:Y,height:Y,iconType:this._iconList[Z],lineWidth:1,strokeColor:this._featureColor[this._iconList[Z]]||Q[Z%Q.length],brushType:"stroke"},highlightStyle:{lineWidth:1,text:N.showTitle?this._featureTitle[this._iconList[Z]]:undefined,textFont:X,textPosition:b,strokeColor:this._featureColor[this._iconList[Z]]||Q[Z%Q.length]},hoverable:true,clickable:true};if(this._featureIcon[this._iconList[Z]]){P.style.image=this._featureIcon[this._iconList[Z]].replace(new RegExp("^image:\\/\\/"),"");P.style.opacity=0.8;P.highlightStyle.opacity=1;P.type="image"}if(N.orient==="horizontal"){if(Z===0&&a==="left"){P.highlightStyle.textPosition="specific";P.highlightStyle.textAlign=a;P.highlightStyle.textBaseline=R;P.highlightStyle.textX=T;P.highlightStyle.textY=R==="top"?S+Y+10:S-10}if(Z===O-1&&a==="right"){P.highlightStyle.textPosition="specific";P.highlightStyle.textAlign=a;P.highlightStyle.textBaseline=R;P.highlightStyle.textX=T+Y;P.highlightStyle.textY=R==="top"?S+Y+10:S-10}}switch(this._iconList[Z]){case"mark":P.onclick=W._onMark;break;case"markUndo":P.onclick=W._onMarkUndo;break;case"markClear":P.onclick=W._onMarkClear;break;case"dataZoom":P.onclick=W._onDataZoom;break;case"dataZoomReset":P.onclick=W._onDataZoomReset;break;case"dataView":if(!this._dataView){var U=E("./dataView");this._dataView=new U(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart)}P.onclick=W._onDataView;break;case"restore":P.onclick=W._onRestore;break;case"saveAsImage":P.onclick=W._onSaveAsImage;break;default:if(this._iconList[Z].match("Chart")){P._name=this._iconList[Z].replace("Chart","");P.onclick=W._onMagicType}else{P.onclick=W._onCustomHandler}break}if(P.type==="icon"){P=new B(P)}else{if(P.type==="image"){P=new L(P)}}this.shapeList.push(P);this._iconShapeMap[this._iconList[Z]]=P;if(N.orient==="horizontal"){T+=Y+V}else{S+=Y+V}}},_buildBackground:function(){var Q=this.option.toolbox;var O=Q.padding[0];var N=Q.padding[1];var R=Q.padding[2];var P=Q.padding[3];this.shapeList.push(new M({zlevel:this._zlevelBase,hoverable:false,style:{x:this._itemGroupLocation.x-P,y:this._itemGroupLocation.y-O,width:this._itemGroupLocation.width+P+N,height:this._itemGroupLocation.height+O+R,brushType:Q.borderWidth===0?"fill":"both",color:Q.backgroundColor,strokeColor:Q.borderColor,lineWidth:Q.borderWidth}}))},_getItemGroupLocation:function(){var N=this.option.toolbox;var O=this._iconList.length;var S=N.itemGap;var W=N.itemSize;var R=0;var Q=0;if(N.orient==="horizontal"){R=(W+S)*O-S;Q=W}else{Q=(W+S)*O-S;R=W}var U;var T=this.zr.getWidth();switch(N.x){case"center":U=Math.floor((T-R)/2);break;case"left":U=N.padding[3]+N.borderWidth;break;case"right":U=T-R-N.padding[1]-N.borderWidth;break;default:U=N.x-0;U=isNaN(U)?0:U;break}var V;var P=this.zr.getHeight();switch(N.y){case"top":V=N.padding[0]+N.borderWidth;break;case"bottom":V=P-Q-N.padding[2]-N.borderWidth;break;case"center":V=Math.floor((P-Q)/2);break;default:V=N.y-0;V=isNaN(V)?0:V;break}return{x:U,y:V,width:R,height:Q}},__onmousemove:function(N){if(this._marking){this._markShape.style.xEnd=J.getX(N.event);this._markShape.style.yEnd=J.getY(N.event);this.zr.addHoverShape(this._markShape)}if(this._zooming){this._zoomShape.style.width=J.getX(N.event)-this._zoomShape.style.x;this._zoomShape.style.height=J.getY(N.event)-this._zoomShape.style.y;this.zr.addHoverShape(this._zoomShape);this.dom.style.cursor="crosshair"}if(this._zoomStart&&(this.dom.style.cursor!="pointer"&&this.dom.style.cursor!="move")){this.dom.style.cursor="crosshair"}},__onmousedown:function(O){if(O.target){return}this._zooming=true;var P=J.getX(O.event);var Q=J.getY(O.event);var N=this.option.dataZoom||{};this._zoomShape=new M({zlevel:this._zlevelBase,style:{x:P,y:Q,width:1,height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:N.fillerColor||I.dataZoom.fillerColor,strokeColor:N.handleColor||I.dataZoom.handleColor,brushType:"both"}});this.zr.addHoverShape(this._zoomShape);return true},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10){this._zooming=false;return true}if(this._zooming&&this.component.dataZoom){this._zooming=false;var N=this.component.dataZoom.rectZoom(this._zoomShape.style);if(N){this._zoomQueue.push({start:N.start,end:N.end,start2:N.start2,end2:N.end2});this._iconEnable(this._iconShapeMap["dataZoomReset"]);this.zr.refresh()}}return true},__onclick:function(N){if(N.target){return}if(this._marking){this._marking=false;this._markShapeList.push(this._markShape);this._iconEnable(this._iconShapeMap["markUndo"]);this._iconEnable(this._iconShapeMap["markClear"]);this.zr.addShape(this._markShape);this.zr.refresh()}else{if(this._markStart){this._marking=true;var O=J.getX(N.event);var P=J.getY(N.event);this._markShape=new K({zlevel:this._zlevelBase,style:{xStart:O,yStart:P,xEnd:O,yEnd:P,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}});this.zr.addHoverShape(this._markShape)}}},__onMark:function(O){var P=O.target;if(this._marking||this._markStart){this._resetMark();this.zr.refresh()}else{this._resetZoom();this.zr.modShape(P.id,{style:{strokeColor:this._enableColor}});this.zr.refresh();this._markStart=true;var N=this;setTimeout(function(){N.zr&&N.zr.on(H.EVENT.CLICK,N._onclick)&&N.zr.on(H.EVENT.MOUSEMOVE,N._onmousemove)},10)}return true},__onMarkUndo:function(){if(this._marking){this._marking=false}else{var N=this._markShapeList.length;if(N>=1){var O=this._markShapeList[N-1];this.zr.delShape(O.id);this.zr.refresh();this._markShapeList.pop();if(N===1){this._iconDisable(this._iconShapeMap["markUndo"]);this._iconDisable(this._iconShapeMap["markClear"])}}}return true},__onMarkClear:function(){if(this._marking){this._marking=false}var N=this._markShapeList.length;if(N>0){while(N--){this.zr.delShape(this._markShapeList.pop().id)}this._iconDisable(this._iconShapeMap["markUndo"]);this._iconDisable(this._iconShapeMap["markClear"]);this.zr.refresh()}return true},__onDataZoom:function(O){var P=O.target;if(this._zooming||this._zoomStart){this._resetZoom();this.zr.refresh();this.dom.style.cursor="default"}else{this._resetMark();this.zr.modShape(P.id,{style:{strokeColor:this._enableColor}});this.zr.refresh();this._zoomStart=true;var N=this;setTimeout(function(){N.zr&&N.zr.on(H.EVENT.MOUSEDOWN,N._onmousedown)&&N.zr.on(H.EVENT.MOUSEUP,N._onmouseup)&&N.zr.on(H.EVENT.MOUSEMOVE,N._onmousemove)},10);this.dom.style.cursor="crosshair"}return true},__onDataZoomReset:function(){if(this._zooming){this._zooming=false}this._zoomQueue.pop();if(this._zoomQueue.length>0){this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1])}else{this.component.dataZoom.rectZoom();this._iconDisable(this._iconShapeMap["dataZoomReset"]);this.zr.refresh()}return true},_resetMark:function(){this._marking=false;if(this._markStart){this._markStart=false;if(this._iconShapeMap["mark"]){this.zr.modShape(this._iconShapeMap["mark"].id,{style:{strokeColor:this._iconShapeMap["mark"].highlightStyle.strokeColor}})}this.zr.un(H.EVENT.CLICK,this._onclick);this.zr.un(H.EVENT.MOUSEMOVE,this._onmousemove)}},_resetZoom:function(){this._zooming=false;if(this._zoomStart){this._zoomStart=false;if(this._iconShapeMap["dataZoom"]){this.zr.modShape(this._iconShapeMap["dataZoom"].id,{style:{strokeColor:this._iconShapeMap["dataZoom"].highlightStyle.strokeColor}})}this.zr.un(H.EVENT.MOUSEDOWN,this._onmousedown);this.zr.un(H.EVENT.MOUSEUP,this._onmouseup);this.zr.un(H.EVENT.MOUSEMOVE,this._onmousemove)}},_iconDisable:function(N){if(N.type!="image"){this.zr.modShape(N.id,{hoverable:false,clickable:false,style:{strokeColor:this._disableColor}})}else{this.zr.modShape(N.id,{hoverable:false,clickable:false,style:{opacity:0.3}})}},_iconEnable:function(N){if(N.type!="image"){this.zr.modShape(N.id,{hoverable:true,clickable:true,style:{strokeColor:N.highlightStyle.strokeColor}})}else{this.zr.modShape(N.id,{hoverable:true,clickable:true,style:{opacity:0.8}})}},__onDataView:function(){this._dataView.show(this.option);return true},__onRestore:function(){this._resetMark();this._resetZoom();this.messageCenter.dispatch(I.EVENT.RESTORE,null,null,this.myChart);return true},__onSaveAsImage:function(){var Q=this.option.toolbox.feature.saveAsImage;var O=Q.type||"png";if(O!="png"&&O!="jpeg"){O="png"}var P;if(!this.myChart.isConnected()){P=this.zr.toDataURL("image/"+O,this.option.backgroundColor&&this.option.backgroundColor.replace(" ","")==="rgba(0,0,0,0)"?"#fff":this.option.backgroundColor)}else{P=this.myChart.getConnectedDataURL(O)}var N=document.createElement("div");N.id="__echarts_download_wrap__";N.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";var R=document.createElement("a");R.href=P;R.setAttribute("download",(Q.name?Q.name:(this.option.title&&(this.option.title.text||this.option.title.subtext))?(this.option.title.text||this.option.title.subtext):"ECharts")+"."+O);R.innerHTML='<img style="vertical-align:middle" src="'+P+'" title="'+(!!(window.attachEvent&&navigator.userAgent.indexOf("Opera")===-1)?"右键->图片另存为":(Q.lang?Q.lang[0]:"点击保存"))+'"/>';N.appendChild(R);document.body.appendChild(N);R=null;N=null;setTimeout(function(){var S=document.getElementById("__echarts_download_wrap__");if(S){S.onclick=function(){var T=document.getElementById("__echarts_download_wrap__");T.onclick=null;T.innerHTML="";document.body.removeChild(T);T=null};S=null}},500);return},__onMagicType:function(N){this._resetMark();var O=N.target._name;if(!this._magicType[O]){this._magicType[O]=true;if(O===I.CHART_TYPE_LINE){this._magicType[I.CHART_TYPE_BAR]=false}else{if(O===I.CHART_TYPE_BAR){this._magicType[I.CHART_TYPE_LINE]=false}}if(O===A){this._magicType[G]=false}else{if(O===G){this._magicType[A]=false}}this.messageCenter.dispatch(I.EVENT.MAGIC_TYPE_CHANGED,N.event,{magicType:this._magicType},this.myChart)}return true},setMagicType:function(N){this._resetMark();this._magicType=N;!this._isSilence&&this.messageCenter.dispatch(I.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(N){var O=N.target.style.iconType;var P=this.option.toolbox.feature[O].onclick;if(typeof P==="function"){P.call(this,this.option)}},reset:function(O,R){R&&this.clear();if(this.query(O,"toolbox.show")&&this.query(O,"toolbox.feature.magicType.show")){var T=O.toolbox.feature.magicType.type;var W=T.length;this._magicMap={};while(W--){this._magicMap[T[W]]=true}W=O.series.length;var N;var P;while(W--){N=O.series[W].type;if(this._magicMap[N]){P=O.xAxis instanceof Array?O.xAxis[O.series[W].xAxisIndex||0]:O.xAxis;if(P&&(P.type||"category")==="category"){P.__boundaryGap=P.boundaryGap!=null?P.boundaryGap:true}P=O.yAxis instanceof Array?O.yAxis[O.series[W].yAxisIndex||0]:O.yAxis;if(P&&P.type==="category"){P.__boundaryGap=P.boundaryGap!=null?P.boundaryGap:true}O.series[W].__type=N;O.series[W].__itemStyle=C.clone(O.series[W].itemStyle||{})}if(this._magicMap[A]||this._magicMap[G]){O.series[W].__stack=O.series[W].stack}}}this._magicType=R?{}:(this._magicType||{});for(var U in this._magicType){if(this._magicType[U]){this.option=O;this.getMagicOption();break}}var V=O.dataZoom;if(V&&V.show){var Q=V.start!=null&&V.start>=0&&V.start<=100?V.start:0;var S=V.end!=null&&V.end>=0&&V.end<=100?V.end:100;if(Q>S){Q=Q+S;S=Q-S;Q=Q-S}this._zoomQueue=[{start:Q,end:S,start2:0,end2:100}]}else{this._zoomQueue=[]}},getMagicOption:function(){var Q;if(this._magicType[I.CHART_TYPE_LINE]||this._magicType[I.CHART_TYPE_BAR]){var N=this._magicType[I.CHART_TYPE_LINE]?false:true;for(var O=0,P=this.option.series.length;O<P;O++){if(this._magicMap[this.option.series[O].type]){this.option.series[O].type=this._magicType[I.CHART_TYPE_LINE]?I.CHART_TYPE_LINE:I.CHART_TYPE_BAR;this.option.series[O].itemStyle=C.clone(this.option.series[O].__itemStyle);Q=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[O].xAxisIndex||0]:this.option.xAxis;if(Q&&(Q.type||"category")==="category"){Q.boundaryGap=N?true:Q.__boundaryGap}Q=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[O].yAxisIndex||0]:this.option.yAxis;if(Q&&Q.type==="category"){Q.boundaryGap=N?true:Q.__boundaryGap}}}}if(this._magicType[A]||this._magicType[G]){for(var O=0,P=this.option.series.length;O<P;O++){if(this._magicType[A]){this.option.series[O].stack="_ECHARTS_STACK_KENER_2014_"}else{if(this._magicType[G]){this.option.series[O].stack=null}}}}return this.option},silence:function(N){this._isSilence=N},resize:function(){this._resetMark();this.clear();if(this.option&&this.option.toolbox&&this.option.toolbox.show){this._buildShape()}if(this._dataView){this._dataView.resize()}},hideDataView:function(){if(this._dataView){this._dataView.hide()}},clear:function(N){if(this.zr){this.zr.delShape(this.shapeList);this.shapeList=[];if(!N){this.zr.delShape(this._markShapeList);this._markShapeList=[]}}},dispose:function(){if(this._dataView){this._dataView.dispose();this._dataView=null}this.clear();this.shapeList=null;this._markShapeList=null},refresh:function(N){if(N){this._resetMark();this._resetZoom();N.toolbox=this.reformOption(N.toolbox);N.toolbox.padding=this.reformCssArray(N.toolbox.padding);this.option=N;this.clear(true);if(N.toolbox.show){this._buildShape()}this.hideDataView()}}};C.inherits(D,F);E("../component").define("toolbox",D);return D});define("echarts/component/title",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","../component"],function(D){var I=D("./base");var F=D("zrender/shape/Text");var A=D("zrender/shape/Rectangle");var E=D("../config");var B=D("zrender/tool/util");var G=D("zrender/tool/area");var H=D("zrender/tool/color");function C(J,L,K,M,N){I.call(this,J,L,K,M,N);this.refresh(M)}C.prototype={type:E.COMPONENT_TYPE_TITLE,_buildShape:function(){this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var J=0,K=this.shapeList.length;J<K;J++){this.zr.addShape(this.shapeList[J])}},_buildItem:function(){var R=this.titleOption.text;var K=this.titleOption.link;var T=this.titleOption.target;var P=this.titleOption.subtext;var O=this.titleOption.sublink;var J=this.titleOption.subtarget;var N=this.getFont(this.titleOption.textStyle);var M=this.getFont(this.titleOption.subtextStyle);var U=this._itemGroupLocation.x;var V=this._itemGroupLocation.y;var S=this._itemGroupLocation.width;var L=this._itemGroupLocation.height;var Q={zlevel:this._zlevelBase,style:{y:V,color:this.titleOption.textStyle.color,text:R,textFont:N,textBaseline:"top"},highlightStyle:{color:H.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:false};if(K){Q.hoverable=true;Q.clickable=true;Q.onclick=function(){if(!T||T!="self"){window.open(K)}else{window.location=K}}}var W={zlevel:this._zlevelBase,style:{y:V+L,color:this.titleOption.subtextStyle.color,text:P,textFont:M,textBaseline:"bottom"},highlightStyle:{color:H.lift(this.titleOption.subtextStyle.color,1),brushType:"fill"},hoverable:false};if(O){W.hoverable=true;W.clickable=true;W.onclick=function(){if(!J||J!="self"){window.open(O)}else{window.location=O}}}switch(this.titleOption.x){case"center":Q.style.x=W.style.x=U+S/2;Q.style.textAlign=W.style.textAlign="center";break;case"left":Q.style.x=W.style.x=U;Q.style.textAlign=W.style.textAlign="left";break;case"right":Q.style.x=W.style.x=U+S;Q.style.textAlign=W.style.textAlign="right";break;default:U=this.titleOption.x-0;U=isNaN(U)?0:U;Q.style.x=W.style.x=U;break}if(this.titleOption.textAlign){Q.style.textAlign=W.style.textAlign=this.titleOption.textAlign}this.shapeList.push(new F(Q));P!==""&&this.shapeList.push(new F(W))},_buildBackground:function(){var K=this.titleOption.padding[0];var J=this.titleOption.padding[1];var M=this.titleOption.padding[2];var L=this.titleOption.padding[3];this.shapeList.push(new A({zlevel:this._zlevelBase,hoverable:false,style:{x:this._itemGroupLocation.x-L,y:this._itemGroupLocation.y-K,width:this._itemGroupLocation.width+L+J,height:this._itemGroupLocation.height+K+M,brushType:this.titleOption.borderWidth===0?"fill":"both",color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var O=this.titleOption.text;var N=this.titleOption.subtext;var Q=this.getFont(this.titleOption.textStyle);var L=this.getFont(this.titleOption.subtextStyle);var J=Math.max(G.getTextWidth(O,Q),G.getTextWidth(N,L));var M=G.getTextHeight(O,Q)+(N===""?0:(this.titleOption.itemGap+G.getTextHeight(N,L)));var R;var P=this.zr.getWidth();switch(this.titleOption.x){case"center":R=Math.floor((P-J)/2);break;case"left":R=this.titleOption.padding[3]+this.titleOption.borderWidth;break;case"right":R=P-J-this.titleOption.padding[1]-this.titleOption.borderWidth;break;default:R=this.titleOption.x-0;R=isNaN(R)?0:R;break}var S;var K=this.zr.getHeight();switch(this.titleOption.y){case"top":S=this.titleOption.padding[0]+this.titleOption.borderWidth;break;case"bottom":S=K-M-this.titleOption.padding[2]-this.titleOption.borderWidth;break;case"center":S=Math.floor((K-M)/2);break;default:S=this.titleOption.y-0;S=isNaN(S)?0:S;break}return{x:R,y:S,width:J,height:M}},refresh:function(J){if(J){this.option=J;this.option.title=this.reformOption(this.option.title);this.option.title.padding=this.reformCssArray(this.option.title.padding);this.titleOption=this.option.title;this.titleOption.textStyle=B.merge(this.titleOption.textStyle,this.ecTheme.textStyle);this.titleOption.subtextStyle=B.merge(this.titleOption.subtextStyle,this.ecTheme.textStyle)}this.clear();this._buildShape()}};B.inherits(C,I);D("../component").define("title",C);return C});define("echarts/util/shape/Cross",["require","zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(B){var D=B("zrender/shape/Base");var C=B("zrender/shape/Line");var A=B("zrender/tool/util");function E(F){D.call(this,F)}E.prototype={type:"cross",buildPath:function(H,G){var F=G.rect;G.xStart=F.x;G.xEnd=F.x+F.width;G.yStart=G.yEnd=G.y;C.prototype.buildPath(H,G);G.xStart=G.xEnd=G.x;G.yStart=F.y;G.yEnd=F.y+F.height;C.prototype.buildPath(H,G)},getRect:function(F){return F.rect},isCover:B("./normalIsCover")};A.inherits(E,D);return E});define("echarts/component/tooltip",["require","./base","../util/shape/Cross","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/ecData","zrender/config","zrender/tool/event","zrender/tool/area","zrender/tool/color","zrender/tool/util","zrender/shape/Base","../component"],function(F){var O=F("./base");var G=F("../util/shape/Cross");var L=F("zrender/shape/Line");var D=F("zrender/shape/Rectangle");var A=new D({});var I=F("../config");var B=F("../util/ecData");var H=F("zrender/config");var K=F("zrender/tool/event");var M=F("zrender/tool/area");var N=F("zrender/tool/color");var E=F("zrender/tool/util");var J=F("zrender/shape/Base");function C(P,R,Q,S,T){O.call(this,P,R,Q,S,T);this.dom=T.dom;var U=this;U._onmousemove=function(V){return U.__onmousemove(V)};U._onglobalout=function(V){return U.__onglobalout(V)};this.zr.on(H.EVENT.MOUSEMOVE,U._onmousemove);this.zr.on(H.EVENT.GLOBALOUT,U._onglobalout);U._hide=function(V){return U.__hide(V)};U._tryShow=function(V){return U.__tryShow(V)};U._refixed=function(V){return U.__refixed(V)};U._setContent=function(V,W){return U.__setContent(V,W)};this._tDom=this._tDom||document.createElement("div");this._tDom.onselectstart=function(){return false};this._tDom.style.position="absolute";this.hasAppend=false;this._axisLineShape&&this.zr.delShape(this._axisLineShape.id);this._axisLineShape=new L({zlevel:this._zlevelBase,invisible:true,hoverable:false});this.shapeList.push(this._axisLineShape);this.zr.addShape(this._axisLineShape);this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id);this._axisShadowShape=new L({zlevel:1,invisible:true,hoverable:false});this.shapeList.push(this._axisShadowShape);this.zr.addShape(this._axisShadowShape);this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id);this._axisCrossShape=new G({zlevel:this._zlevelBase,invisible:true,hoverable:false});this.shapeList.push(this._axisCrossShape);this.zr.addShape(this._axisCrossShape);this.showing=false;this.refresh(S)}C.prototype={type:I.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",_style:function(Q){if(!Q){return""}var T=[];if(Q.transitionDuration){var R="left "+Q.transitionDuration+"s,top "+Q.transitionDuration+"s";T.push("transition:"+R);T.push("-moz-transition:"+R);T.push("-webkit-transition:"+R);T.push("-o-transition:"+R)}if(Q.backgroundColor){T.push("background-Color:"+N.toHex(Q.backgroundColor));T.push("filter:alpha(opacity=70)");T.push("background-Color:"+Q.backgroundColor)}if(Q.borderWidth!=null){T.push("border-width:"+Q.borderWidth+"px")}if(Q.borderColor!=null){T.push("border-color:"+Q.borderColor)}if(Q.borderRadius!=null){T.push("border-radius:"+Q.borderRadius+"px");T.push("-moz-border-radius:"+Q.borderRadius+"px");T.push("-webkit-border-radius:"+Q.borderRadius+"px");T.push("-o-border-radius:"+Q.borderRadius+"px")}var S=Q.textStyle;if(S){S.color&&T.push("color:"+S.color);S.decoration&&T.push("text-decoration:"+S.decoration);S.align&&T.push("text-align:"+S.align);S.fontFamily&&T.push("font-family:"+S.fontFamily);S.fontSize&&T.push("font-size:"+S.fontSize+"px");S.fontSize&&T.push("line-height:"+Math.round(S.fontSize*3/2)+"px");S.fontStyle&&T.push("font-style:"+S.fontStyle);S.fontWeight&&T.push("font-weight:"+S.fontWeight)}var P=Q.padding;if(P!=null){P=this.reformCssArray(P);T.push("padding:"+P[0]+"px "+P[1]+"px "+P[2]+"px "+P[3]+"px")}T=T.join(";")+";";return T},__hide:function(){if(this._tDom){this._tDom.style.display="none"}var P=false;if(!this._axisLineShape.invisible){this._axisLineShape.invisible=true;this.zr.modShape(this._axisLineShape.id);P=true}if(!this._axisShadowShape.invisible){this._axisShadowShape.invisible=true;this.zr.modShape(this._axisShadowShape.id);P=true}if(!this._axisCrossShape.invisible){this._axisCrossShape.invisible=true;this.zr.modShape(this._axisCrossShape.id);P=true}if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape);this._lastTipShape=false;this.shapeList.length=2}P&&this.zr.refresh();this.showing=false},_show:function(S,T,U,P){var R=this._tDom.offsetHeight;var Q=this._tDom.offsetWidth;if(S){if(typeof S==="function"){S=S([T,U])}if(S instanceof Array){T=S[0];U=S[1]}}if(T+Q>this._zrWidth){T-=(Q+40)}if(U+R>this._zrHeight){U-=(R-20)}if(U<20){U=0}this._tDom.style.cssText=this._gCssText+this._defaultCssText+(P?P:"")+"left:"+T+"px;top:"+U+"px;";if(R<10||Q<10){setTimeout(this._refixed,20)}this.showing=true},__refixed:function(){if(this._tDom){var R="";var Q=this._tDom.offsetHeight;var P=this._tDom.offsetWidth;if(this._tDom.offsetLeft+P>this._zrWidth){R+="left:"+(this._zrWidth-P-20)+"px;"}if(this._tDom.offsetTop+Q>this._zrHeight){R+="top:"+(this._zrHeight-Q-10)+"px;"}if(R!==""){this._tDom.style.cssText+=R}}},__tryShow:function(){var R;var Q;if(!this._curTarget){this._findPolarTrigger()||this._findAxisTrigger()}else{if(this._curTarget._type==="island"&&this.option.tooltip.show){this._showItemTrigger();return}var P=B.get(this._curTarget,"series");var S=B.get(this._curTarget,"data");R=this.deepQuery([S,P,this.option],"tooltip.show");if(P==null||S==null||!R){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay)}else{Q=this.deepQuery([S,P,this.option],"tooltip.trigger");Q==="axis"?this._showAxisTrigger(P.xAxisIndex,P.yAxisIndex,B.get(this._curTarget,"dataIndex")):this._showItemTrigger()}}},_findAxisTrigger:function(){if(!this.component.xAxis||!this.component.yAxis){this._hidingTicket=setTimeout(this._hide,this._hideDelay);return}var S=this.option.series;var T;var P;for(var Q=0,R=S.length;Q<R;Q++){if(this.deepQuery([S[Q],this.option],"tooltip.trigger")==="axis"){T=S[Q].xAxisIndex||0;P=S[Q].yAxisIndex||0;if(this.component.xAxis.getAxis(T)&&this.component.xAxis.getAxis(T).type===I.COMPONENT_TYPE_AXIS_CATEGORY){this._showAxisTrigger(T,P,this._getNearestDataIndex("x",this.component.xAxis.getAxis(T)));return}else{if(this.component.yAxis.getAxis(P)&&this.component.yAxis.getAxis(P).type===I.COMPONENT_TYPE_AXIS_CATEGORY){this._showAxisTrigger(T,P,this._getNearestDataIndex("y",this.component.yAxis.getAxis(P)));return}else{this._showAxisTrigger(T,P,-1);return}}}}if(this.option.tooltip.axisPointer.type==="cross"){this._showAxisTrigger(-1,-1,-1)}},_findPolarTrigger:function(){if(!this.component.polar){return false}var Q=K.getX(this._event);var R=K.getY(this._event);var P=this.component.polar.getNearestIndex([Q,R]);var S;if(P){S=P.valueIndex;P=P.polarIndex}else{P=-1}if(P!=-1){return this._showPolarTrigger(P,S)}return false},_getNearestDataIndex:function(P,T){var W=-1;var Y=K.getX(this._event);var Z=K.getY(this._event);if(P==="x"){var S;var Q;var a=this.component.grid.getXend();var V=T.getCoordByIndex(W);while(V<a){Q=V;if(V<=Y){S=V}else{break}V=T.getCoordByIndex(++W)}if(W<=0){W=0}else{if(Y-S<=Q-Y){W-=1}else{if(T.getNameByIndex(W)==null){W-=1}}}return W}else{var R;var X;var U=this.component.grid.getY();var V=T.getCoordByIndex(W);while(V>U){R=V;if(V>=Z){X=V}else{break}V=T.getCoordByIndex(++W)}if(W<=0){W=0}else{if(Z-R>=X-Z){W-=1}else{if(T.getNameByIndex(W)==null){W-=1}}}return W}return -1},_showAxisTrigger:function(f,V,U){!this._event.connectTrigger&&this.messageCenter.dispatch(I.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart);if(this.component.xAxis==null||this.component.yAxis==null||f==null||V==null){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay);return}var Z=this.option.series;var W=[];var b=[];var X;var d;var e;var Y;var c;var Q;var P="";if(this.option.tooltip.trigger==="axis"){if(!this.option.tooltip.show){return}Y=this.option.tooltip.formatter;c=this.option.tooltip.position}if(f!=-1&&this.component.xAxis.getAxis(f).type===I.COMPONENT_TYPE_AXIS_CATEGORY){X=this.component.xAxis.getAxis(f);for(var R=0,S=Z.length;R<S;R++){if(!this._isSelected(Z[R].name)){continue}if(Z[R].xAxisIndex===f&&this.deepQuery([Z[R],this.option],"tooltip.trigger")==="axis"){Q=this.query(Z[R],"tooltip.showContent")||Q;Y=this.query(Z[R],"tooltip.formatter")||Y;c=this.query(Z[R],"tooltip.position")||c;P+=this._style(this.query(Z[R],"tooltip"));if(Z[R].stack!=null){W.unshift(Z[R]);b.unshift(R)}else{W.push(Z[R]);b.push(R)}}}this.messageCenter.dispatch(I.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:b,dataIndex:U},this.myChart);e=K.getY(this._event);d=this.subPixelOptimize(X.getCoordByIndex(U),this._axisLineWidth);this._styleAxisPointer(W,d,this.component.grid.getY(),d,this.component.grid.getYend(),X.getGap(),d,e)}else{if(V!=-1&&this.component.yAxis.getAxis(V).type===I.COMPONENT_TYPE_AXIS_CATEGORY){X=this.component.yAxis.getAxis(V);for(var R=0,S=Z.length;R<S;R++){if(!this._isSelected(Z[R].name)){continue}if(Z[R].yAxisIndex===V&&this.deepQuery([Z[R],this.option],"tooltip.trigger")==="axis"){Q=this.query(Z[R],"tooltip.showContent")||Q;Y=this.query(Z[R],"tooltip.formatter")||Y;c=this.query(Z[R],"tooltip.position")||c;P+=this._style(this.query(Z[R],"tooltip"));W.push(Z[R]);b.push(R)}}this.messageCenter.dispatch(I.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:b,dataIndex:U},this.myChart);d=K.getX(this._event);e=this.subPixelOptimize(X.getCoordByIndex(U),this._axisLineWidth);this._styleAxisPointer(W,this.component.grid.getX(),e,this.component.grid.getXend(),e,X.getGap(),d,e)}else{d=K.getX(this._event);e=K.getY(this._event);this._styleAxisPointer(Z,this.component.grid.getX(),e,this.component.grid.getXend(),e,0,d,e);if(U>=0){this._showItemTrigger()}else{clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._tDom.style.display="none"}}}if(W.length>0){var T;if(typeof Y==="function"){var a=[];for(var R=0,S=W.length;R<S;R++){T=W[R].data[U];T=T!=null?(T.value!=null?T.value:T):"-";a.push([W[R].name||"",X.getNameByIndex(U),T])}this._curTicket="axis:"+U;this._tDom.innerHTML=Y.call(this.myChart,a,this._curTicket,this._setContent)}else{if(typeof Y==="string"){this._curTicket=NaN;Y=Y.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");for(var R=0,S=W.length;R<S;R++){Y=Y.replace("{a"+R+"}",this._encodeHTML(W[R].name||""));Y=Y.replace("{b"+R+"}",this._encodeHTML(X.getNameByIndex(U)));T=W[R].data[U];T=T!=null?(T.value!=null?T.value:T):"-";Y=Y.replace("{c"+R+"}",T instanceof Array?T:this.numAddCommas(T))}this._tDom.innerHTML=Y}else{this._curTicket=NaN;Y=this._encodeHTML(X.getNameByIndex(U));for(var R=0,S=W.length;R<S;R++){Y+="<br/>"+this._encodeHTML(W[R].name||"")+" : ";T=W[R].data[U];T=T!=null?(T.value!=null?T.value:T):"-";Y+=T instanceof Array?T:this.numAddCommas(T)}this._tDom.innerHTML=Y}}if(Q===false||!this.option.tooltip.showContent){return}if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+"px";this._tDom.style.top=this._zrHeight/2+"px";this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(c,d+10,e+10,P)}},_showPolarTrigger:function(R,b){if(this.component.polar==null||R==null||b==null||b<0){return false}var c=this.option.series;var P=[];var d;var a;var U;var Y="";if(this.option.tooltip.trigger==="axis"){if(!this.option.tooltip.show){return false}d=this.option.tooltip.formatter;a=this.option.tooltip.position}var T=this.option.polar[R].indicator[b].text;for(var e=0,Q=c.length;e<Q;e++){if(!this._isSelected(c[e].name)){continue}if(c[e].polarIndex===R&&this.deepQuery([c[e],this.option],"tooltip.trigger")==="axis"){U=this.query(c[e],"tooltip.showContent")||U;d=this.query(c[e],"tooltip.formatter")||d;a=this.query(c[e],"tooltip.position")||a;Y+=this._style(this.query(c[e],"tooltip"));P.push(c[e])}}if(P.length>0){var X;var S;var Z=[];for(var e=0,Q=P.length;e<Q;e++){X=P[e].data;for(var V=0,W=X.length;V<W;V++){S=X[V];if(!this._isSelected(S.name)){continue}S=S!=null?S:{name:"",value:{dataIndex:"-"}};Z.push([P[e].name||"",S.name,S.value[b].value!=null?S.value[b].value:S.value[b],T])}}if(Z.length<=0){return}if(typeof d==="function"){this._curTicket="axis:"+b;this._tDom.innerHTML=d.call(this.myChart,Z,this._curTicket,this._setContent)}else{if(typeof d==="string"){d=d.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");for(var e=0,Q=Z.length;e<Q;e++){d=d.replace("{a"+e+"}",this._encodeHTML(Z[e][0]));d=d.replace("{b"+e+"}",this._encodeHTML(Z[e][1]));d=d.replace("{c"+e+"}",this.numAddCommas(Z[e][2]));d=d.replace("{d"+e+"}",this._encodeHTML(Z[e][3]))}this._tDom.innerHTML=d}else{d=this._encodeHTML(Z[0][1])+"<br/>"+this._encodeHTML(Z[0][3])+" : "+this.numAddCommas(Z[0][2]);for(var e=1,Q=Z.length;e<Q;e++){d+="<br/>"+this._encodeHTML(Z[e][1])+"<br/>";d+=this._encodeHTML(Z[e][3])+" : "+this.numAddCommas(Z[e][2])}this._tDom.innerHTML=d}}if(U===false||!this.option.tooltip.showContent){return}if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+"px";this._tDom.style.top=this._zrHeight/2+"px";this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(a,K.getX(this._event),K.getY(this._event),Y);return true}},_showItemTrigger:function(){if(!this._curTarget){return}var P=B.get(this._curTarget,"series");var S=B.get(this._curTarget,"data");var R=B.get(this._curTarget,"name");var V=B.get(this._curTarget,"value");var Y=B.get(this._curTarget,"special");var X=B.get(this._curTarget,"special2");var b;var Z;var T;var W="";var c;var Q="";if(this._curTarget._type!="island"){if(this.option.tooltip.trigger==="item"){b=this.option.tooltip.formatter;Z=this.option.tooltip.position}if(this.query(P,"tooltip.trigger")==="item"){T=this.query(P,"tooltip.showContent")||T;b=this.query(P,"tooltip.formatter")||b;Z=this.query(P,"tooltip.position")||Z;W+=this._style(this.query(P,"tooltip"))}T=this.query(S,"tooltip.showContent")||T;b=this.query(S,"tooltip.formatter")||b;Z=this.query(S,"tooltip.position")||Z;W+=this._style(this.query(S,"tooltip"))}else{T=this.deepQuery([S,P,this.option],"tooltip.showContent");b=this.deepQuery([S,P,this.option],"tooltip.islandFormatter");Z=this.deepQuery([S,P,this.option],"tooltip.islandPosition")}if(typeof b==="function"){this._curTicket=(P.name||"")+":"+B.get(this._curTarget,"dataIndex");this._tDom.innerHTML=b.call(this.myChart,[P.name||"",R,V,Y,X,S],this._curTicket,this._setContent)}else{if(typeof b==="string"){this._curTicket=NaN;b=b.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");b=b.replace("{a0}",this._encodeHTML(P.name||"")).replace("{b0}",this._encodeHTML(R)).replace("{c0}",V instanceof Array?V:this.numAddCommas(V));b=b.replace("{d}","{d0}").replace("{d0}",Y||"");b=b.replace("{e}","{e0}").replace("{e0}",B.get(this._curTarget,"special2")||"");this._tDom.innerHTML=b}else{this._curTicket=NaN;if(P.type===I.CHART_TYPE_SCATTER){this._tDom.innerHTML=""+(P.name!=null?(this._encodeHTML(P.name)+"<br/>"):"")+(R===""?"":(this._encodeHTML(R)+" : "))+V+(Y==null?"":(" ("+Y+")"))}else{if(P.type===I.CHART_TYPE_RADAR&&Y){c=Y;Q+=this._encodeHTML(R===""?(P.name||""):R);Q+=Q===""?"":"<br />";for(var a=0;a<c.length;a++){Q+=this._encodeHTML(c[a].text)+" : "+this.numAddCommas(V[a])+"<br />"}this._tDom.innerHTML=Q}else{if(P.type===I.CHART_TYPE_CHORD){if(X==null){this._tDom.innerHTML=this._encodeHTML(R)+" ("+this.numAddCommas(V)+")"}else{var U=this._encodeHTML(R);var d=this._encodeHTML(Y);this._tDom.innerHTML=""+(P.name!=null?(this._encodeHTML(P.name)+"<br/>"):"")+U+" -> "+d+" ("+this.numAddCommas(V)+")<br />"+d+" -> "+U+" ("+this.numAddCommas(X)+")"}}else{this._tDom.innerHTML=""+(P.name!=null?(this._encodeHTML(P.name)+"<br/>"):"")+this._encodeHTML(R)+" : "+this.numAddCommas(V)+(Y==null?"":(" ("+this.numAddCommas(Y)+")"))}}}}}if(!this._axisLineShape.invisible||!this._axisShadowShape.invisible){this._axisLineShape.invisible=true;this.zr.modShape(this._axisLineShape.id);this._axisShadowShape.invisible=true;this.zr.modShape(this._axisShadowShape.id);this.zr.refresh()}if(T===false||!this.option.tooltip.showContent){return}if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+"px";this._tDom.style.top=this._zrHeight/2+"px";this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(Z,K.getX(this._event)+20,K.getY(this._event)-20,W)},_styleAxisPointer:function(P,X,Q,d,V,e,b,c){if(P.length>0){var T;var R;var a=this.option.tooltip.axisPointer;var Y=a.type;var U={line:{},cross:{},shadow:{}};for(var S in U){U[S].color=a[S+"Style"].color;U[S].width=a[S+"Style"].width;U[S].type=a[S+"Style"].type}for(var W=0,Z=P.length;W<Z;W++){if(this.deepQuery([P[W],this.option],"tooltip.trigger")==="axis"){T=P[W];R=this.query(T,"tooltip.axisPointer.type");Y=R||Y;if(R){U[R].color=this.query(T,"tooltip.axisPointer."+R+"Style.color")||U[R].color;U[R].width=this.query(T,"tooltip.axisPointer."+R+"Style.width")||U[R].width;U[R].type=this.query(T,"tooltip.axisPointer."+R+"Style.type")||U[R].type}}}if(Y==="line"){this._axisLineShape.style={xStart:X,yStart:Q,xEnd:d,yEnd:V,strokeColor:U.line.color,lineWidth:U.line.width,lineType:U.line.type};this._axisLineShape.invisible=false;this.zr.modShape(this._axisLineShape.id)}else{if(Y==="cross"){this._axisCrossShape.style={brushType:"stroke",rect:this.component.grid.getArea(),x:b,y:c,text:("( "+this.component.xAxis.getAxis(0).getValueFromCoord(b)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(c)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:U.cross.color,lineWidth:U.cross.width,lineType:U.cross.type};if(this.component.grid.getXend()-b>100){this._axisCrossShape.style.textAlign="left";this._axisCrossShape.style.textX=b+10}else{this._axisCrossShape.style.textAlign="right";this._axisCrossShape.style.textX=b-10}if(c-this.component.grid.getY()>50){this._axisCrossShape.style.textBaseline="bottom";this._axisCrossShape.style.textY=c-10}else{this._axisCrossShape.style.textBaseline="top";this._axisCrossShape.style.textY=c+10}this._axisCrossShape.invisible=false;this.zr.modShape(this._axisCrossShape.id)}else{if(Y==="shadow"){if(U.shadow.width==null||U.shadow.width==="auto"||isNaN(U.shadow.width)){U.shadow.width=e}if(X===d){if(Math.abs(this.component.grid.getX()-X)<2){U.shadow.width/=2;X=d=d+U.shadow.width/2}else{if(Math.abs(this.component.grid.getXend()-X)<2){U.shadow.width/=2;X=d=d-U.shadow.width/2}}}else{if(Q===V){if(Math.abs(this.component.grid.getY()-Q)<2){U.shadow.width/=2;Q=V=V+U.shadow.width/2}else{if(Math.abs(this.component.grid.getYend()-Q)<2){U.shadow.width/=2;Q=V=V-U.shadow.width/2}}}}this._axisShadowShape.style={xStart:X,yStart:Q,xEnd:d,yEnd:V,strokeColor:U.shadow.color,lineWidth:U.shadow.width};this._axisShadowShape.invisible=false;this.zr.modShape(this._axisShadowShape.id)}}}this.zr.refresh()}},__onmousemove:function(W){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);var U=W.target;var R=K.getX(W.event);var Q=K.getY(W.event);if(!U){this._curTarget=false;this._event=W.event;this._event.zrenderX=R;this._event.zrenderY=Q;if(this._needAxisTrigger&&this.component.grid&&M.isInside(A,this.component.grid.getArea(),R,Q)){this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else{if(this._needAxisTrigger&&this.component.polar&&this.component.polar.isInside([R,Q])!=-1){this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else{!this._event.connectTrigger&&this.messageCenter.dispatch(I.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart);this._hidingTicket=setTimeout(this._hide,this._hideDelay)}}}else{this._curTarget=U;this._event=W.event;this._event.zrenderX=R;this._event.zrenderY=Q;var P;if(this._needAxisTrigger&&this.component.polar&&(P=this.component.polar.isInside([R,Q]))!=-1){var V=this.option.series;for(var S=0,T=V.length;S<T;S++){if(V[S].polarIndex===P&&this.deepQuery([V[S],this.option],"tooltip.trigger")==="axis"){this._curTarget=null;break}}}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}},__onglobalout:function(){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(P,Q){if(!this._tDom){return}if(P===this._curTicket){this._tDom.innerHTML=Q}setTimeout(this._refixed,20)},ontooltipHover:function(R,S){if(!this._lastTipShape||(this._lastTipShape&&this._lastTipShape.dataIndex!=R.dataIndex)){if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape);this.shapeList.length=2}for(var P=0,Q=S.length;P<Q;P++){S[P].zlevel=this._zlevelBase;S[P].style=J.prototype.getHighlightStyle(S[P].style,S[P].highlightStyle);S[P].draggable=false;S[P].hoverable=false;S[P].clickable=false;S[P].ondragend=null;S[P].ondragover=null;S[P].ondrop=null;this.shapeList.push(S[P]);this.zr.addShape(S[P])}this._lastTipShape={dataIndex:R.dataIndex,tipShape:S}}},ondragend:function(){this._hide()},onlegendSelected:function(P){this._selectedMap=P.selected},_setSelectedMap:function(){if(this.component.legend){this._selectedMap=E.clone(this.component.legend.getSelectedMap())}else{this._selectedMap={}}},_isSelected:function(P){if(this._selectedMap[P]!=null){return this._selectedMap[P]}else{return true}},showTip:function(b){if(!b){return}var c;var R=this.option.series;if(b.seriesIndex!=null){c=b.seriesIndex}else{var a=b.seriesName;for(var Q=0,S=R.length;Q<S;Q++){if(R[Q].name===a){c=Q;break}}}var T=R[c];if(T==null){return}var j=this.myChart.chart[T.type];var W=this.deepQuery([T,this.option],"tooltip.trigger")==="axis";if(!j){return}if(W){var V=b.dataIndex;switch(j.type){case I.CHART_TYPE_LINE:case I.CHART_TYPE_BAR:case I.CHART_TYPE_K:if(this.component.xAxis==null||this.component.yAxis==null||T.data.length<=V){return}var k=T.xAxisIndex||0;var X=T.yAxisIndex||0;if(this.component.xAxis.getAxis(k).type===I.COMPONENT_TYPE_AXIS_CATEGORY){this._event={zrenderX:this.component.xAxis.getAxis(k).getCoordByIndex(V),zrenderY:this.component.grid.getY()+(this.component.grid.getYend()-this.component.grid.getY())/4}}else{this._event={zrenderX:this.component.grid.getX()+(this.component.grid.getXend()-this.component.grid.getX())/4,zrenderY:this.component.yAxis.getAxis(X).getCoordByIndex(V)}}this._showAxisTrigger(k,X,V);break;case I.CHART_TYPE_RADAR:if(this.component.polar==null||T.data[0].value.length<=V){return}var Y=T.polarIndex||0;var d=this.component.polar.getVector(Y,V,"max");this._event={zrenderX:d[0],zrenderY:d[1]};this._showPolarTrigger(Y,V);break}}else{var Z=j.shapeList;var f;var g;switch(j.type){case I.CHART_TYPE_LINE:case I.CHART_TYPE_BAR:case I.CHART_TYPE_K:case I.CHART_TYPE_SCATTER:var V=b.dataIndex;for(var Q=0,S=Z.length;Q<S;Q++){if(B.get(Z[Q],"seriesIndex")===c&&B.get(Z[Q],"dataIndex")===V){this._curTarget=Z[Q];f=Z[Q].style.x;g=j.type!=I.CHART_TYPE_K?Z[Q].style.y:Z[Q].style.y[0];break}}break;case I.CHART_TYPE_RADAR:var V=b.dataIndex;for(var Q=0,S=Z.length;Q<S;Q++){if(Z[Q].type==="polygon"&&B.get(Z[Q],"seriesIndex")===c&&B.get(Z[Q],"dataIndex")===V){this._curTarget=Z[Q];var d=this.component.polar.getCenter(T.polarIndex||0);f=d[0];g=d[1];break}}break;case I.CHART_TYPE_PIE:var h=b.name;for(var Q=0,S=Z.length;Q<S;Q++){if(Z[Q].type==="sector"&&B.get(Z[Q],"seriesIndex")===c&&B.get(Z[Q],"name")===h){this._curTarget=Z[Q];var P=this._curTarget.style;var e=(P.startAngle+P.endAngle)/2*Math.PI/180;f=this._curTarget.style.x+Math.cos(e)*P.r/1.5;g=this._curTarget.style.y-Math.sin(e)*P.r/1.5;break}}break;case I.CHART_TYPE_MAP:var h=b.name;var U=T.mapType;for(var Q=0,S=Z.length;Q<S;Q++){if(Z[Q].type==="text"&&Z[Q]._mapType===U&&Z[Q].style._name===h){this._curTarget=Z[Q];f=this._curTarget.style.x+this._curTarget.position[0];g=this._curTarget.style.y+this._curTarget.position[1];break}}break;case I.CHART_TYPE_CHORD:var h=b.name;for(var Q=0,S=Z.length;Q<S;Q++){if(Z[Q].type==="sector"&&B.get(Z[Q],"name")===h){this._curTarget=Z[Q];var P=this._curTarget.style;var e=(P.startAngle+P.endAngle)/2*Math.PI/180;f=this._curTarget.style.x+Math.cos(e)*(P.r-2);g=this._curTarget.style.y-Math.sin(e)*(P.r-2);this.zr.trigger(H.EVENT.MOUSEMOVE,{zrenderX:f,zrenderY:g});return}}break;case I.CHART_TYPE_FORCE:var h=b.name;for(var Q=0,S=Z.length;Q<S;Q++){if(Z[Q].type==="circle"&&B.get(Z[Q],"name")===h){this._curTarget=Z[Q];f=this._curTarget.position[0];g=this._curTarget.position[1];break}}break}if(f!=null&&g!=null){this._event={zrenderX:f,zrenderY:g};this.zr.addHoverShape(this._curTarget);this.zr.refreshHover();this._showItemTrigger()}}},hideTip:function(){this._hide()},refresh:function(T){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape)}this._lastTipShape=false;this.shapeList.length=2;if(T){this.option=T;this.option.tooltip=this.reformOption(this.option.tooltip);this.option.tooltip.textStyle=E.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle);this.option.tooltip.padding=this.reformCssArray(this.option.tooltip.padding);this._needAxisTrigger=false;if(this.option.tooltip.trigger==="axis"){this._needAxisTrigger=true}var R=this.option.series;for(var P=0,S=R.length;P<S;P++){if(this.query(R[P],"tooltip.trigger")==="axis"){this._needAxisTrigger=true;break}}this._showDelay=this.option.tooltip.showDelay;this._hideDelay=this.option.tooltip.hideDelay;this._defaultCssText=this._style(this.option.tooltip);this._setSelectedMap();this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width}if(this.showing){var Q=this;setTimeout(function(){Q.zr.trigger(H.EVENT.MOUSEMOVE,Q.zr.handler._event)},50)}},dispose:function(){if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape)}this.clear();this.shapeList=null;clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this.zr.un(H.EVENT.MOUSEMOVE,this._onmousemove);this.zr.un(H.EVENT.GLOBALOUT,this._onglobalout);if(this.hasAppend){this.dom.firstChild.removeChild(this._tDom)}this._tDom=null},_encodeHTML:function(P){return String(P).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}};E.inherits(C,O);F("../component").define("tooltip",C);return C});define("zrender/shape/Ring",["require","./Base","../tool/util"],function(B){var C=B("./Base");var A=function(D){C.call(this,D)};A.prototype={type:"ring",buildPath:function(E,D){E.arc(D.x,D.y,D.r,0,Math.PI*2,false);E.moveTo(D.x+D.r0,D.y);E.arc(D.x,D.y,D.r0,0,Math.PI*2,true);return},getRect:function(D){if(D.__rect){return D.__rect}var E;if(D.brushType=="stroke"||D.brushType=="fill"){E=D.lineWidth||1}else{E=0}D.__rect={x:Math.round(D.x-D.r-E/2),y:Math.round(D.y-D.r-E/2),width:D.r*2+E,height:D.r*2+E};return D.__rect}};B("../tool/util").inherits(A,C);return A});define("zrender/shape/Sector",["require","../tool/math","./Base","./Ring","./Polygon","../tool/util"],function(A){var B=A("../tool/math");var C=A("./Base");var D=function(E){C.call(this,E)};D.prototype={type:"sector",buildPath:function(I,J){var L=J.x;var M=J.y;var K=typeof J.r0=="undefined"?0:J.r0;var E=J.r;var O=J.startAngle;var F=J.endAngle;if(Math.abs(F-O)>=360){I.arc(L,M,E,0,Math.PI*2,false);if(K!==0){I.moveTo(L+K,M);I.arc(L,M,K,0,Math.PI*2,true)}return}O=B.degreeToRadian(O);F=B.degreeToRadian(F);var H=Math.PI*2;var N=B.cos(O);var G=B.sin(O);I.moveTo(N*K+L,M-G*K);I.lineTo(N*E+L,M-G*E);I.arc(L,M,E,H-O,H-F,true);I.lineTo(B.cos(F)*K+L,M-B.sin(F)*K);if(K!==0){I.arc(L,M,K,H-F,H-O,false)}I.closePath();return},getRect:function(G){if(G.__rect){return G.__rect}var J=G.x;var K=G.y;var H=typeof G.r0=="undefined"?0:G.r0;var E=G.r;var L=G.startAngle;var F=G.endAngle;if(Math.abs(F-L)>=360){G.__rect=A("./Ring").prototype.getRect(G);return G.__rect}L=(720+L)%360;F=(720+F)%360;if(F<=L){F+=360}var I=[];if(L<=90&&F>=90){I.push([J,K-E])}if(L<=180&&F>=180){I.push([J-E,K])}if(L<=270&&F>=270){I.push([J,K+E])}if(L<=360&&F>=360){I.push([J+E,K])}L=B.degreeToRadian(L);F=B.degreeToRadian(F);I.push([B.cos(L)*H+J,K-B.sin(L)*H]);I.push([B.cos(L)*E+J,K-B.sin(L)*E]);I.push([B.cos(F)*E+J,K-B.sin(F)*E]);I.push([B.cos(F)*H+J,K-B.sin(F)*H]);G.__rect=A("./Polygon").prototype.getRect({brushType:G.brushType,lineWidth:G.lineWidth,pointList:I});return G.__rect}};A("../tool/util").inherits(D,C);return D});define("echarts/util/shape/Candle",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(C){var D=C("zrender/shape/Base");var A=C("zrender/tool/util");function B(E){D.call(this,E)}B.prototype={type:"candle",_numberOrder:function(F,E){return E-F},buildPath:function(G,F){var E=A.clone(F.y).sort(this._numberOrder);G.moveTo(F.x,E[3]);G.lineTo(F.x,E[2]);G.moveTo(F.x-F.width/2,E[2]);G.rect(F.x-F.width/2,E[2],F.width,E[1]-E[2]);G.moveTo(F.x,E[1]);G.lineTo(F.x,E[0])},getRect:function(F){if(!F.__rect){var G=0;if(F.brushType=="stroke"||F.brushType=="fill"){G=F.lineWidth||1}var E=A.clone(F.y).sort(this._numberOrder);F.__rect={x:Math.round(F.x-F.width/2-G/2),y:Math.round(E[3]-G/2),width:F.width+G,height:E[0]-E[3]+G}}return F.__rect},isCover:C("./normalIsCover")};A.inherits(B,D);return B});define("echarts/component/legend",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","zrender/shape/Sector","../util/shape/Icon","../util/shape/Candle","../config","zrender/tool/util","zrender/tool/area","../component"],function(E){var F=E("./base");var H=E("zrender/shape/Text");var M=E("zrender/shape/Rectangle");var A=E("zrender/shape/Sector");var C=E("../util/shape/Icon");var B=E("../util/shape/Candle");var G=E("../config");var D=E("zrender/tool/util");var K=E("zrender/tool/area");function L(N,P,O,Q,R){if(!this.query(Q,"legend.data")){console.error("option.legend.data has not been defined.");return}F.call(this,N,P,O,Q,R);var S=this;S._legendSelected=function(T){S.__legendSelected(T)};this._colorIndex=0;this._colorMap={};this._selectedMap={};this.refresh(Q)}L.prototype={type:G.COMPONENT_TYPE_LEGEND,_buildShape:function(){this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var N=0,O=this.shapeList.length;N<O;N++){this.zr.addShape(this.shapeList[N])}},_buildItem:function(){var d=this.legendOption.data;var N=d.length;var f;var e;var S;var Z;var W=this.legendOption.textStyle;var a;var b;var c;var Y=this.zr.getWidth();var X=this.zr.getHeight();var U=this._itemGroupLocation.x;var T=this._itemGroupLocation.y;var P=this.legendOption.itemWidth;var Q=this.legendOption.itemHeight;var V=this.legendOption.itemGap;var O;if(this.legendOption.orient==="vertical"&&this.legendOption.x==="right"){U=this._itemGroupLocation.x+this._itemGroupLocation.width-P}for(var R=0;R<N;R++){a=D.merge(d[R].textStyle||{},W);b=this.getFont(a);f=this._getName(d[R]);c=this._getFormatterName(f);if(f===""){if(this.legendOption.orient==="horizontal"){U=this._itemGroupLocation.x;T+=Q+V}else{this.legendOption.x==="right"?U-=this._itemGroupLocation.maxWidth+V:U+=this._itemGroupLocation.maxWidth+V;T=this._itemGroupLocation.y}continue}e=d[R].icon||this._getSomethingByName(f).type;O=this.getColor(f);if(this.legendOption.orient==="horizontal"){if(Y-U<200&&(P+5+K.getTextWidth(c,b)+(R===N-1||d[R+1]===""?0:V))>=Y-U){U=this._itemGroupLocation.x;T+=Q+V}}else{if(X-T<200&&(Q+(R===N-1||d[R+1]===""?0:V))>=X-T){this.legendOption.x==="right"?U-=this._itemGroupLocation.maxWidth+V:U+=this._itemGroupLocation.maxWidth+V;T=this._itemGroupLocation.y}}S=this._getItemShapeByType(U,T,P,Q,(this._selectedMap[f]?O:"#ccc"),e,O);S._name=f;S=new C(S);Z={zlevel:this._zlevelBase,style:{x:U+P+5,y:T+Q/2,color:this._selectedMap[f]?(a.color==="auto"?O:a.color):"#ccc",text:c,textFont:b,textBaseline:"middle"},highlightStyle:{color:O,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode};if(this.legendOption.orient==="vertical"&&this.legendOption.x==="right"){Z.style.x-=(P+10);Z.style.textAlign="right"}Z._name=f;Z=new H(Z);if(this.legendOption.selectedMode){S.onclick=Z.onclick=this._legendSelected;S.onmouseover=Z.onmouseover=this.hoverConnect;S.hoverConnect=Z.id;Z.hoverConnect=S.id}this.shapeList.push(S);this.shapeList.push(Z);if(this.legendOption.orient==="horizontal"){U+=P+5+K.getTextWidth(c,b)+V}else{T+=Q+V}}if(this.legendOption.orient==="horizontal"&&this.legendOption.x==="center"&&T!=this._itemGroupLocation.y){this._mLineOptimize()}},_getName:function(N){return typeof N.name!="undefined"?N.name:N},_getFormatterName:function(P){var N=this.legendOption.formatter;var O;if(typeof N==="function"){O=N.call(this.myChart,P)}else{if(typeof N==="string"){O=N.replace("{name}",P)}else{O=P}}return O},_getFormatterNameFromData:function(O){var N=this._getName(O);return this._getFormatterName(N)},_mLineOptimize:function(){var O=[];var R=this._itemGroupLocation.x;for(var N=2,Q=this.shapeList.length;N<Q;N++){if(this.shapeList[N].style.x===R){O.push((this._itemGroupLocation.width-(this.shapeList[N-1].style.x+K.getTextWidth(this.shapeList[N-1].style.text,this.shapeList[N-1].style.textFont)-R))/2)}else{if(N===Q-1){O.push((this._itemGroupLocation.width-(this.shapeList[N].style.x+K.getTextWidth(this.shapeList[N].style.text,this.shapeList[N].style.textFont)-R))/2)}}}var P=-1;for(var N=1,Q=this.shapeList.length;N<Q;N++){if(this.shapeList[N].style.x===R){P++}if(O[P]===0){continue}else{this.shapeList[N].style.x+=O[P]}}},_buildBackground:function(){var O=this.legendOption.padding[0];var N=this.legendOption.padding[1];var Q=this.legendOption.padding[2];var P=this.legendOption.padding[3];this.shapeList.push(new M({zlevel:this._zlevelBase,hoverable:false,style:{x:this._itemGroupLocation.x-P,y:this._itemGroupLocation.y-O,width:this._itemGroupLocation.width+P+N,height:this._itemGroupLocation.height+O+Q,brushType:this.legendOption.borderWidth===0?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var a=this.legendOption.data;var N=a.length;var W=this.legendOption.itemGap;var P=this.legendOption.itemWidth+5;var Q=this.legendOption.itemHeight;var X=this.legendOption.textStyle;var V=this.getFont(X);var d=0;var O=0;var Y=this.legendOption.padding;var S=this.zr.getWidth()-Y[1]-Y[3];var Z=this.zr.getHeight()-Y[0]-Y[2];var U=0;var T=0;if(this.legendOption.orient==="horizontal"){O=Q;for(var R=0;R<N;R++){if(this._getName(a[R])===""){U-=W;if(U>S){d=S;O+=Q+W}else{d=Math.max(d,U)}O+=Q+W;U=0;continue}U+=P+K.getTextWidth(this._getFormatterNameFromData(a[R]),a[R].textStyle?this.getFont(D.merge(a[R].textStyle||{},X)):V)+W}O=Math.max(O,Q);U-=W;if(U>S){d=S;O+=Q+W}else{d=Math.max(d,U)}}else{for(var R=0;R<N;R++){T=Math.max(T,K.getTextWidth(this._getFormatterNameFromData(a[R]),a[R].textStyle?this.getFont(D.merge(a[R].textStyle||{},X)):V))}T+=P;d=T;for(var R=0;R<N;R++){if(this._getName(a[R])===""){U-=W;if(U>Z){O=Z;d+=T+W}else{O=Math.max(O,U)}d+=T+W;U=0;continue}U+=Q+W}d=Math.max(d,T);U-=W;if(U>Z){O=Z;d+=T+W}else{O=Math.max(O,U)}}S=this.zr.getWidth();Z=this.zr.getHeight();var b;switch(this.legendOption.x){case"center":b=Math.floor((S-d)/2);break;case"left":b=this.legendOption.padding[3]+this.legendOption.borderWidth;break;case"right":b=S-d-this.legendOption.padding[1]-this.legendOption.padding[3]-this.legendOption.borderWidth*2;break;default:b=this.parsePercent(this.legendOption.x,S);break}var c;switch(this.legendOption.y){case"top":c=this.legendOption.padding[0]+this.legendOption.borderWidth;break;case"bottom":c=Z-O-this.legendOption.padding[0]-this.legendOption.padding[2]-this.legendOption.borderWidth*2;break;case"center":c=Math.floor((Z-O)/2);break;default:c=this.parsePercent(this.legendOption.y,Z);break}return{x:b,y:c,width:d,height:O,maxWidth:T}},_getSomethingByName:function(Q){var R=this.option.series;var T;for(var O=0,P=R.length;O<P;O++){if(R[O].name===Q){return{type:R[O].type,series:R[O],seriesIndex:O,data:null,dataIndex:-1}}if(R[O].type===G.CHART_TYPE_PIE||R[O].type===G.CHART_TYPE_RADAR||R[O].type===G.CHART_TYPE_CHORD||R[O].type===G.CHART_TYPE_FORCE||R[O].type===G.CHART_TYPE_FUNNEL){T=R[O].type!=G.CHART_TYPE_FORCE?R[O].data:R[O].categories;for(var S=0,N=T.length;S<N;S++){if(T[S].name===Q){return{type:R[O].type,series:R[O],seriesIndex:O,data:T[S],dataIndex:S}}}}}return{type:"bar",series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(U,V,T,O,P,S,W){var R=P==="#ccc"?W:P;var N={zlevel:this._zlevelBase,style:{iconType:"legendicon"+S,x:U,y:V,width:T,height:O,color:P,strokeColor:P,lineWidth:2},highlightStyle:{color:R,strokeColor:R,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};var Q;if(S.match("image")){var Q=S.replace(new RegExp("^image:\\/\\/"),"");S="image"}switch(S){case"line":N.style.brushType="stroke";N.highlightStyle.lineWidth=3;break;case"radar":case"scatter":N.highlightStyle.lineWidth=3;break;case"k":N.style.brushType="both";N.highlightStyle.lineWidth=3;N.highlightStyle.color=N.style.color=this.query(this.ecTheme,"k.itemStyle.normal.color")||"#fff";N.style.strokeColor=P!="#ccc"?(this.query(this.ecTheme,"k.itemStyle.normal.lineStyle.color")||"#ff3200"):P;break;case"image":N.style.iconType="image";N.style.image=Q;if(P==="#ccc"){N.style.opacity=0.5}break}return N},__legendSelected:function(N){var O=N.target._name;if(this.legendOption.selectedMode==="single"){for(var P in this._selectedMap){this._selectedMap[P]=false}}this._selectedMap[O]=!this._selectedMap[O];this.messageCenter.dispatch(G.EVENT.LEGEND_SELECTED,N.event,{selected:this._selectedMap,target:O},this.myChart)},refresh:function(O){if(O){this.option=O||this.option;this.option.legend=this.reformOption(this.option.legend);this.option.legend.padding=this.reformCssArray(this.option.legend.padding);this.legendOption=this.option.legend;var P=this.legendOption.data||[];var U;var N;var V;var Q;if(this.legendOption.selected){for(var R in this.legendOption.selected){this._selectedMap[R]=typeof this._selectedMap[R]!="undefined"?this._selectedMap[R]:this.legendOption.selected[R]}}for(var T=0,S=P.length;T<S;T++){U=this._getName(P[T]);if(U===""){continue}N=this._getSomethingByName(U);if(!N.series){this._selectedMap[U]=false}else{if(N.data&&(N.type===G.CHART_TYPE_PIE||N.type===G.CHART_TYPE_FORCE||N.type===G.CHART_TYPE_FUNNEL)){Q=[N.data,N.series]}else{Q=[N.series]}V=this.getItemStyleColor(this.deepQuery(Q,"itemStyle.normal.color"),N.seriesIndex,N.dataIndex,N.data);if(V&&N.type!=G.CHART_TYPE_K){this.setColor(U,V)}this._selectedMap[U]=typeof this._selectedMap[U]!="undefined"?this._selectedMap[U]:true}}}this.clear();this._buildShape()},getRelatedAmount:function(N){var P=0;var U=this.option.series;var O;for(var S=0,T=U.length;S<T;S++){if(U[S].name===N){P++}if(U[S].type===G.CHART_TYPE_PIE||U[S].type===G.CHART_TYPE_RADAR||U[S].type===G.CHART_TYPE_CHORD||U[S].type===G.CHART_TYPE_FORCE||U[S].type===G.CHART_TYPE_FUNNEL){O=U[S].type!=G.CHART_TYPE_FORCE?U[S].data:U[S].categories;for(var Q=0,R=O.length;Q<R;Q++){if(O[Q].name===N&&O[Q].value!="-"){P++}}}}return P},setColor:function(N,O){this._colorMap[N]=O},getColor:function(N){if(!this._colorMap[N]){this._colorMap[N]=this.zr.getColor(this._colorIndex++)}return this._colorMap[N]},hasColor:function(N){return this._colorMap[N]?this._colorMap[N]:false},add:function(P,Q){var R=this.legendOption.data;for(var N=0,O=R.length;N<O;N++){if(this._getName(R[N])===P){return}}this.legendOption.data.push(P);this.setColor(P,Q);this._selectedMap[P]=true},del:function(P){var Q=this.legendOption.data;for(var N=0,O=Q.length;N<O;N++){if(this._getName(Q[N])===P){return this.legendOption.data.splice(N,1)}}},getItemShape:function(P){if(P==null){return}var Q;for(var N=0,O=this.shapeList.length;N<O;N++){Q=this.shapeList[N];if(Q._name===P&&Q.type!="text"){return Q}}},setItemShape:function(Q,O){var R;for(var N=0,P=this.shapeList.length;N<P;N++){R=this.shapeList[N];if(R._name===Q&&R.type!="text"){if(!this._selectedMap[Q]){O.style.color="#ccc";O.style.strokeColor="#ccc"}this.zr.modShape(R.id,O)}}},isSelected:function(N){if(typeof this._selectedMap[N]!="undefined"){return this._selectedMap[N]}else{return true}},getSelectedMap:function(){return this._selectedMap},setSelected:function(O,P){if(this.legendOption.selectedMode==="single"){for(var N in this._selectedMap){this._selectedMap[N]=false}}this._selectedMap[O]=P;this.messageCenter.dispatch(G.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:O},this.myChart)},onlegendSelected:function(O,Q){var P=O.selected;for(var N in P){if(this._selectedMap[N]!=P[N]){Q.needRefresh=true}this._selectedMap[N]=P[N]}return}};var I={line:function(P,N){var O=N.height/2;P.moveTo(N.x,N.y+O);P.lineTo(N.x+N.width,N.y+O)},pie:function(S,P){var Q=P.x;var R=P.y;var O=P.width;var N=P.height;A.prototype.buildPath(S,{x:Q+O/2,y:R+N+2,r:N+2,r0:6,startAngle:45,endAngle:135})},k:function(S,P){var Q=P.x;var R=P.y;var O=P.width;var N=P.height;B.prototype.buildPath(S,{x:Q+O/2,y:[R+1,R+1,R+N-6,R+N],width:O-6})},bar:function(T,Q){var R=Q.x;var S=Q.y+1;var O=Q.width;var N=Q.height-2;var P=3;T.moveTo(R+P,S);T.lineTo(R+O-P,S);T.quadraticCurveTo(R+O,S,R+O,S+P);T.lineTo(R+O,S+N-P);T.quadraticCurveTo(R+O,S+N,R+O-P,S+N);T.lineTo(R+P,S+N);T.quadraticCurveTo(R,S+N,R,S+N-P);T.lineTo(R,S+P);T.quadraticCurveTo(R,S,R+P,S)},force:function(O,N){C.prototype.iconLibrary.circle(O,N)},radar:function(R,S){var U=6;var V=S.x+S.width/2;var W=S.y+S.height/2;var N=S.height/2;var P=2*Math.PI/U;var Y=-Math.PI/2;var X=V+N*Math.cos(Y);var O=W+N*Math.sin(Y);R.moveTo(X,O);Y+=P;for(var T=0,Q=U-1;T<Q;T++){R.lineTo(V+N*Math.cos(Y),W+N*Math.sin(Y));Y+=P}R.lineTo(X,O)}};I.chord=I.pie;I.map=I.bar;for(var J in I){C.prototype.iconLibrary["legendicon"+J]=I[J]}D.inherits(L,F);E("../component").define("legend",L);return L});define("echarts/util/shape/Chain",["require","zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(E){var F=E("zrender/shape/Base");var G=E("./Icon");var B=E("zrender/shape/util/dashedLineTo");var C=E("zrender/tool/util");var A=E("zrender/tool/matrix");function D(H){F.call(this,H)}D.prototype={type:"chain",brush:function(I,J){var H=this.style;if(J){H=this.getHighlightStyle(H,this.highlightStyle||{})}I.save();this.setContext(I,H);this.setTransform(I);I.save();I.beginPath();this.buildLinePath(I,H);I.stroke();I.restore();this.brushSymbol(I,H);I.restore();return},buildLinePath:function(M,J){var K=J.x;var L=J.y+5;var I=J.width;var H=J.height/2-10;M.moveTo(K,L);M.lineTo(K,L+H);M.moveTo(K+I,L);M.lineTo(K+I,L+H);M.moveTo(K,L+H/2);if(!J.lineType||J.lineType=="solid"){M.lineTo(K+I,L+H/2)}else{if(J.lineType=="dashed"||J.lineType=="dotted"){var N=(J.lineWidth||1)*(J.lineType=="dashed"?5:1);B(M,K,L+H/2,K+I,L+H/2,N)}}},brushSymbol:function(K,L){var N=L.y+L.height/4;K.save();var I=L.chainPoint;var O;for(var J=0,M=I.length;J<M;J++){O=I[J];if(O.symbol!="none"){K.beginPath();var H=O.symbolSize;G.prototype.buildPath(K,{iconType:O.symbol,x:O.x-H,y:N-H,width:H*2,height:H*2,n:O.n});K.fillStyle=O.isEmpty?"#fff":L.strokeColor;K.closePath();K.fill();K.stroke()}if(O.showLabel){K.font=O.textFont;K.fillStyle=O.textColor;K.textAlign=O.textAlign;K.textBaseline=O.textBaseline;if(O.rotation){K.save();this._updateTextTransform(K,O.rotation);K.fillText(O.name,O.textX,O.textY);K.restore()}else{K.fillText(O.name,O.textX,O.textY)}}}K.restore()},_updateTextTransform:function(L,J){var K=A.create();A.identity(K);if(J[0]!==0){var I=J[1]||0;var H=J[2]||0;if(I||H){A.translate(K,K,[-I,-H])}A.rotate(K,K,J[0]);if(I||H){A.translate(K,K,[I,H])}}L.transform.apply(L,K)},isCover:function(I,J){var H=this.style;if(I>=H.x&&I<=(H.x+H.width)&&J>=H.y&&J<=(H.y+H.height)){return true}else{return false}}};C.inherits(D,F);return D});define("echarts/component/timeline",["require","./base","zrender/shape/Rectangle","../util/shape/Icon","../util/shape/Chain","../config","zrender/tool/util","zrender/tool/area","zrender/tool/event","../component"],function(D){var K=D("./base");var G=D("zrender/shape/Rectangle");var B=D("../util/shape/Icon");var J=D("../util/shape/Chain");var F=D("../config");var C=D("zrender/tool/util");var I=D("zrender/tool/area");var H=D("zrender/tool/event");function A(L,N,M,O,P){K.call(this,L,N,M,O,P);var Q=this;Q._onclick=function(R){return Q.__onclick(R)};Q._ondrift=function(R,S){return Q.__ondrift(this,R,S)};Q._ondragend=function(){return Q.__ondragend()};Q._setCurrentOption=function(){var R=Q.timelineOption;Q.currentIndex%=R.data.length;var S=Q.options[Q.currentIndex]||{};Q.myChart.setOption(S,R.notMerge);Q.messageCenter.dispatch(F.EVENT.TIMELINE_CHANGED,null,{currentIndex:Q.currentIndex,data:R.data[Q.currentIndex].name!=null?R.data[Q.currentIndex].name:R.data[Q.currentIndex]},Q.myChart)};Q._onFrame=function(){Q._setCurrentOption();Q._syncHandleShape();if(Q.timelineOption.autoPlay){Q.playTicket=setTimeout(function(){Q.currentIndex+=1;if(!Q.timelineOption.loop&&Q.currentIndex>=Q.timelineOption.data.length){Q.currentIndex=Q.timelineOption.data.length-1;Q.stop();return}Q._onFrame()},Q.timelineOption.playInterval)}};this.setTheme(false);this.options=this.option.options;this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length;if(!this.timelineOption.notMerge&&this.currentIndex!==0){this.options[this.currentIndex]=C.merge(this.options[this.currentIndex],this.options[0])}if(this.timelineOption.show){this._buildShape();this._syncHandleShape()}this._setCurrentOption();if(this.timelineOption.autoPlay){var Q=this;this.playTicket=setTimeout(function(){Q.play()},this.ecTheme.animationDuration)}}A.prototype={type:F.COMPONENT_TYPE_TIMELINE,_buildShape:function(){this._location=this._getLocation();this._buildBackground();this._buildControl();this._chainPoint=this._getChainPoint();if(this.timelineOption.label.show){var M=this._getInterval();for(var L=0,O=this._chainPoint.length;L<O;L+=M){this._chainPoint[L].showLabel=true}}this._buildChain();this._buildHandle();for(var L=0,N=this.shapeList.length;L<N;L++){this.zr.addShape(this.shapeList[L])}},_getLocation:function(){var L=this.timelineOption;var R=L.padding;var Q=this.zr.getWidth();var S=this.parsePercent(L.x,Q);var O=this.parsePercent(L.x2,Q);var M;if(L.width==null){M=Q-S-O;O=Q-O}else{M=this.parsePercent(L.width,Q);O=S+M}var N=this.zr.getHeight();var U=this.parsePercent(L.height,N);var T;var P;if(L.y!=null){T=this.parsePercent(L.y,N);P=T+U}else{P=N-this.parsePercent(L.y2,N);T=P-U}return{x:S+R[3],y:T+R[0],x2:O-R[1],y2:P-R[2],width:M-R[1]-R[3],height:U-R[0]-R[2]}},_getReformedLabel:function(M){var N=this.timelineOption;var O=N.data[M].name!=null?N.data[M].name:N.data[M];var L=N.data[M].formatter||N.label.formatter;if(L){if(typeof L==="function"){O=L.call(this.myChart,O)}else{if(typeof L==="string"){O=L.replace("{value}",O)}}}return O},_getInterval:function(){var M=this._chainPoint;var N=this.timelineOption;var V=N.label.interval;if(V==="auto"){var Q=N.label.textStyle.fontSize;var P=N.data;var L=N.data.length;if(L>3){var S=false;var U;var O;V=0;while(!S&&V<L){V++;S=true;for(var T=V;T<L;T+=V){U=M[T].x-M[T-V].x;if(N.label.rotate!==0){O=Q}else{if(P[T].textStyle){O=I.getTextWidth(M[T].name,M[T].textFont)}else{var W=M[T].name+"";var X=(W.match(/\w/g)||"").length;var R=W.length-X;O=X*Q*2/3+R*Q}}if(U<O){S=false;break}}}}else{V=1}}else{V=V-0+1}return V},_getChainPoint:function(){var S=this.timelineOption;var c=S.symbol.toLowerCase();var U=S.symbolSize;var Y=S.label.rotate;var V=S.label.textStyle;var d=this.getFont(V);var Z;var N=S.data;var e=this._location.x;var f=this._location.y+this._location.height/4*3;var X=this._location.x2-this._location.x;var M=N.length;function g(h){return N[h].name!=null?N[h].name:N[h]}var W=[];if(M>1){var a=X/M;a=a>50?50:(a<20?5:a);X-=a*2;if(S.type==="number"){for(var P=0;P<M;P++){W.push(e+a+X/(M-1)*P)}}else{W[0]=new Date(g(0).replace(/-/g,"/"));W[M-1]=new Date(g(M-1).replace(/-/g,"/"))-W[0];for(var P=1;P<M;P++){W[P]=e+a+X*(new Date(g(P).replace(/-/g,"/"))-W[0])/W[M-1]}W[0]=e+a}}else{W.push(e+X/2)}var L=[];var b;var Q;var R;var O;var T;for(var P=0;P<M;P++){e=W[P];b=(N[P].symbol&&N[P].symbol.toLowerCase())||c;if(b.match("empty")){b=b.replace("empty","");R=true}else{R=false}if(b.match("star")){Q=(b.replace("star","")-0)||5;b="star"}Z=N[P].textStyle?C.merge(N[P].textStyle||{},V):V;O=Z.align||"center";if(Y){O=Y>0?"right":"left";T=[Y*Math.PI/180,e,f-5]}else{T=false}L.push({x:e,n:Q,isEmpty:R,symbol:b,symbolSize:N[P].symbolSize||U,color:N[P].color,borderColor:N[P].borderColor,borderWidth:N[P].borderWidth,name:this._getReformedLabel(P),textColor:Z.color,textAlign:O,textBaseline:Z.baseline||"middle",textX:e,textY:f-(Y?5:0),textFont:N[P].textStyle?this.getFont(Z):d,rotation:T,showLabel:false})}return L},_buildBackground:function(){var O=this.timelineOption;var M=O.padding;var N=this._location.width;var L=this._location.height;if(O.borderWidth!==0||O.backgroundColor.replace(/\s/g,"")!="rgba(0,0,0,0)"){this.shapeList.push(new G({zlevel:this._zlevelBase,hoverable:false,style:{x:this._location.x-M[3],y:this._location.y-M[0],width:N+M[1]+M[3],height:L+M[0]+M[2],brushType:O.borderWidth===0?"fill":"both",color:O.backgroundColor,strokeColor:O.borderColor,lineWidth:O.borderWidth}}))}},_buildControl:function(){var P=this;var M=this.timelineOption;var S=M.lineStyle;var L=M.controlStyle;if(M.controlPosition==="none"){return}var Q=15;var N=5;var R;if(M.controlPosition==="left"){R=this._location.x;this._location.x+=(Q+N)*3}else{R=this._location.x2-((Q+N)*3-N);this._location.x2-=(Q+N)*3}var T=this._location.y;var O={zlevel:this._zlevelBase+1,style:{iconType:"timelineControl",symbol:"last",x:R,y:T,width:Q,height:Q,brushType:"stroke",color:L.normal.color,strokeColor:L.normal.color,lineWidth:S.width},highlightStyle:{color:L.emphasis.color,strokeColor:L.emphasis.color,lineWidth:S.width+1},clickable:true};this._ctrLastShape=new B(O);this._ctrLastShape.onclick=function(){P.last()};this.shapeList.push(this._ctrLastShape);R+=Q+N;this._ctrPlayShape=new B(C.clone(O));this._ctrPlayShape.style.brushType="fill";this._ctrPlayShape.style.symbol="play";this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop";this._ctrPlayShape.style.x=R;this._ctrPlayShape.onclick=function(){if(P._ctrPlayShape.style.status==="stop"){P.play()}else{P.stop()}};this.shapeList.push(this._ctrPlayShape);R+=Q+N;this._ctrNextShape=new B(C.clone(O));this._ctrNextShape.style.symbol="next";this._ctrNextShape.style.x=R;this._ctrNextShape.onclick=function(){P.next()};this.shapeList.push(this._ctrNextShape)},_buildChain:function(){var M=this.timelineOption;var L=M.lineStyle;this._timelineShae={zlevel:this._zlevelBase,style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,L.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:"both",strokeColor:L.color,lineWidth:L.width,lineType:L.type},hoverable:false,clickable:true,onclick:this._onclick};this._timelineShae=new J(this._timelineShae);this.shapeList.push(this._timelineShae)},_buildHandle:function(){var M=this._chainPoint[this.currentIndex];var L=M.symbolSize+1;L=L<5?5:L;this._handleShape={zlevel:this._zlevelBase+1,hoverable:false,draggable:true,style:{iconType:"diamond",n:M.n,x:M.x-L,y:this._location.y+this._location.height/4-L,width:L*2,height:L*2,brushType:"both",textPosition:"specific",textX:M.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend};this._handleShape=new B(this._handleShape);this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(!this.timelineOption.show){return}var N=this.timelineOption;var M=N.checkpointStyle;var O=this._chainPoint[this.currentIndex];this._handleShape.style.text=M.label.show?O.name:"";this._handleShape.style.textFont=O.textFont;this._handleShape.style.n=O.n;if(M.symbol==="auto"){this._handleShape.style.iconType=O.symbol!="none"?O.symbol:"diamond"}else{this._handleShape.style.iconType=M.symbol;if(M.symbol.match("star")){this._handleShape.style.n=(M.symbol.replace("star","")-0)||5;this._handleShape.style.iconType="star"}}var L;if(M.symbolSize==="auto"){L=O.symbolSize+2;L=L<5?5:L}else{L=M.symbolSize-0}this._handleShape.style.color=M.color==="auto"?(O.color?O.color:N.controlStyle.emphasis.color):M.color;this._handleShape.style.textColor=M.label.textStyle.color==="auto"?this._handleShape.style.color:M.label.textStyle.color;this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor=M.borderColor==="auto"?(O.borderColor?O.borderColor:"#fff"):M.borderColor;this._handleShape.style.lineWidth=M.borderWidth==="auto"?(O.borderWidth?O.borderWidth:0):(M.borderWidth-0);this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1;this.zr.animate(this._handleShape.id,"style").when(500,{x:O.x-L,textX:O.x,y:this._location.y+this._location.height/4-L,width:L*2,height:L*2}).start("ExponentialOut")},_findChainIndex:function(M){var O=this._chainPoint;var N=O.length;if(M<=O[0].x){return 0}else{if(M>=O[N-1].x){return N-1}}for(var L=0;L<N-1;L++){if(M>=O[L].x&&M<=O[L+1].x){return(Math.abs(M-O[L].x)<Math.abs(M-O[L+1].x))?L:(L+1)}}},__onclick:function(L){var M=H.getX(L.event);var N=this._findChainIndex(M);if(N===this.currentIndex){return true}this.currentIndex=N;this.timelineOption.autoPlay&&this.stop();clearTimeout(this.playTicket);this._onFrame()},__ondrift:function(N,Q){this.timelineOption.autoPlay&&this.stop();var M=this._chainPoint;var R=M.length;var P;if(N.style.x+Q<=M[0].x-M[0].symbolSize){N.style.x=M[0].x-M[0].symbolSize;P=0}else{if(N.style.x+Q>=M[R-1].x-M[R-1].symbolSize){N.style.x=M[R-1].x-M[R-1].symbolSize;P=R-1}else{N.style.x+=Q;P=this._findChainIndex(N.style.x)}}var S=M[P];var L=S.symbolSize+2;N.style.iconType=S.symbol;N.style.n=S.n;N.style.textX=N.style.x+L/2;N.style.y=this._location.y+this._location.height/4-L;N.style.width=L*2;N.style.height=L*2;N.style.text=S.name;if(P===this.currentIndex){return true}this.currentIndex=P;if(this.timelineOption.realtime){clearTimeout(this.playTicket);var O=this;this.playTicket=setTimeout(function(){O._setCurrentOption()},200)}return true},__ondragend:function(){this.isDragend=true},ondragend:function(L,M){if(!this.isDragend||!L.target){return}!this.timelineOption.realtime&&this._setCurrentOption();M.dragOut=true;M.dragIn=true;M.needRefresh=false;this.isDragend=false;this._syncHandleShape();return},last:function(){this.timelineOption.autoPlay&&this.stop();this.currentIndex-=1;if(this.currentIndex<0){this.currentIndex=this.timelineOption.data.length-1}this._onFrame();return this.currentIndex},next:function(){this.timelineOption.autoPlay&&this.stop();this.currentIndex+=1;if(this.currentIndex>=this.timelineOption.data.length){this.currentIndex=0}this._onFrame();return this.currentIndex},play:function(M,L){if(this._ctrPlayShape&&this._ctrPlayShape.style.status!="playing"){this._ctrPlayShape.style.status="playing";this.zr.modShape(this._ctrPlayShape.id);this.zr.refresh()}this.timelineOption.autoPlay=L!=null?L:true;if(!this.timelineOption.autoPlay){clearTimeout(this.playTicket)}this.currentIndex=M!=null?M:(this.currentIndex+1);if(this.currentIndex>=this.timelineOption.data.length){this.currentIndex=0}this._onFrame();return this.currentIndex},stop:function(){if(this._ctrPlayShape&&this._ctrPlayShape.style.status!="stop"){this._ctrPlayShape.style.status="stop";this.zr.modShape(this._ctrPlayShape.id);this.zr.refresh()}this.timelineOption.autoPlay=false;clearTimeout(this.playTicket);return this.currentIndex},resize:function(){if(this.timelineOption.show){this.clear();this._buildShape();this._syncHandleShape()}},setTheme:function(L){this.timelineOption=this.reformOption(C.clone(this.option.timeline));this.timelineOption.padding=this.reformCssArray(this.timelineOption.padding);this.timelineOption.label.textStyle=C.merge(this.timelineOption.label.textStyle||{},this.ecTheme.textStyle);this.timelineOption.checkpointStyle.label.textStyle=C.merge(this.timelineOption.checkpointStyle.label.textStyle||{},this.ecTheme.textStyle);if(this.timelineOption.show&&L){this.clear();this._buildShape();this._syncHandleShape()}},dispose:function(){this.clear();this.shapeList=null;clearTimeout(this.playTicket)}};function E(P,O){var Q=2;var T=O.x+Q;var U=O.y+Q+2;var S=O.width-Q;var L=O.height-Q;var R=O.symbol;if(R==="last"){P.moveTo(T+S-2,U+L/3);P.lineTo(T+S-2,U);P.lineTo(T+2,U+L/2);P.lineTo(T+S-2,U+L);P.lineTo(T+S-2,U+L/3*2);P.moveTo(T,U);P.lineTo(T,U)}else{if(R==="next"){P.moveTo(T+2,U+L/3);P.lineTo(T+2,U);P.lineTo(T+S-2,U+L/2);P.lineTo(T+2,U+L);P.lineTo(T+2,U+L/3*2);P.moveTo(T,U);P.lineTo(T,U)}else{if(R==="play"){if(O.status==="stop"){P.moveTo(T+2,U);P.lineTo(T+S-2,U+L/2);P.lineTo(T+2,U+L);P.lineTo(T+2,U)}else{var N=O.brushType==="both"?2:3;P.rect(T+2,U,N,L);P.rect(T+S-N-2,U,N,L)}}else{if(R.match("image")){var M="";M=R.replace(new RegExp("^image:\\/\\/"),"");R=B.prototype.iconLibrary.image;R(P,{x:T,y:U,width:S,height:L,image:M})}}}}}B.prototype.iconLibrary["timelineControl"]=E;C.inherits(A,K);D("../component").define("timeline",A);return A});define("zrender/loadingEffect/Bar",["require","./Base","../tool/util","../tool/color","../shape/Rectangle"],function(D){var F=D("./Base");var C=D("../tool/util");var B=D("../tool/color");var E=D("../shape/Rectangle");function A(G){F.call(this,G)}C.inherits(A,F);A.prototype._start=function(I,H){var K=C.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}});var L=this.createTextShape(K.textStyle);var G=this.createBackgroundShape(K.backgroundColor);var J=K.effectOption;var M=new E({highlightStyle:C.clone(J)});M.highlightStyle.color=J.color||B.getLinearGradient(J.x,J.y,J.x+J.width,J.y+J.height,[[0,"#ff6400"],[0.5,"#ffe100"],[1,"#b1ff00"]]);if(K.progress!=null){I(G);M.highlightStyle.width=this.adjust(K.progress,[0,1])*K.effectOption.width;I(M);I(L);H();return}else{M.highlightStyle.width=0;return setInterval(function(){I(G);if(M.highlightStyle.width<J.width){M.highlightStyle.width+=8}else{M.highlightStyle.width=0}I(M);I(L);H()},J.timeInterval)}};return A});define("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color","../shape/Circle"],function(D){var F=D("./Base");var C=D("../tool/util");var B=D("../tool/color");var A=D("../shape/Circle");function E(G){F.call(this,G)}C.inherits(E,F);E.prototype._start=function(S,I){var N=C.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}});var L=this.createTextShape(N.textStyle);var T=this.createBackgroundShape(N.backgroundColor);var J=N.effect;var M=J.n;var R=J.brushType;var O=J.lineWidth;var H=[];var K=this.canvasWidth;var Q=this.canvasHeight;for(var P=0;P<M;P++){var G=J.color=="random"?B.alpha(B.random(),0.3):J.color;H[P]=new A({highlightStyle:{x:Math.ceil(Math.random()*K),y:Math.ceil(Math.random()*Q),r:Math.ceil(Math.random()*40),brushType:R,color:G,strokeColor:G,lineWidth:O},animationY:Math.ceil(Math.random()*20)})}return setInterval(function(){S(T);for(var U=0;U<M;U++){var V=H[U].highlightStyle;if(V.y-H[U].animationY+V.r<=0){H[U].highlightStyle.y=Q+V.r;H[U].highlightStyle.x=Math.ceil(Math.random()*K)}H[U].highlightStyle.y-=H[U].animationY;S(H[U])}S(L);I()},J.timeInterval)};return E});define("zrender/loadingEffect/DynamicLine",["require","./Base","../tool/util","../tool/color","../shape/Line"],function(C){var E=C("./Base");var B=C("../tool/util");var A=C("../tool/color");var D=C("../shape/Line");function F(G){E.call(this,G)}B.inherits(F,E);F.prototype._start=function(U,J){var O=B.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}});var M=this.createTextShape(O.textStyle);var V=this.createBackgroundShape(O.backgroundColor);var K=O.effectOption;var N=K.n;var P=K.lineWidth;var I=[];var L=this.canvasWidth;var S=this.canvasHeight;for(var R=0;R<N;R++){var T=-Math.ceil(Math.random()*1000);var H=Math.ceil(Math.random()*400);var Q=Math.ceil(Math.random()*S);var G=K.color=="random"?A.random():K.color;I[R]=new D({highlightStyle:{xStart:T,yStart:Q,xEnd:T+H,yEnd:Q,strokeColor:G,lineWidth:P},animationX:Math.ceil(Math.random()*100),len:H})}return setInterval(function(){U(V);for(var W=0;W<N;W++){var X=I[W].highlightStyle;if(X.xStart>=L){I[W].len=Math.ceil(Math.random()*400);X.xStart=-400;X.xEnd=-400+I[W].len;X.yStart=Math.ceil(Math.random()*S);X.yEnd=X.yStart}X.xStart+=I[W].animationX;X.xEnd+=I[W].animationX;U(I[W])}U(M);J()},K.timeInterval)};return F});define("zrender/loadingEffect/Ring",["require","./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(D){var G=D("./Base");var C=D("../tool/util");var B=D("../tool/color");var A=D("../shape/Ring");var E=D("../shape/Sector");function F(H){G.call(this,H)}C.inherits(F,G);F.prototype._start=function(V,W){var U=C.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}});var M=U.effect;var O=U.textStyle;if(O.x==null){O.x=M.x}if(O.y==null){O.y=(M.y+(M.r0+M.r)/2-5)}var T=this.createTextShape(U.textStyle);var Z=this.createBackgroundShape(U.backgroundColor);var X=M.x;var Y=M.y;var N=M.r0+6;var S=M.r-6;var I=M.color;var Q=B.lift(I,0.1);var L=new A({highlightStyle:C.clone(M)});var R=[];var H=B.getGradientColors(["#ff6400","#ffe100","#97ff00"],25);var a=15;var P=240;for(var J=0;J<16;J++){R.push(new E({highlightStyle:{x:X,y:Y,r0:N,r:S,startAngle:P-a,endAngle:P,brushType:"fill",color:Q},_color:B.getLinearGradient(X+N*Math.cos(P,true),Y-N*Math.sin(P,true),X+N*Math.cos(P-a,true),Y-N*Math.sin(P-a,true),[[0,H[J*2]],[1,H[J*2+1]]])}));P-=a}P=360;for(var J=0;J<4;J++){R.push(new E({highlightStyle:{x:X,y:Y,r0:N,r:S,startAngle:P-a,endAngle:P,brushType:"fill",color:Q},_color:B.getLinearGradient(X+N*Math.cos(P,true),Y-N*Math.sin(P,true),X+N*Math.cos(P-a,true),Y-N*Math.sin(P-a,true),[[0,H[J*2+32]],[1,H[J*2+33]]])}));P-=a}var K=0;if(U.progress!=null){V(Z);K=this.adjust(U.progress,[0,1]).toFixed(2)*100/5;L.highlightStyle.text=K*5+"%";V(L);for(var J=0;J<20;J++){R[J].highlightStyle.color=J<K?R[J]._color:Q;V(R[J])}V(T);W();return}return setInterval(function(){V(Z);K+=K>=20?-20:1;V(L);for(var b=0;b<20;b++){R[b].highlightStyle.color=b<K?R[b]._color:Q;V(R[b])}V(T);W()},M.timeInterval)};return F});define("zrender/loadingEffect/Spin",["require","./Base","../tool/util","../tool/color","../tool/area","../shape/Sector"],function(E){var G=E("./Base");var C=E("../tool/util");var B=E("../tool/color");var A=E("../tool/area");var F=E("../shape/Sector");function D(H){G.call(this,H)}C.inherits(D,G);D.prototype._start=function(W,O){var V=C.merge(this.options,{textStyle:{color:"#fff",textAlign:"start"},backgroundColor:"rgba(0, 0, 0, 0.8)"});var T=this.createTextShape(V.textStyle);var I=10;var L=A.getTextWidth(T.highlightStyle.text,T.highlightStyle.textFont);var U=A.getTextHeight(T.highlightStyle.text,T.highlightStyle.textFont);var P=C.merge(this.options.effect||{},{r0:9,r:15,n:18,color:"#fff",timeInterval:100});var K=this.getLocation(this.options.textStyle,L+I+P.r*2,Math.max(P.r*2,U));P.x=K.x+P.r;P.y=T.highlightStyle.y=K.y+K.height/2;T.highlightStyle.x=P.x+P.r+I;var Z=this.createBackgroundShape(V.backgroundColor);var N=P.n;var X=P.x;var Y=P.y;var Q=P.r0;var H=P.r;var J=P.color;var R=[];var a=Math.round(180/N);for(var M=0;M<N;M++){R[M]=new F({highlightStyle:{x:X,y:Y,r0:Q,r:H,startAngle:a*M*2,endAngle:a*M*2+a,color:B.alpha(J,(M+1)/N),brushType:"fill"}})}var S=[0,X,Y];return setInterval(function(){W(Z);S[0]-=0.3;for(var b=0;b<N;b++){R[b].rotation=S;W(R[b])}W(T);O()},P.timeInterval)};return D});define("zrender/loadingEffect/Whirling",["require","./Base","../tool/util","../tool/area","../shape/Ring","../shape/Droplet","../shape/Circle"],function(B){var H=B("./Base");var F=B("../tool/util");var C=B("../tool/area");var G=B("../shape/Ring");var D=B("../shape/Droplet");var A=B("../shape/Circle");function E(I){H.call(this,I)}F.inherits(E,H);E.prototype._start=function(U,M){var Q=F.merge(this.options,{textStyle:{color:"#888",textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"});var P=this.createTextShape(Q.textStyle);var K=10;var I=C.getTextWidth(P.highlightStyle.text,P.highlightStyle.textFont);var O=C.getTextHeight(P.highlightStyle.text,P.highlightStyle.textFont);var N=F.merge(this.options.effect||{},{r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50});var S=this.getLocation(this.options.textStyle,I+K+N.r*2,Math.max(N.r*2,O));N.x=S.x+N.r;N.y=P.highlightStyle.y=S.y+S.height/2;P.highlightStyle.x=N.x+N.r+K;var V=this.createBackgroundShape(Q.backgroundColor);var T=new D({highlightStyle:{a:Math.round(N.r/2),b:Math.round(N.r-N.r/6),brushType:"fill",color:N.colorWhirl}});var J=new A({highlightStyle:{r:Math.round(N.r/6),brushType:"fill",color:N.colorIn}});var L=new G({highlightStyle:{r0:Math.round(N.r-N.r/3),r:N.r,brushType:"fill",color:N.colorOut}});var R=[0,N.x,N.y];T.highlightStyle.x=J.highlightStyle.x=L.highlightStyle.x=R[1];T.highlightStyle.y=J.highlightStyle.y=L.highlightStyle.y=R[2];return setInterval(function(){U(V);U(L);R[0]-=0.3;T.rotation=R;U(T);U(J);U(P);M()},N.timeInterval)};return E});define("echarts/theme/default",[],function(){var A={};return A});
/*
 * ECharts, a javascript interactive chart library.
 *  
 * Copyright (c) 2014, Baidu Inc.
 * All rights reserved.
 * 
 * LICENSE
 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
 */
define("echarts/echarts",["require","./config","zrender/tool/util","zrender/tool/event","zrender/tool/env","zrender","zrender/config","zrender","./chart/island","./component/toolbox","./component","./component/title","./component/tooltip","./component/legend","./util/ecData","./chart","./component","zrender/tool/color","./component/timeline","zrender","zrender/shape/Image","zrender/loadingEffect/Bar","zrender/loadingEffect/Bubble","zrender/loadingEffect/DynamicLine","zrender/loadingEffect/Ring","zrender/loadingEffect/Spin","zrender/loadingEffect/Whirling","./theme/default"],function(H){var I=H("./config");var D=H("zrender/tool/util");var N=H("zrender/tool/event");var L={};var F=H("zrender/tool/env").canvasSupported;var C=new Date()-0;var B={};var G="_echarts_instance_";L.version="2.0.4";L.dependencies={zrender:"2.0.4"};L.init=function(O,R){var Q=H("zrender");if(((Q.version||"1.0.3").replace(".","")-0)<(L.dependencies.zrender.replace(".","")-0)){console.error("ZRender "+(Q.version||"1.0.3-")+" is too old for ECharts "+L.version+". Current version need ZRender "+L.dependencies.zrender+"+")}O=O instanceof Array?O[0]:O;var P=O.getAttribute(G);if(!P){P=C++;O.setAttribute(G,P)}if(B[P]){B[P].dispose()}B[P]=new K(O);B[P].id=P;B[P].setTheme(R);return B[P]};L.getInstanceById=function(O){return B[O]};function E(){N.Dispatcher.call(this)}D.merge(E.prototype,N.Dispatcher.prototype,true);function K(O){this._themeConfig=D.clone(I);this.dom=O;this._connected=false;this._status={dragIn:false,dragOut:false,needRefresh:false};this._curEventType=false;this._chartList=[];this._messageCenter=new E();this._messageCenterOutSide=new E();this.resize=this.resize();this._init()}var A=H("zrender/config").EVENT;var M=["CLICK","DBLCLICK","MOUSEOVER","MOUSEOUT","DRAGSTART","DRAGEND","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP"];function J(U,V,P,Q,S){var O=U._chartList;var T=O.length;while(T--){var R=O[T];if(typeof R[V]==="function"){R[V](P,Q,S)}}}K.prototype={_init:function(){var S=this;var U=H("zrender").init(this.dom);this._zr=U;this._messageCenter.dispatch=function(Z,c,a,b){a=a||{};a.type=Z;a.event=c;S._messageCenter.dispatchWithContext(Z,a,b);if(Z!="HOVER"&&Z!="MOUSEOUT"){setTimeout(function(){S._messageCenterOutSide.dispatchWithContext(Z,a,b)},50)}else{S._messageCenterOutSide.dispatchWithContext(Z,a,b)}};this._onevent=function(Z){return S.__onevent(Z)};for(var O in I.EVENT){if(O!="CLICK"&&O!="DBLCLICK"&&O!="HOVER"&&O!="MOUSEOUT"&&O!="MAP_ROAM"){this._messageCenter.bind(I.EVENT[O],this._onevent,this)}}var P={};this._onzrevent=function(Z){return S[P[Z.type]](Z)};for(var T=0,W=M.length;T<W;T++){var R=M[T];var X=A[R];P[X]="_on"+R.toLowerCase();U.on(X,this._onzrevent)}this.chart={};this.component={};var V=H("./chart/island");this._island=new V(this._themeConfig,this._messageCenter,U,{},this);this.chart.island=this._island;var Y=H("./component/toolbox");this._toolbox=new Y(this._themeConfig,this._messageCenter,U,{},this);this.component.toolbox=this._toolbox;var Q=H("./component");Q.define("title",H("./component/title"));Q.define("tooltip",H("./component/tooltip"));Q.define("legend",H("./component/legend"));if(U.getWidth()===0||U.getHeight()===0){console.error("Dom’s width & height should be ready before init.")}},__onevent:function(R){R.__echartsId=R.__echartsId||this.id;var O=(R.__echartsId===this.id);if(!this._curEventType){this._curEventType=R.type}switch(R.type){case I.EVENT.LEGEND_SELECTED:this._onlegendSelected(R);break;case I.EVENT.DATA_ZOOM:if(!O){var Q=this.component.dataZoom;if(Q){Q.silence(true);Q.absoluteZoom(R.zoom);Q.silence(false)}}this._ondataZoom(R);break;case I.EVENT.DATA_RANGE:O&&this._ondataRange(R);break;case I.EVENT.MAGIC_TYPE_CHANGED:if(!O){var T=this.component.toolbox;if(T){T.silence(true);T.setMagicType(R.magicType);T.silence(false)}}this._onmagicTypeChanged(R);break;case I.EVENT.DATA_VIEW_CHANGED:O&&this._ondataViewChanged(R);break;case I.EVENT.TOOLTIP_HOVER:O&&this._tooltipHover(R);break;case I.EVENT.RESTORE:this._onrestore();break;case I.EVENT.REFRESH:O&&this._onrefresh(R);break;case I.EVENT.TOOLTIP_IN_GRID:case I.EVENT.TOOLTIP_OUT_GRID:if(!O){var P=this.component.grid;if(P){this._zr.trigger("mousemove",{connectTrigger:true,zrenderX:P.getX()+R.x*P.getWidth(),zrenderY:P.getY()+R.y*P.getHeight()})}}else{if(this._connected){var P=this.component.grid;if(P){R.x=(R.event.zrenderX-P.getX())/P.getWidth();R.y=(R.event.zrenderY-P.getY())/P.getHeight()}}}break}if(this._connected&&O&&this._curEventType===R.type){for(var S in this._connected){this._connected[S].connectedEventHandler(R)}this._curEventType=null}if(!O||(!this._connected&&O)){this._curEventType=null}},_onclick:function(P){J(this,"onclick",P);if(P.target){var O=this._eventPackage(P.target);if(O&&O.seriesIndex!=null){this._messageCenter.dispatch(I.EVENT.CLICK,P.event,O,this)}}},_ondblclick:function(P){J(this,"ondblclick",P);if(P.target){var O=this._eventPackage(P.target);if(O&&O.seriesIndex!=null){this._messageCenter.dispatch(I.EVENT.DBLCLICK,P.event,O,this)}}},_onmouseover:function(P){if(P.target){var O=this._eventPackage(P.target);if(O&&O.seriesIndex!=null){this._messageCenter.dispatch(I.EVENT.HOVER,P.event,O,this)}}},_onmouseout:function(P){if(P.target){var O=this._eventPackage(P.target);if(O&&O.seriesIndex!=null){this._messageCenter.dispatch(I.EVENT.MOUSEOUT,P.event,O,this)}}},_ondragstart:function(O){this._status={dragIn:false,dragOut:false,needRefresh:false};J(this,"ondragstart",O)},_ondragenter:function(O){J(this,"ondragenter",O)},_ondragover:function(O){J(this,"ondragover",O)},_ondragleave:function(O){J(this,"ondragleave",O)},_ondrop:function(O){J(this,"ondrop",O,this._status);this._island.ondrop(O,this._status)},_ondragend:function(P){J(this,"ondragend",P,this._status);this._timeline&&this._timeline.ondragend(P,this._status);this._island.ondragend(P,this._status);if(this._status.needRefresh){this._syncBackupData(this._option);var O=this._messageCenter;O.dispatch(I.EVENT.DATA_CHANGED,P.event,this._eventPackage(P.target),this);O.dispatch(I.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(O){this._status.needRefresh=false;J(this,"onlegendSelected",O,this._status);if(this._status.needRefresh){this._messageCenter.dispatch(I.EVENT.REFRESH,null,null,this)}},_ondataZoom:function(O){this._status.needRefresh=false;J(this,"ondataZoom",O,this._status);if(this._status.needRefresh){this._messageCenter.dispatch(I.EVENT.REFRESH,null,null,this)}},_ondataRange:function(O){this._clearEffect();this._status.needRefresh=false;J(this,"ondataRange",O,this._status);if(this._status.needRefresh){this._zr.refresh()}},_onmagicTypeChanged:function(){this._clearEffect();this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(O){this._syncBackupData(O.option);this._messageCenter.dispatch(I.EVENT.DATA_CHANGED,null,O,this);this._messageCenter.dispatch(I.EVENT.REFRESH,null,null,this)},_tooltipHover:function(O){var P=[];J(this,"ontooltipHover",O,P)},_onrestore:function(){this.restore()},_onrefresh:function(O){this._refreshInside=true;this.refresh(O);this._refreshInside=false},_syncBackupData:function(O){this.component.dataZoom&&this.component.dataZoom.syncBackupData(O)},_eventPackage:function(R){if(R){var Q=H("./util/ecData");var P=Q.get(R,"seriesIndex");var O=Q.get(R,"dataIndex");O=P!=-1&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(P,O):O;return{seriesIndex:P,seriesName:(Q.get(R,"series")||{}).name,dataIndex:O,data:Q.get(R,"data"),name:Q.get(R,"name"),value:Q.get(R,"value"),special:Q.get(R,"special")}}return},_render:function(V){this._mergeGlobalConifg(V);var b=V.backgroundColor;if(b){if(!F&&b.indexOf("rgba")!=-1){var U=b.split(",");this.dom.style.filter="alpha(opacity="+U[3].substring(0,U[3].lastIndexOf(")"))*100+")";U.length=3;U[0]=U[0].replace("a","");this.dom.style.backgroundColor=U.join(",")+")"}else{this.dom.style.backgroundColor=b}}this._zr.clearAnimation();this._chartList=[];var S=H("./chart");var X=H("./component");if(V.xAxis||V.yAxis){V.grid=V.grid||{};V.dataZoom=V.dataZoom||{}}var Y=["title","legend","tooltip","dataRange","roamController","grid","dataZoom","xAxis","yAxis","polar"];var O;var T;var P;for(var Q=0,R=Y.length;Q<R;Q++){T=Y[Q];P=this.component[T];if(V[T]){if(P){P.refresh&&P.refresh(V)}else{O=X.get(/^[xy]Axis$/.test(T)?"axis":T);P=new O(this._themeConfig,this._messageCenter,this._zr,V,this,T);this.component[T]=P}this._chartList.push(P)}else{if(P){P.dispose();this.component[T]=null;delete this.component[T]}}}var W;var Z;var d;var c={};for(var Q=0,R=V.series.length;Q<R;Q++){Z=V.series[Q].type;if(!Z){console.error("series["+Q+"] chart type has not been defined.");continue}if(!c[Z]){c[Z]=true;W=S.get(Z);if(W){if(this.chart[Z]){d=this.chart[Z];d.refresh(V)}else{d=new W(this._themeConfig,this._messageCenter,this._zr,V,this)}this._chartList.push(d);this.chart[Z]=d}else{console.error(Z+" has not been required.")}}}for(Z in this.chart){if(Z!=I.CHART_TYPE_ISLAND&&!c[Z]){this.chart[Z].dispose();this.chart[Z]=null;delete this.chart[Z]}}this.component.grid&&this.component.grid.refixAxisShape(this.component);this._island.refresh(V);this._toolbox.refresh(V);V.animation&&!V.renderAsImage?this._zr.refresh():this._zr.render();var a="IMG"+this.id;var e=document.getElementById(a);if(V.renderAsImage&&F){if(e){e.src=this.getDataURL(V.renderAsImage)}else{e=this.getImage(V.renderAsImage);e.id=a;e.style.position="absolute";e.style.left=0;e.style.top=0;this.dom.firstChild.appendChild(e)}this.un();this._zr.un();this._disposeChartList();this._zr.clear()}else{if(e){e.parentNode.removeChild(e)}}e=null;this._option=V},restore:function(){this._clearEffect();this._option=D.clone(this._optionRestore);this._disposeChartList();this._island.clear();this._toolbox.reset(this._option,true);this._render(this._option)},refresh:function(Q){this._clearEffect();Q=Q||{};var R=Q.option;if(!this._refreshInside&&R){R=this.getOption();D.merge(R,Q.option,true);D.merge(this._optionRestore,Q.option,true);this._toolbox.reset(R)}this._island.refresh(R);this._toolbox.refresh(R);this._zr.clearAnimation();for(var O=0,P=this._chartList.length;O<P;O++){this._chartList[O].refresh&&this._chartList[O].refresh(R)}this.component.grid&&this.component.grid.refixAxisShape(this.component);this._zr.refresh()},_disposeChartList:function(){this._clearEffect();this._zr.clearAnimation();var Q=this._chartList.length;while(Q--){var O=this._chartList[Q];if(O){var P=O.type;this.chart[P]&&delete this.chart[P];this.component[P]&&delete this.component[P];O.dispose&&O.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(R){var Q=["backgroundColor","calculable","calculableColor","calculableHolderColor","nameConnector","valueConnector","animation","animationThreshold","animationDuration","animationEasing","addDataAnimation","symbolList","DRAG_ENABLE_TIME"];var S=Q.length;while(S--){var O=Q[S];if(R[O]==null){R[O]=this._themeConfig[O]}}var P=R.color;if(!(P&&P.length)){P=this._themeConfig.color}this._zr.getColor=function(U){var T=H("zrender/tool/color");return T.getColor(U,P)}},setOption:function(P,O){if(!P.timeline){return this._setOption(P,O)}else{return this._setTimelineOption(P)}},_setOption:function(P,O){if(!O&&this._option){this._option=D.merge(this.getOption(),D.clone(P),true)}else{this._option=D.clone(P)}this._optionRestore=D.clone(this._option);if(!this._option.series||this._option.series.length===0){this._zr.clear();return}if(this.component.dataZoom&&(this._option.dataZoom||(this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show))){this.component.dataZoom.syncOption(this._option)}this._toolbox.reset(this._option);this._render(this._option);return this},getOption:function(){var Q=D.clone(this._option);var O=this;function P(S){var R=O._optionRestore[S];if(R){if(R instanceof Array){var T=R.length;while(T--){Q[S][T].data=D.clone(R[T].data)}}else{Q[S].data=D.clone(R.data)}}}P("xAxis");P("yAxis");P("series");return Q},setSeries:function(P,O){if(!O){this.setOption({series:P})}else{this._option.series=P;this.setOption(this._option,O)}return this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(O){this._timeline&&this._timeline.dispose();var Q=H("./component/timeline");var P=new Q(this._themeConfig,this._messageCenter,this._zr,O,this);this._timeline=P;this.component.timeline=this._timeline;return this},addData:function(f,j,h,U,k){var e=f instanceof Array?f:[[f,j,h,U,k]];var Z=this.getOption();var X=this._optionRestore;for(var S=0,T=e.length;S<T;S++){f=e[S][0];j=e[S][1];h=e[S][2];U=e[S][3];k=e[S][4];var m=X.series[f];var W=h?"unshift":"push";var b=h?"pop":"shift";if(m){var V=m.data;var P=Z.series[f].data;V[W](j);P[W](j);if(!U){V[b]();j=P[b]()}if(k!=null){var g;var O;if(m.type===I.CHART_TYPE_PIE&&(g=X.legend)&&(O=g.data)){var c=Z.legend.data;O[W](k);c[W](k);if(!U){var Y=D.indexOf(O,j.name);Y!=-1&&O.splice(Y,1);Y=D.indexOf(c,j.name);Y!=-1&&c.splice(Y,1)}}else{if(X.xAxis!=null&&X.yAxis!=null){var a;var d;var Q=m.xAxisIndex||0;if(X.xAxis[Q].type==null||X.xAxis[Q].type==="category"){a=X.xAxis[Q].data;d=Z.xAxis[Q].data;a[W](k);d[W](k);if(!U){a[b]();d[b]()}}Q=m.yAxisIndex||0;if(X.yAxis[Q].type==="category"){a=X.yAxis[Q].data;d=Z.yAxis[Q].data;a[W](k);d[W](k);if(!U){a[b]();d[b]()}}}}}this._option.series[f].data=Z.series[f].data}}this._zr.clearAnimation();var R=this._chartList;for(var S=0,T=R.length;S<T;S++){if(Z.addDataAnimation&&R[S].addDataAnimation){R[S].addDataAnimation(e)}}this.component.dataZoom&&this.component.dataZoom.syncOption(Z);this._option=Z;var n=this;setTimeout(function(){if(!n._zr){return}n._zr.clearAnimation();for(var o=0,p=R.length;o<p;o++){R[o].motionlessOnce=Z.addDataAnimation&&R[o].addDataAnimation}n._messageCenter.dispatch(I.EVENT.REFRESH,null,{option:Z},n)},Z.addDataAnimation?500:0);return this},addMarkPoint:function(O,P){return this._addMark(O,P,"markPoint")},addMarkLine:function(O,P){return this._addMark(O,P,"markLine")},_addMark:function(T,Q,P){var X=this._option.series;var S;if(X&&(S=X[T])){var R=this._optionRestore.series;var U=R[T];var W=S[P];var O=U[P];W=S[P]=W||{data:[]};O=U[P]=O||{data:[]};for(var Y in Q){if(Y==="data"){W.data=W.data.concat(Q.data);O.data=O.data.concat(Q.data)}else{if(typeof Q[Y]!="object"||W[Y]==null){W[Y]=O[Y]=Q[Y]}else{D.merge(W[Y],Q[Y],true);D.merge(O[Y],Q[Y],true)}}}var V=this.chart[S.type];V&&V.addMark(T,Q,P)}return this},delMarkPoint:function(O,P){return this._delMark(O,P,"markPoint")},delMarkLine:function(O,P){return this._delMark(O,P,"markLine")},_delMark:function(T,W,P){var Q=this._option.series;var S;var O;var V;if(!(Q&&(S=Q[T])&&(O=S[P])&&(V=O.data))){return this}W=W.split(" > ");var X=-1;for(var U=0,Y=V.length;U<Y;U++){var Z=V[U];if(Z instanceof Array){if(Z[0].name===W[0]&&Z[1].name===W[1]){X=U;break}}else{if(Z.name===W[0]){X=U;break}}}if(X>-1){V.splice(X,1);this._optionRestore.series[T][P].data.splice(X,1);var R=this.chart[S.type];R&&R.delMark(T,W.join(" > "),P)}return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(O){if(!F){return""}if(this._chartList.length===0){var R="IMG"+this.id;var S=document.getElementById(R);if(S){return S.src}}var Q=this.component.tooltip;Q&&Q.hideTip();switch(O){case"jpeg":break;default:O="png"}var P=this._option.backgroundColor;if(P&&P.replace(" ","")==="rgba(0,0,0,0)"){P="#fff"}return this._zr.toDataURL("image/"+O,P)},getImage:function(O){var P=this._optionRestore.title;var Q=document.createElement("img");Q.src=this.getDataURL(O);Q.title=(P&&P.text)||"ECharts";return Q},getConnectedDataURL:function(S){if(!this.isConnected()){return this.getDataURL(S)}var O=this.dom;var T={"self":{img:this.getDataURL(S),left:O.offsetLeft,top:O.offsetTop,right:O.offsetLeft+O.offsetWidth,bottom:O.offsetTop+O.offsetHeight}};var Z=T.self.left;var Q=T.self.top;var a=T.self.right;var V=T.self.bottom;for(var W in this._connected){O=this._connected[W].getDom();T[W]={img:this._connected[W].getDataURL(S),left:O.offsetLeft,top:O.offsetTop,right:O.offsetLeft+O.offsetWidth,bottom:O.offsetTop+O.offsetHeight};Z=Math.min(Z,T[W].left);Q=Math.min(Q,T[W].top);a=Math.max(a,T[W].right);V=Math.max(V,T[W].bottom)}var X=document.createElement("div");X.style.position="absolute";X.style.left="-4000px";X.style.width=(a-Z)+"px";X.style.height=(V-Q)+"px";document.body.appendChild(X);var R=H("zrender").init(X);var Y=H("zrender/shape/Image");for(var W in T){R.addShape(new Y({style:{x:T[W].left-Z,y:T[W].top-Q,image:T[W].img}}))}R.render();var U=this._option.backgroundColor;if(U&&U.replace(/ /g,"")==="rgba(0,0,0,0)"){U="#fff"}var P=R.toDataURL("image/png",U);setTimeout(function(){R.dispose();X.parentNode.removeChild(X);X=null},100);return P},getConnectedImage:function(O){var P=this._optionRestore.title;var Q=document.createElement("img");Q.src=this.getConnectedDataURL(O);Q.title=(P&&P.text)||"ECharts";return Q},on:function(O,P){this._messageCenterOutSide.bind(O,P,this);return this},un:function(O,P){this._messageCenterOutSide.unbind(O,P);return this},connect:function(P){if(!P){return this}if(!this._connected){this._connected={}}if(P instanceof Array){for(var O=0,Q=P.length;O<Q;O++){this._connected[P[O].id]=P[O]}}else{this._connected[P.id]=P}return this},disConnect:function(P){if(!P||!this._connected){return this}if(P instanceof Array){for(var O=0,Q=P.length;O<Q;O++){delete this._connected[P[O].id]}}else{delete this._connected[P.id]}for(var R in this._connected){return R,this}this._connected=false;return this},connectedEventHandler:function(O){if(O.__echartsId!=this.id){this._onevent(O)}},isConnected:function(){return !!this._connected},showLoading:function(O){var R={bar:H("zrender/loadingEffect/Bar"),bubble:H("zrender/loadingEffect/Bubble"),dynamicLine:H("zrender/loadingEffect/DynamicLine"),ring:H("zrender/loadingEffect/Ring"),spin:H("zrender/loadingEffect/Spin"),whirling:H("zrender/loadingEffect/Whirling")};this._toolbox.hideDataView();O=O||{};var S=O.textStyle||{};O.textStyle=S;var P=D.merge(D.clone(S),this._themeConfig.textStyle);S.textFont=P.fontStyle+" "+P.fontWeight+" "+P.fontSize+"px "+P.fontFamily;S.text=O.text||this._themeConfig.loadingText;if(O.x!=null){S.x=O.x}if(O.y!=null){S.y=O.y}O.effectOption=O.effectOption||{};O.effectOption.textStyle=S;var Q=O.effect;if(typeof Q==="string"||Q==null){Q=R[O.effect||"spin"]}this._zr.showLoading(new Q(O.effectOption));return this},hideLoading:function(){this._zr.hideLoading();return this},setTheme:function(P){if(P){if(typeof P==="string"){switch(P){default:P=H("./theme/default")}}else{P=P||{}}for(var O in this._themeConfig){delete this._themeConfig[O]}for(var O in I){this._themeConfig[O]=D.clone(I[O])}P.color&&(this._themeConfig.color=[]);P.symbolList&&(this._themeConfig.symbolList=[]);D.merge(this._themeConfig,D.clone(P),true)}if(!F){this._themeConfig.textStyle.fontFamily=this._themeConfig.textStyle.fontFamily2}this._timeline&&this._timeline.setTheme(true);this._optionRestore&&this.restore()},resize:function(){var O=this;return function(){O._clearEffect();O._zr.resize();if(O._option&&O._option.renderAsImage&&F){O._render(O._option);return O}O._zr.clearAnimation();O._island.resize();O._toolbox.resize();O._timeline&&O._timeline.resize();for(var P=0,Q=O._chartList.length;P<Q;P++){O._chartList[P].resize&&O._chartList[P].resize()}O.component.grid&&O.component.grid.refixAxisShape(O.component);O._zr.refresh();O._messageCenter.dispatch(I.EVENT.RESIZE,null,null,O);return O}},_clearEffect:function(){this._zr.modLayer(I.EFFECT_ZLEVEL,{motionBlur:false});this._zr.painter.clearLayer(I.EFFECT_ZLEVEL)},clear:function(){this._disposeChartList();this._zr.clear();this._option={};this._optionRestore={};return this},dispose:function(){var O=this.dom.getAttribute(G);O&&delete B[O];this._island.dispose();this._toolbox.dispose();this._timeline&&this._timeline.dispose();this._messageCenter.unbind();this.clear();this._zr.dispose();this._zr=null}};return L});define("echarts",["echarts/echarts"],function(A){return A});define("echarts/util/shape/GaugePointer",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(C){var D=C("zrender/shape/Base");var A=C("zrender/tool/util");function B(E){D.call(this,E)}B.prototype={type:"gauge-pointer",buildPath:function(J,G){var E=G.r;var F=G.width;var K=G.angle;var H=G.x-Math.cos(K)*F*(F>=E/3?1:2);var I=G.y+Math.sin(K)*F*(F>=E/3?1:2);K=G.angle-Math.PI/2;J.moveTo(H,I);J.lineTo(G.x+Math.cos(K)*F,G.y-Math.sin(K)*F);J.lineTo(G.x+Math.cos(G.angle)*E,G.y-Math.sin(G.angle)*E);J.lineTo(G.x-Math.cos(K)*F,G.y+Math.sin(K)*F);J.lineTo(H,I);return},getRect:function(I){if(I.__rect){return I.__rect}var J=I.width*2;var G=I.x;var H=I.y;var F=G+Math.cos(I.angle)*I.r;var E=H-Math.sin(I.angle)*I.r;I.__rect={x:Math.min(G,F)-J,y:Math.min(H,E)-J,width:Math.abs(G-F)+J,height:Math.abs(H-E)+J};return I.__rect},isCover:C("./normalIsCover")};A.inherits(B,D);return B});define("echarts/chart/gauge",["require","../component/base","./base","../util/shape/GaugePointer","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","zrender/shape/Circle","zrender/shape/Sector","../config","../util/ecData","../util/accMath","zrender/tool/util","../chart"],function(G){var D=G("../component/base");var B=G("./base");var M=G("../util/shape/GaugePointer");var K=G("zrender/shape/Text");var N=G("zrender/shape/Line");var E=G("zrender/shape/Rectangle");var L=G("zrender/shape/Circle");var C=G("zrender/shape/Sector");var J=G("../config");var A=G("../util/ecData");var I=G("../util/accMath");var F=G("zrender/tool/util");function H(O,Q,P,R,S){D.call(this,O,Q,P,R,S);B.call(this);this.refresh(R)}H.prototype={type:J.CHART_TYPE_GAUGE,_buildShape:function(){var Q=this.series;this._paramsMap={};for(var O=0,P=Q.length;O<P;O++){if(Q[O].type===J.CHART_TYPE_GAUGE){Q[O]=this.reformOption(Q[O]);this._buildSingleGauge(O);this.buildMark(O)}}this.addShapeList()},_buildSingleGauge:function(O){var P=this.series[O];this._paramsMap[O]={center:this.parseCenter(this.zr,P.center),radius:this.parseRadius(this.zr,P.radius),startAngle:P.startAngle.toFixed(2)-0,endAngle:P.endAngle.toFixed(2)-0};this._paramsMap[O].totalAngle=this._paramsMap[O].startAngle-this._paramsMap[O].endAngle;this._colorMap(O);this._buildAxisLine(O);this._buildSplitLine(O);this._buildAxisTick(O);this._buildAxisLabel(O);this._buildPointer(O);this._buildTitle(O);this._buildDetail(O)},_buildAxisLine:function(Z){var U=this.series[Z];if(!U.axisLine.show){return}var W=U.min;var b=U.max-W;var Y=this._paramsMap[Z];var e=Y.center;var V=Y.startAngle;var X=Y.totalAngle;var Q=Y.colorArray;var T=U.axisLine.lineStyle;var a=this.parsePercent(T.width,Y.radius[1]);var O=Y.radius[1];var R=O-a;var P;var c=V;var f;for(var d=0,S=Q.length;d<S;d++){f=V-X*(Q[d][0]-W)/b;P=this._getSector(e,R,O,f,c,Q[d][1],T);c=f;P._animationAdd="r";A.set(P,"seriesIndex",Z);A.set(P,"dataIndex",d);this.shapeList.push(P)}},_buildSplitLine:function(a){var U=this.series[a];if(!U.splitLine.show){return}var Q=this._paramsMap[a];var Z=U.splitNumber;var b=U.min;var d=U.max-b;var Y=U.splitLine;var O=this.parsePercent(Y.length,Q.radius[1]);var T=Y.lineStyle;var R=T.color;var f=Q.center;var V=Q.startAngle*Math.PI/180;var c=Q.totalAngle*Math.PI/180;var S=Q.radius[1];var W=S-O;var g;var P;var e;for(var X=0;X<=Z;X++){g=V-c/Z*X;P=Math.sin(g);e=Math.cos(g);this.shapeList.push(new N({zlevel:this._zlevelBase+1,hoverable:false,style:{xStart:f[0]+e*S,yStart:f[1]-P*S,xEnd:f[0]+e*W,yEnd:f[1]-P*W,strokeColor:R==="auto"?this._getColor(a,b+d/Z*X):R,lineType:T.type,lineWidth:T.width,shadowColor:T.shadowColor,shadowBlur:T.shadowBlur,shadowOffsetX:T.shadowOffsetX,shadowOffsetY:T.shadowOffsetY}}))}},_buildAxisTick:function(b){var V=this.series[b];if(!V.axisTick.show){return}var Q=this._paramsMap[b];var a=V.splitNumber;var c=V.min;var f=V.max-c;var d=V.axisTick;var Z=d.splitNumber;var O=this.parsePercent(d.length,Q.radius[1]);var U=d.lineStyle;var R=U.color;var h=Q.center;var W=Q.startAngle*Math.PI/180;var e=Q.totalAngle*Math.PI/180;var S=Q.radius[1];var X=S-O;var j;var P;var g;for(var Y=0,T=a*Z;Y<=T;Y++){if(Y%Z===0){continue}j=W-e/T*Y;P=Math.sin(j);g=Math.cos(j);this.shapeList.push(new N({zlevel:this._zlevelBase+1,hoverable:false,style:{xStart:h[0]+g*S,yStart:h[1]-P*S,xEnd:h[0]+g*X,yEnd:h[1]-P*X,strokeColor:R==="auto"?this._getColor(b,c+f/T*Y):R,lineType:U.type,lineWidth:U.width,shadowColor:U.shadowColor,shadowBlur:U.shadowBlur,shadowOffsetX:U.shadowOffsetX,shadowOffsetY:U.shadowOffsetY}}))}},_buildAxisLabel:function(Y){var S=this.series[Y];if(!S.axisLabel.show){return}var X=S.splitNumber;var Z=S.min;var b=S.max-Z;var W=S.axisLabel.textStyle;var U=this.getFont(W);var P=W.color;var O=this._paramsMap[Y];var e=O.center;var T=O.startAngle;var a=O.totalAngle;var V=O.radius[1]-this.parsePercent(S.splitLine.length,O.radius[1])-10;var R;var f;var c;var d;for(var Q=0;Q<=X;Q++){d=I.accAdd(Z,I.accMul(I.accDiv(b,X),Q));R=T-a/X*Q;f=Math.sin(R*Math.PI/180);c=Math.cos(R*Math.PI/180);R=(R+360)%360;this.shapeList.push(new K({zlevel:this._zlevelBase+1,hoverable:false,style:{x:e[0]+c*V,y:e[1]-f*V,color:P==="auto"?this._getColor(Y,d):P,text:this._getLabelText(S.axisLabel.formatter,d),textAlign:(R>=110&&R<=250)?"left":(R<=70||R>=290)?"right":"center",textBaseline:(R>=10&&R<=170)?"top":(R>=190&&R<=350)?"bottom":"middle",textFont:U,shadowColor:W.shadowColor,shadowBlur:W.shadowBlur,shadowOffsetX:W.shadowOffsetX,shadowOffsetY:W.shadowOffsetY}}))}},_buildPointer:function(R){var O=this.series[R];if(!O.pointer.show){return}var W=O.max-O.min;var Q=O.pointer;var V=this._paramsMap[R];var T=this.parsePercent(Q.length,V.radius[1]);var X=this.parsePercent(Q.width,V.radius[1]);var S=V.center;var U=this._getValue(R);U=U<O.max?U:O.max;var Y=(V.startAngle-V.totalAngle/W*(U-O.min))*Math.PI/180;var P=Q.color==="auto"?this._getColor(R,U):Q.color;var Z=new M({zlevel:this._zlevelBase+1,style:{x:S[0],y:S[1],r:T,startAngle:V.startAngle*Math.PI/180,angle:Y,color:P,width:X,shadowColor:Q.shadowColor,shadowBlur:Q.shadowBlur,shadowOffsetX:Q.shadowOffsetX,shadowOffsetY:Q.shadowOffsetY},highlightStyle:{brushType:"fill",width:X>2?2:(X/2),color:"#fff"}});A.pack(Z,this.series[R],R,this.series[R].data[0],0,this.series[R].data[0].name,U);this.shapeList.push(Z);this.shapeList.push(new L({zlevel:this._zlevelBase+2,hoverable:false,style:{x:S[0],y:S[1],r:Q.width/2.5,color:"#fff"}}))},_buildTitle:function(R){var O=this.series[R];if(!O.title.show){return}var Q=O.data[0];var P=Q.name!=null?Q.name:"";if(P!==""){var V=O.title;var Y=V.offsetCenter;var S=V.textStyle;var U=S.color;var T=this._paramsMap[R];var W=T.center[0]+this.parsePercent(Y[0],T.radius[1]);var X=T.center[1]+this.parsePercent(Y[1],T.radius[1]);this.shapeList.push(new K({zlevel:this._zlevelBase+(Math.abs(W-T.center[0])+Math.abs(X-T.center[1]))<S.fontSize*2?2:1,hoverable:false,style:{x:W,y:X,color:U==="auto"?this._getColor(R):U,text:P,textAlign:"center",textFont:this.getFont(S),shadowColor:S.shadowColor,shadowBlur:S.shadowBlur,shadowOffsetX:S.shadowOffsetX,shadowOffsetY:S.shadowOffsetY}}))}},_buildDetail:function(U){var O=this.series[U];if(!O.detail.show){return}var X=O.detail;var Y=X.offsetCenter;var Q=X.backgroundColor;var R=X.textStyle;var T=R.color;var S=this._paramsMap[U];var P=this._getValue(U);var V=S.center[0]-X.width/2+this.parsePercent(Y[0],S.radius[1]);var W=S.center[1]+this.parsePercent(Y[1],S.radius[1]);this.shapeList.push(new E({zlevel:this._zlevelBase+(Math.abs(V+X.width/2-S.center[0])+Math.abs(W+X.height/2-S.center[1]))<R.fontSize?2:1,hoverable:false,style:{x:V,y:W,width:X.width,height:X.height,brushType:"both",color:Q==="auto"?this._getColor(U,P):Q,lineWidth:X.borderWidth,strokeColor:X.borderColor,shadowColor:X.shadowColor,shadowBlur:X.shadowBlur,shadowOffsetX:X.shadowOffsetX,shadowOffsetY:X.shadowOffsetY,text:this._getLabelText(X.formatter,P),textFont:this.getFont(R),textPosition:"inside",textColor:T==="auto"?this._getColor(U,P):T}}))},_getValue:function(O){var P=this.series[O].data[0];return P.value!=null?P.value:P},_colorMap:function(U){var O=this.series[U];var Q=O.min;var S=O.max-Q;var R=O.axisLine.lineStyle.color;if(!(R instanceof Array)){R=[[1,R]]}var P=[];for(var T=0,V=R.length;T<V;T++){P.push([R[T][0]*S+Q,R[T][1]])}this._paramsMap[U].colorArray=P},_getColor:function(P,R){if(R==null){R=this._getValue(P)}var S=this._paramsMap[P].colorArray;for(var O=0,Q=S.length;O<Q;O++){if(S[O][0]>=R){return S[O][1]}}return S[S.length-1][1]},_getSector:function(R,O,P,S,Q,U,T){return new C({zlevel:this._zlevelBase,hoverable:false,style:{x:R[0],y:R[1],r0:O,r:P,startAngle:S,endAngle:Q,brushType:"fill",color:U,shadowColor:T.shadowColor,shadowBlur:T.shadowBlur,shadowOffsetX:T.shadowOffsetX,shadowOffsetY:T.shadowOffsetY}})},_getLabelText:function(O,P){if(O){if(typeof O==="function"){return O.call(this.myChart,P)}else{if(typeof O==="string"){return O.replace("{value}",P)}}}return P},refresh:function(O){if(O){this.option=O;this.series=O.series}this.backupShapeList();this._buildShape()}};F.inherits(H,B);F.inherits(H,D);G("../chart").define("gauge",H);return H});define("echarts/chart/funnel",["require","../component/base","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Polygon","../config","../util/ecData","../util/number","zrender/tool/util","zrender/tool/color","zrender/tool/area","../chart"],function(F){var D=F("../component/base");var B=F("./base");var I=F("zrender/shape/Text");var K=F("zrender/shape/Line");var G=F("zrender/shape/Polygon");var H=F("../config");var A=F("../util/ecData");var C=F("../util/number");var E=F("zrender/tool/util");var M=F("zrender/tool/color");var L=F("zrender/tool/area");function J(N,P,O,Q,R){D.call(this,N,P,O,Q,R);B.call(this);this.refresh(Q)}J.prototype={type:H.CHART_TYPE_FUNNEL,_buildShape:function(){var Q=this.series;var O=this.component.legend;this._paramsMap={};this._selected={};this.selectedMap={};var R;for(var N=0,P=Q.length;N<P;N++){if(Q[N].type===H.CHART_TYPE_FUNNEL){Q[N]=this.reformOption(Q[N]);R=Q[N].name||"";this.selectedMap[R]=O?O.isSelected(R):true;if(!this.selectedMap[R]){continue}this._buildSingleFunnel(N);this.buildMark(N)}}this.addShapeList()},_buildSingleFunnel:function(X){var Z=this.component.legend;var Y=this.series[X];var d=this._mapData(X);var O=this._getLocation(X);this._paramsMap[X]={location:O,data:d};var f;var c=0;var T=[];for(var Q=0,S=d.length;Q<S;Q++){f=d[Q].name;if(Z){this.selectedMap[f]=Z.isSelected(f)}else{this.selectedMap[f]=true}if(this.selectedMap[f]&&!isNaN(d[Q].value)){T.push(d[Q]);c++}}if(c===0){return}var e=this._buildFunnelCase(X);var P=Y.gap;var a=c>1?(O.height-(c-1)*P)/c:O.height;var W;var R=O.y;var V=Y.sort==="descending"?this._getItemWidth(X,T[0].value):C.parsePercent(Y.minSize,O.width);var b=Y.sort==="descending"?1:0;var U=O.centerX;var N=[[U-V/2-(V===0?0:10),R-(V===0?10:5)],[U+V/2+(V===0?0:10),R-(V===0?10:5)]];for(var Q=0,S=T.length;Q<S;Q++){f=T[Q].name;if(this.selectedMap[f]&&!isNaN(T[Q].value)){W=Q<=S-2?this._getItemWidth(X,T[Q+b].value):Y.sort==="descending"?C.parsePercent(Y.minSize,O.width):C.parsePercent(Y.maxSize,O.width);this._buildItem(X,T[Q]._index,Z?Z.getColor(f):this.zr.getColor(T[Q]._index),U-V/2,R,V,W,a);R+=a+P;V=W;N.unshift([U-V/2-10,R]);N.push([U+V/2+10,R])}}if(e){if(V===0){N.pop();N[0][0]+=10;N[0][1]+=10}else{N[N.length-1][1]+=5;N[0][1]+=5}e.style.pointList=N}},_buildFunnelCase:function(O){var P=this.series[O];if(this.deepQuery([P,this.option],"calculable")){var N=this._paramsMap[O].location;var Q=10;var R={hoverable:false,style:{pointListd:[[N.x-Q,N.y-Q],[N.x+N.width+Q,N.y-Q],[N.x+N.width+Q,N.y+N.height+Q],[N.x-Q,N.y+N.height+Q]],brushType:"stroke",lineWidth:1,strokeColor:P.calculableHolderColor||this.ecTheme.calculableHolderColor}};A.pack(R,P,O,undefined,-1);this.setCalculable(R);R=new G(R);this.shapeList.push(R);return R}},_getLocation:function(Q){var R=this.series[Q];var S=this.zr.getWidth();var P=this.zr.getHeight();var T=this.parsePercent(R.x,S);var U=this.parsePercent(R.y,P);var O;if(R.width==null){O=S-T-this.parsePercent(R.x2,S)}else{O=this.parsePercent(R.width,S)}var N;if(R.height==null){N=P-U-this.parsePercent(R.y2,P)}else{N=this.parsePercent(R.height,P)}return{x:T,y:U,width:O,height:N,centerX:T+O/2}},_mapData:function(Q){var S=this.series[Q];var T=E.clone(S.data);for(var O=0,R=T.length;O<R;O++){T[O]._index=O}function N(V,U){if(V.value==="-"){return 1}else{if(U.value==="-"){return -1}}return U.value-V.value}function P(V,U){return -N(V,U)}if(S.sort!="none"){T.sort(S.sort==="descending"?N:P)}return T},_buildItem:function(S,X,c,Z,a,T,b,P){var Q=this.series;var N=Q[S];var R=N.data[X];var W=this.getPolygon(S,X,c,Z,a,T,b,P);A.pack(W,Q[S],S,Q[S].data[X],X,Q[S].data[X].name);this.shapeList.push(W);var V=this.getLabel(S,X,c,Z,a,T,b,P);A.pack(V,Q[S],S,Q[S].data[X],X,Q[S].data[X].name);this.shapeList.push(V);if(!this._needLabel(N,R,false)){V.invisible=true}var O=this.getLabelLine(S,X,c,Z,a,T,b,P);this.shapeList.push(O);if(!this._needLabelLine(N,R,false)){O.invisible=true}var Y=[];var U=[];if(this._needLabelLine(N,R,true)){Y.push(O.id);U.push(O.id)}if(this._needLabel(N,R,true)){Y.push(V.id);U.push(W.id)}W.hoverConnect=Y;V.hoverConnect=U;W.onmouseover=V.onmouseover=this.hoverConnect},_getItemWidth:function(R,S){var N=this.series[R];var U=this._paramsMap[R].location;var P=N.min;var Q=N.max;var T=C.parsePercent(N.minSize,U.width);var O=C.parsePercent(N.maxSize,U.width);return S*(O-T)/(Q-P)},getPolygon:function(R,W,c,Y,Z,S,a,P){var N=this.series[R];var Q=N.data[W];var X=[Q,N];var b=this.deepMerge(X,"itemStyle.normal")||{};var V=this.deepMerge(X,"itemStyle.emphasis")||{};var T=this.getItemStyleColor(b.color,R,W,Q)||c;var O=this.getItemStyleColor(V.color,R,W,Q)||(typeof T==="string"?M.lift(T,-0.2):T);var U={zlevel:this._zlevelBase,clickable:this.deepQuery(X,"clickable"),style:{pointList:[[Y,Z],[Y+S,Z],[Y+S-(S-a)/2,Z+P],[Y+(S-a)/2,Z+P]],brushType:"both",color:T,lineWidth:b.borderWidth,strokeColor:b.borderColor},highlightStyle:{color:O,lineWidth:V.borderWidth,strokeColor:V.borderColor}};if(this.deepQuery([Q,N,this.option],"calculable")){this.setCalculable(U);U.draggable=true}return new G(U)},getLabel:function(X,U,R,f,g,N,Z,h){var a=this.series[X];var d=a.data[U];var P=this._paramsMap[X].location;var T=E.merge(E.clone(d.itemStyle)||{},a.itemStyle);var c="normal";var Q=T[c].label;var W=Q.textStyle||{};var S=T[c].labelLine.length;var V=this.getLabelText(X,U,c);var e=this.getFont(W);var i;var b;var O=R;Q.position=Q.position||T.normal.label.position;if(Q.position==="inner"||Q.position==="inside"){i="center";b=f+N/2;if(Math.max(N,Z)/2>L.getTextWidth(V,e)){O="#fff"}else{O=M.reverse(R)}}else{if(Q.position==="left"){i="right";b=S==="auto"?(P.x-10):(P.centerX-Math.max(N,Z)/2-S)}else{i="left";b=S==="auto"?(P.x+P.width+10):(P.centerX+Math.max(N,Z)/2+S)}}var Y={zlevel:this._zlevelBase+1,style:{x:b,y:g+h/2,color:W.color||O,text:V,textAlign:W.align||i,textBaseline:W.baseline||"middle",textFont:e}};c="emphasis";Q=T[c].label||Q;W=Q.textStyle||W;S=T[c].labelLine.length||S;Q.position=Q.position||T.normal.label.position;V=this.getLabelText(X,U,c);e=this.getFont(W);O=R;if(Q.position==="inner"||Q.position==="inside"){i="center";b=f+N/2;if(Math.max(N,Z)/2>L.getTextWidth(V,e)){O="#fff"}else{O=M.reverse(R)}}else{if(Q.position==="left"){i="right";b=S==="auto"?(P.x-10):(P.centerX-Math.max(N,Z)/2-S)}else{i="left";b=S==="auto"?(P.x+P.width+10):(P.centerX+Math.max(N,Z)/2+S)}}Y.highlightStyle={x:b,color:W.color||O,text:V,textAlign:W.align||i,textFont:e,brushType:"fill"};return new I(Y)},getLabelText:function(P,O,Q){var S=this.series;var R=S[P];var T=R.data[O];var N=this.deepQuery([T,R],"itemStyle."+Q+".label.formatter");if(N){if(typeof N==="function"){return N.call(this.myChart,R.name,T.name,T.value)}else{if(typeof N==="string"){N=N.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");N=N.replace("{a0}",R.name).replace("{b0}",T.name).replace("{c0}",T.value);return N}}}else{return T.name}},getLabelLine:function(X,W,T,c,d,N,Y,e){var Z=this.series[X];var b=Z.data[W];var P=this._paramsMap[X].location;var V=E.merge(E.clone(b.itemStyle)||{},Z.itemStyle);var a="normal";var Q=V[a].labelLine;var U=V[a].labelLine.length;var O=Q.lineStyle||{};var R=V[a].label;R.position=R.position||V.normal.label.position;var S;if(R.position==="inner"||R.position==="inside"){S=c+N/2}else{if(R.position==="left"){S=U==="auto"?(P.x-10):(P.centerX-Math.max(N,Y)/2-U)}else{S=U==="auto"?(P.x+P.width+10):(P.centerX+Math.max(N,Y)/2+U)}}var f={zlevel:this._zlevelBase+1,hoverable:false,style:{xStart:P.centerX,yStart:d+e/2,xEnd:S,yEnd:d+e/2,strokeColor:O.color||T,lineType:O.type,lineWidth:O.width}};a="emphasis";Q=V[a].labelLine||Q;U=V[a].labelLine.length||U;O=Q.lineStyle||O;R=V[a].label||R;R.position=R.position;if(R.position==="inner"||R.position==="inside"){S=c+N/2}else{if(R.position==="left"){S=U==="auto"?(P.x-10):(P.centerX-Math.max(N,Y)/2-U)}else{S=U==="auto"?(P.x+P.width+10):(P.centerX+Math.max(N,Y)/2+U)}}f.highlightStyle={xEnd:S,strokeColor:O.color||T,lineType:O.type,lineWidth:O.width};return new K(f)},_needLabel:function(N,P,O){return this.deepQuery([P,N],"itemStyle."+(O?"emphasis":"normal")+".label.show")},_needLabelLine:function(N,P,O){return this.deepQuery([P,N],"itemStyle."+(O?"emphasis":"normal")+".labelLine.show")},refresh:function(N){if(N){this.option=N;this.series=N.series}this.backupShapeList();this._buildShape()}};E.inherits(J,B);E.inherits(J,D);F("../chart").define("funnel",J);return J});define("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(C){var I=C("./base");var E=C("zrender/shape/Text");var F=C("zrender/shape/Line");var A=C("zrender/shape/Rectangle");var D=C("../config");var B=C("zrender/tool/util");var G=C("zrender/tool/area");function H(J,L,K,M,N,P){if(M.data.length<1){console.error("option.data.length < 1.");return}I.call(this,J,L,K,M,N);this.grid=this.component.grid;for(var O in P){this[O]=P[O]}this.refresh(M)}H.prototype={type:D.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(K){var L=typeof this.option.data[K].value!="undefined"?this.option.data[K].value:this.option.data[K];var J=this.option.data[K].formatter||this.option.axisLabel.formatter;if(J){if(typeof J=="function"){L=J.call(this.myChart,L)}else{if(typeof J=="string"){L=J.replace("{value}",L)}}}return L},_getInterval:function(){var S=this.option.axisLabel.interval;if(S=="auto"){var N=this.option.axisLabel.textStyle.fontSize;var M=this.option.data;var J=this.option.data.length;if(this.isHorizontal()){if(J>3){var U=this.getGap();var P=false;var R;var L;var O=Math.floor(0.5/U);O=O<1?1:O;S=Math.floor(15/U);while(!P&&S<J){S+=O;P=true;R=Math.floor(U*S);for(var Q=Math.floor((J-1)/S)*S;Q>=0;Q-=S){if(this.option.axisLabel.rotate!==0){L=N}else{if(M[Q].textStyle){L=G.getTextWidth(this._getReformedLabel(Q),this.getFont(B.merge(M[Q].textStyle,this.option.axisLabel.textStyle)))}else{var T=this._getReformedLabel(Q)+"";var K=(T.match(/\w/g)||"").length;var V=T.length-K;L=K*N*2/3+V*N}}if(R<L){P=false;break}}}}else{S=1}}else{if(J>3){var U=this.getGap();S=Math.floor(11/U);while((U*S-6)<N&&S<J){S++}}else{S=1}}}else{S=S-0+1}return S},_buildShape:function(){this._interval=this._getInterval();this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var J=0,K=this.shapeList.length;J<K;J++){this.zr.addShape(this.shapeList[J])}},_buildAxisTick:function(){var J;var P=this.option.data.length;var L=this.option.axisTick;var O=L.length;var N=L.lineStyle.color;var R=L.lineStyle.width;var T=L.interval=="auto"?this._interval:(L.interval-0+1);var K=L.onGap;var V=K?(this.getGap()/2):typeof K=="undefined"?(this.option.boundaryGap?(this.getGap()/2):0):0;var W=V>0?-T:0;if(this.isHorizontal()){var X=this.option.position=="bottom"?(L.inside?(this.grid.getYend()-O-1):(this.grid.getYend()+1)):(L.inside?(this.grid.getY()+1):(this.grid.getY()-O-1));var U;for(var Q=W;Q<P;Q+=T){U=this.subPixelOptimize(this.getCoordByIndex(Q)+(Q>=0?V:0),R);J={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:false,style:{xStart:U,yStart:X,xEnd:U,yEnd:X+O,strokeColor:N,lineWidth:R}};this.shapeList.push(new F(J))}}else{var S=this.option.position=="left"?(L.inside?(this.grid.getX()+1):(this.grid.getX()-O-1)):(L.inside?(this.grid.getXend()-O-1):(this.grid.getXend()+1));var M;for(var Q=W;Q<P;Q+=T){M=this.subPixelOptimize(this.getCoordByIndex(Q)-(Q>=0?V:0),R);J={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:false,style:{xStart:S,yStart:M,xEnd:S+O,yEnd:M,strokeColor:N,lineWidth:R}};this.shapeList.push(new F(J))}}},_buildAxisLabel:function(){var J;var L=this.option.data;var R=this.option.data.length;var U=this.option.axisLabel.rotate;var P=this.option.axisLabel.margin;var T=this.option.axisLabel.clickable;var O=this.option.axisLabel.textStyle;var V;if(this.isHorizontal()){var K;var Q;if(this.option.position=="bottom"){K=this.grid.getYend()+P;Q="top"}else{K=this.grid.getY()-P;Q="bottom"}for(var S=0;S<R;S+=this._interval){if(this._getReformedLabel(S)===""){continue}V=B.merge(L[S].textStyle||{},O);J={zlevel:this._zlevelBase,hoverable:false,style:{x:this.getCoordByIndex(S),y:K,color:V.color,text:this._getReformedLabel(S),textFont:this.getFont(V),textAlign:V.align||"center",textBaseline:V.baseline||Q}};if(U){J.style.textAlign=U>0?(this.option.position=="bottom"?"right":"left"):(this.option.position=="bottom"?"left":"right");J.rotation=[U*Math.PI/180,J.style.x,J.style.y]}this.shapeList.push(new E(this._axisLabelClickable(T,J)))}}else{var M;var N;if(this.option.position=="left"){M=this.grid.getX()-P;N="right"}else{M=this.grid.getXend()+P;N="left"}for(var S=0;S<R;S+=this._interval){if(this._getReformedLabel(S)===""){continue}V=B.merge(L[S].textStyle||{},O);J={zlevel:this._zlevelBase,hoverable:false,style:{x:M,y:this.getCoordByIndex(S),color:V.color,text:this._getReformedLabel(S),textFont:this.getFont(V),textAlign:V.align||N,textBaseline:V.baseline||(S===0&&this.option.name!=="")?"bottom":(S==(R-1)&&this.option.name!=="")?"top":"middle"}};if(U){J.rotation=[U*Math.PI/180,J.style.x,J.style.y]}this.shapeList.push(new E(this._axisLabelClickable(T,J)))}}},_buildSplitLine:function(){var J;var P=this.option.data.length;var Y=this.option.splitLine;var L=Y.lineStyle.type;var R=Y.lineStyle.width;var N=Y.lineStyle.color;N=N instanceof Array?N:[N];var Q=N.length;var K=Y.onGap;var V=K?(this.getGap()/2):typeof K=="undefined"?(this.option.boundaryGap?(this.getGap()/2):0):0;P-=(K||(typeof K=="undefined"&&this.option.boundaryGap))?1:0;if(this.isHorizontal()){var T=this.grid.getY();var S=this.grid.getYend();var U;for(var W=0;W<P;W+=this._interval){U=this.subPixelOptimize(this.getCoordByIndex(W)+V,R);J={zlevel:this._zlevelBase,hoverable:false,style:{xStart:U,yStart:T,xEnd:U,yEnd:S,strokeColor:N[(W/this._interval)%Q],lineType:L,lineWidth:R}};this.shapeList.push(new F(J))}}else{var M=this.grid.getX();var O=this.grid.getXend();var X;for(var W=0;W<P;W+=this._interval){X=this.subPixelOptimize(this.getCoordByIndex(W)-V,R);J={zlevel:this._zlevelBase,hoverable:false,style:{xStart:M,yStart:X,xEnd:O,yEnd:X,strokeColor:N[(W/this._interval)%Q],linetype:L,lineWidth:R}};this.shapeList.push(new F(J))}}},_buildSplitArea:function(){var N;var J=this.option.splitArea;var O=J.areaStyle.color;if(!(O instanceof Array)){N={zlevel:this._zlevelBase,hoverable:false,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:O}};this.shapeList.push(new A(N))}else{var Q=O.length;var P=this.option.data.length;var K=J.onGap;var W=K?(this.getGap()/2):typeof K=="undefined"?(this.option.boundaryGap?(this.getGap()/2):0):0;if(this.isHorizontal()){var X=this.grid.getY();var M=this.grid.getHeight();var R=this.grid.getX();var Y;for(var S=0;S<=P;S+=this._interval){Y=S<P?(this.getCoordByIndex(S)+W):this.grid.getXend();N={zlevel:this._zlevelBase,hoverable:false,style:{x:R,y:X,width:Y-R,height:M,color:O[(S/this._interval)%Q]}};this.shapeList.push(new A(N));R=Y}}else{var V=this.grid.getX();var T=this.grid.getWidth();var U=this.grid.getYend();var L;for(var S=0;S<=P;S+=this._interval){L=S<P?(this.getCoordByIndex(S)-W):this.grid.getY();N={zlevel:this._zlevelBase,hoverable:false,style:{x:V,y:L,width:T,height:U-L,color:O[(S/this._interval)%Q]}};this.shapeList.push(new A(N));U=L}}}},refresh:function(J){if(J){this.option=this.reformOption(J);this.option.axisLabel.textStyle=B.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle)}this.clear();this._buildShape()},getGap:function(){var K=this.option.data.length;var J=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();if(this.option.boundaryGap){return J/K}else{return J/(K>1?(K-1):1)}},getCoord:function(N){var O=this.option.data;var K=O.length;var M=this.getGap();var L=this.option.boundaryGap?(M/2):0;for(var J=0;J<K;J++){if(O[J]==N||(typeof O[J].value!="undefined"&&O[J].value==N)){if(this.isHorizontal()){L=this.grid.getX()+L}else{L=this.grid.getYend()-L}return L}L+=M}},getCoordByIndex:function(J){if(J<0){if(this.isHorizontal()){return this.grid.getX()}else{return this.grid.getYend()}}else{if(J>this.option.data.length-1){if(this.isHorizontal()){return this.grid.getXend()}else{return this.grid.getY()}}else{var L=this.getGap();var K=this.option.boundaryGap?(L/2):0;K+=J*L;if(this.isHorizontal()){K=this.grid.getX()+K}else{K=this.grid.getYend()-K}return K}}},getNameByIndex:function(J){var K=this.option.data[J];if(typeof K!="undefined"&&typeof K.value!="undefined"){return K.value}else{return K}},getIndexByName:function(L){var M=this.option.data;var K=M.length;for(var J=0;J<K;J++){if(M[J]==L||(typeof M[J].value!="undefined"&&M[J].value==L)){return J}}return -1},getValueFromCoord:function(){return""},isMainAxis:function(J){return J%this._interval===0}};B.inherits(H,I);C("../component").define("categoryAxis",H);return H});define("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(D){var H=D("./base");var F=D("zrender/shape/Text");var G=D("zrender/shape/Line");var B=D("zrender/shape/Rectangle");var E=D("../config");var C=D("zrender/tool/util");function A(I,K,J,L,N,P,O){if(!O||O.length===0){console.err("option.series.length == 0.");return}H.call(this,I,K,J,L,N);this.series=O;this.grid=this.component.grid;for(var M in P){this[M]=P[M]}this.refresh(L,O)}A.prototype={type:E.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){this._hasData=false;this._calculateValue();if(!this._hasData){return}this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var I=0,J=this.shapeList.length;I<J;I++){this.zr.addShape(this.shapeList[I])}},_buildAxisTick:function(){var I;var K=this._valueList;var N=this._valueList.length;var J=this.option.axisTick;var M=J.length;var L=J.lineStyle.color;var P=J.lineStyle.width;if(this.isHorizontal()){var T=this.option.position==="bottom"?(J.inside?(this.grid.getYend()-M-1):(this.grid.getYend())+1):(J.inside?(this.grid.getY()+1):(this.grid.getY()-M-1));var R;for(var O=0;O<N;O++){R=this.subPixelOptimize(this.getCoord(K[O]),P);I={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:false,style:{xStart:R,yStart:T,xEnd:R,yEnd:T+M,strokeColor:L,lineWidth:P}};this.shapeList.push(new G(I))}}else{var Q=this.option.position==="left"?(J.inside?(this.grid.getX()+1):(this.grid.getX()-M-1)):(J.inside?(this.grid.getXend()-M-1):(this.grid.getXend()+1));var S;for(var O=0;O<N;O++){S=this.subPixelOptimize(this.getCoord(K[O]),P);I={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:false,style:{xStart:Q,yStart:S,xEnd:Q+M,yEnd:S,strokeColor:L,lineWidth:P}};this.shapeList.push(new G(I))}}},_buildAxisLabel:function(){var I;var J=this._valueList;var P=this._valueList.length;var S=this.option.axisLabel.rotate;var N=this.option.axisLabel.margin;var R=this.option.axisLabel.clickable;var M=this.option.axisLabel.textStyle;if(this.isHorizontal()){var T;var O;if(this.option.position==="bottom"){T=this.grid.getYend()+N;O="top"}else{T=this.grid.getY()-N;O="bottom"}for(var Q=0;Q<P;Q++){I={zlevel:this._zlevelBase,hoverable:false,style:{x:this.getCoord(J[Q]),y:T,color:typeof M.color==="function"?M.color(J[Q]):M.color,text:this._valueLabel[Q],textFont:this.getFont(M),textAlign:M.align||"center",textBaseline:M.baseline||O}};if(S){I.style.textAlign=S>0?(this.option.position==="bottom"?"right":"left"):(this.option.position==="bottom"?"left":"right");I.rotation=[S*Math.PI/180,I.style.x,I.style.y]}this.shapeList.push(new F(this._axisLabelClickable(R,I)))}}else{var K;var L;if(this.option.position==="left"){K=this.grid.getX()-N;L="right"}else{K=this.grid.getXend()+N;L="left"}for(var Q=0;Q<P;Q++){I={zlevel:this._zlevelBase,hoverable:false,style:{x:K,y:this.getCoord(J[Q]),color:typeof M.color==="function"?M.color(J[Q]):M.color,text:this._valueLabel[Q],textFont:this.getFont(M),textAlign:M.align||L,textBaseline:M.baseline||(Q===0&&this.option.name!=="")?"bottom":(Q===(P-1)&&this.option.name!=="")?"top":"middle"}};if(S){I.rotation=[S*Math.PI/180,I.style.x,I.style.y]}this.shapeList.push(new F(this._axisLabelClickable(R,I)))}}},_buildSplitLine:function(){var I;var K=this._valueList;var N=this._valueList.length;var W=this.option.splitLine;var J=W.lineStyle.type;var P=W.lineStyle.width;var L=W.lineStyle.color;L=L instanceof Array?L:[L];var O=L.length;if(this.isHorizontal()){var R=this.grid.getY();var Q=this.grid.getYend();var S;for(var U=0;U<N;U++){S=this.subPixelOptimize(this.getCoord(K[U]),P);I={zlevel:this._zlevelBase,hoverable:false,style:{xStart:S,yStart:R,xEnd:S,yEnd:Q,strokeColor:L[U%O],lineType:J,lineWidth:P}};this.shapeList.push(new G(I))}}else{var T=this.grid.getX();var M=this.grid.getXend();var V;for(var U=0;U<N;U++){V=this.subPixelOptimize(this.getCoord(K[U]),P);I={zlevel:this._zlevelBase,hoverable:false,style:{xStart:T,yStart:V,xEnd:M,yEnd:V,strokeColor:L[U%O],lineType:J,lineWidth:P}};this.shapeList.push(new G(I))}}},_buildSplitArea:function(){var I;var M=this.option.splitArea.areaStyle.color;if(!(M instanceof Array)){I={zlevel:this._zlevelBase,hoverable:false,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:M}};this.shapeList.push(new B(I))}else{var O=M.length;var L=this._valueList;var N=this._valueList.length;if(this.isHorizontal()){var U=this.grid.getY();var K=this.grid.getHeight();var P=this.grid.getX();var V;for(var Q=0;Q<=N;Q++){V=Q<N?this.getCoord(L[Q]):this.grid.getXend();I={zlevel:this._zlevelBase,hoverable:false,style:{x:P,y:U,width:V-P,height:K,color:M[Q%O]}};this.shapeList.push(new B(I));P=V}}else{var T=this.grid.getX();var R=this.grid.getWidth();var S=this.grid.getYend();var J;for(var Q=0;Q<=N;Q++){J=Q<N?this.getCoord(L[Q]):this.grid.getY();I={zlevel:this._zlevelBase,hoverable:false,style:{x:T,y:J,width:R,height:S-J,color:M[Q%O]}};this.shapeList.push(new B(I));S=J}}}},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){var S;var K={};var M;var I;var L;var P=this.component.legend;for(var Q=0,U=this.series.length;Q<U;Q++){if(this.series[Q].type!=E.CHART_TYPE_LINE&&this.series[Q].type!=E.CHART_TYPE_BAR&&this.series[Q].type!=E.CHART_TYPE_SCATTER&&this.series[Q].type!=E.CHART_TYPE_K){continue}if(P&&!P.isSelected(this.series[Q].name)){continue}I=this.series[Q].xAxisIndex||0;L=this.series[Q].yAxisIndex||0;if((this.option.xAxisIndex!=I)&&(this.option.yAxisIndex!=L)){continue}var R=this.series[Q].name||"kener";if(!this.series[Q].stack){K[R]=K[R]||[];S=this.series[Q].data;for(var N=0,O=S.length;N<O;N++){M=S[N].value!=null?S[N].value:S[N];if(this.series[Q].type===E.CHART_TYPE_SCATTER){if(this.option.xAxisIndex!=-1){K[R].push(M[0])}if(this.option.yAxisIndex!=-1){K[R].push(M[1])}}else{if(this.series[Q].type===E.CHART_TYPE_K){K[R].push(M[0]);K[R].push(M[1]);K[R].push(M[2]);K[R].push(M[3])}else{K[R].push(M)}}}}else{var T="__Magic_Key_Positive__"+this.series[Q].stack;var J="__Magic_Key_Negative__"+this.series[Q].stack;K[T]=K[T]||[];K[J]=K[J]||[];K[R]=K[R]||[];S=this.series[Q].data;for(var N=0,O=S.length;N<O;N++){M=S[N].value!=null?S[N].value:S[N];if(M==="-"){continue}M=M-0;if(M>=0){if(K[T][N]!=null){K[T][N]+=M}else{K[T][N]=M}}else{if(K[J][N]!=null){K[J][N]+=M}else{K[J][N]=M}}if(this.option.scale){K[R].push(M)}}}}for(var Q in K){S=K[Q];for(var N=0,O=S.length;N<O;N++){if(!isNaN(S[N])){this._hasData=true;this._min=S[N];this._max=S[N];break}}if(this._hasData){break}}for(var Q in K){S=K[Q];for(var N=0,O=S.length;N<O;N++){if(!isNaN(S[N])){this._min=Math.min(this._min,S[N]);this._max=Math.max(this._max,S[N])}}}var V=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?(this._min-Math.abs(V*this.option.boundaryGap[0])):(this.option.min-0);this._max=isNaN(this.option.max-0)?(this._max+Math.abs(V*this.option.boundaryGap[1])):(this.option.max-0);if(this._min===this._max){if(this._max===0){this._max=this.option.power>0?this.option.power:1}else{if(this._max>0){this._min=this._max/this.option.splitNumber}else{this._max=this._max/this.option.splitNumber}}}this._reformValue(this.option.scale)}else{this._hasData=true;this._min=this.option.min-0;this._max=this.option.max-0;this._customerValue()}},_reformValue:function(K){var N=this.option.splitNumber;var I=this.option.precision;var L;var P;if(I===0){P=this.option.power>1?this.option.power:1}else{P=Math.pow(10,I);this._min*=P;this._max*=P;P=this.option.power}var O;if(this._min>=0&&this._max>=0){if(!K){while((this._max/P<N)&&P!=1){P=P/10}this._min=0}else{while(this._min<P&&P!=1){P=P/10}if(I===0){this._min=Math.floor(this._min/P)*P;this._max=Math.ceil(this._max/P)*P}}P=P>1?P/10:1;O=this._max-this._min;L=Math.ceil((O/N)/P)*P;this._max=this._min+L*N}else{if(this._min<=0&&this._max<=0){P=-P;if(!K){while((this._min/P<N)&&P!=-1){P=P/10}this._max=0}else{while(this._max>P&&P!=-1){P=P/10}if(I===0){this._min=Math.ceil(this._min/P)*P;this._max=Math.floor(this._max/P)*P}}P=P<-1?P/10:-1;O=this._min-this._max;L=-Math.ceil((O/N)/P)*P;this._min=-L*N+this._max}else{O=this._max-this._min;while((O/P<N)&&P!=1){P=P/10}var J=Math.round(this._max/O*N);J-=(J===N?1:0);J+=J===0?1:0;L=(Math.ceil(Math.max(this._max/J,this._min/(J-N))/P))*P;this._max=L*J;this._min=L*(J-N)}}this._valueList=[];for(var M=0;M<=N;M++){this._valueList.push(this._min+L*M)}if(I!==0){P=Math.pow(10,I);this._min=(this._min/P).toFixed(I)-0;this._max=(this._max/P).toFixed(I)-0;for(var M=0;M<=N;M++){this._valueList[M]=(this._valueList[M]/P).toFixed(I)-0}}this._reformLabelData()},_customerValue:function(){var I=this.option.splitNumber;var K=this.option.precision;var L=(this._max-this._min)/I;this._valueList=[];for(var J=0;J<=I;J++){this._valueList.push((this._min+L*J).toFixed(K)-0)}this._reformLabelData()},_reformLabelData:function(){this._valueLabel=[];var I=this.option.axisLabel.formatter;if(I){for(var J=0,K=this._valueList.length;J<K;J++){if(typeof I==="function"){this._valueLabel.push(I.call(this.myChart,this._valueList[J]))}else{if(typeof I==="string"){this._valueLabel.push(I.replace("{value}",this._valueList[J]))}}}}else{for(var J=0,K=this._valueList.length;J<K;J++){this._valueLabel.push(this.numAddCommas(this._valueList[J]))}}},getExtremum:function(){this._calculateValue();return{min:this._min,max:this._max}},refresh:function(J,I){if(J){this.option=this.reformOption(J);this.option.axisLabel.textStyle=C.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle);this.series=I}if(this.zr){this.clear();this._buildShape()}},getCoord:function(J){J=J<this._min?this._min:J;J=J>this._max?this._max:J;var I;if(!this.isHorizontal()){I=this.grid.getYend()-(J-this._min)/(this._max-this._min)*this.grid.getHeight()}else{I=this.grid.getX()+(J-this._min)/(this._max-this._min)*this.grid.getWidth()}return I},getCoordSize:function(I){if(!this.isHorizontal()){return Math.abs(I/(this._max-this._min)*this.grid.getHeight())}else{return Math.abs(I/(this._max-this._min)*this.grid.getWidth())}},getValueFromCoord:function(J){var I;if(!this.isHorizontal()){J=J<this.grid.getY()?this.grid.getY():J;J=J>this.grid.getYend()?this.grid.getYend():J;I=this._max-(J-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)}else{J=J<this.grid.getX()?this.grid.getX():J;J=J>this.grid.getXend()?this.grid.getXend():J;I=this._min+(J-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)}return I.toFixed(2)-0}};C.inherits(A,H);D("../component").define("valueAxis",A);return A});define("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(D){var H=D("./base");var G=D("zrender/shape/Line");var B=D("../config");var A=D("../util/ecData");var C=D("zrender/tool/util");var E=D("zrender/tool/color");function F(I,K,J,L,M,N){H.call(this,I,K,J,L,M);this.axisType=N;this._axisList=[];this.refresh(L)}F.prototype={type:B.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var J=this.option.axisLine.lineStyle.width;var K=J/2;var I={_axisShape:"axisLine",zlevel:this._zlevelBase+1,hoverable:false};switch(this.option.position){case"left":I.style={xStart:this.grid.getX()-K,yStart:this.grid.getYend(),xEnd:this.grid.getX()-K,yEnd:this.grid.getY(),lineCap:"round"};break;case"right":I.style={xStart:this.grid.getXend()+K,yStart:this.grid.getYend(),xEnd:this.grid.getXend()+K,yEnd:this.grid.getY(),lineCap:"round"};break;case"bottom":I.style={xStart:this.grid.getX(),yStart:this.grid.getYend()+K,xEnd:this.grid.getXend(),yEnd:this.grid.getYend()+K,lineCap:"round"};break;case"top":I.style={xStart:this.grid.getX(),yStart:this.grid.getY()-K,xEnd:this.grid.getXend(),yEnd:this.grid.getY()-K,lineCap:"round"};break}if(this.option.name!==""){I.style.text=this.option.name;I.style.textPosition=this.option.nameLocation;I.style.textFont=this.getFont(this.option.nameTextStyle);if(this.option.nameTextStyle.align){I.style.textAlign=this.option.nameTextStyle.align}if(this.option.nameTextStyle.baseline){I.style.textBaseline=this.option.nameTextStyle.baseline}if(this.option.nameTextStyle.color){I.style.textColor=this.option.nameTextStyle.color}}I.style.strokeColor=this.option.axisLine.lineStyle.color;I.style.lineWidth=J;if(this.isHorizontal()){I.style.yStart=I.style.yEnd=this.subPixelOptimize(I.style.yEnd,J)}else{I.style.xStart=I.style.xEnd=this.subPixelOptimize(I.style.xEnd,J)}I.style.lineType=this.option.axisLine.lineStyle.type;I=new G(I);this.shapeList.push(I)},_axisLabelClickable:function(J,I){if(J){A.pack(I,undefined,-1,undefined,-1,I.style.text);I.hoverable=true;I.clickable=true;I.highlightStyle={color:E.lift(I.style.color,1),brushType:"fill"};return I}else{return I}},refixAxisShape:function(K,L){if(!this.option.axisLine.onZero){return}var J;if(this.isHorizontal()&&L!=null){for(var I=0,M=this.shapeList.length;I<M;I++){if(this.shapeList[I]._axisShape==="axisLine"){this.shapeList[I].style.yStart=this.shapeList[I].style.yEnd=this.subPixelOptimize(L,this.shapeList[I].stylelineWidth);this.zr.modShape(this.shapeList[I].id)}else{if(this.shapeList[I]._axisShape==="axisTick"){J=this.shapeList[I].style.yEnd-this.shapeList[I].style.yStart;this.shapeList[I].style.yStart=L-J;this.shapeList[I].style.yEnd=L;this.zr.modShape(this.shapeList[I].id)}}}}if(!this.isHorizontal()&&K!=null){for(var I=0,M=this.shapeList.length;I<M;I++){if(this.shapeList[I]._axisShape==="axisLine"){this.shapeList[I].style.xStart=this.shapeList[I].style.xEnd=this.subPixelOptimize(K,this.shapeList[I].stylelineWidth);this.zr.modShape(this.shapeList[I].id)}else{if(this.shapeList[I]._axisShape==="axisTick"){J=this.shapeList[I].style.xEnd-this.shapeList[I].style.xStart;this.shapeList[I].style.xStart=K;this.shapeList[I].style.xEnd=K+J;this.zr.modShape(this.shapeList[I].id)}}}}},getPosition:function(){return this.option.position},isHorizontal:function(){return this.option.position==="bottom"||this.option.position==="top"}},reformOption:function(J){if(!J||(J instanceof Array&&J.length===0)){J=[{type:B.COMPONENT_TYPE_AXIS_VALUE}]}else{if(!(J instanceof Array)){J=[J]}}if(J.length>2){J=[J[0],J[1]]}if(this.axisType==="xAxis"){if(!J[0].position||(J[0].position!="bottom"&&J[0].position!="top")){J[0].position="bottom"}if(J.length>1){J[1].position=J[0].position==="bottom"?"top":"bottom"}for(var I=0,K=J.length;I<K;I++){J[I].type=J[I].type||"category";J[I].xAxisIndex=I;J[I].yAxisIndex=-1}}else{if(!J[0].position||(J[0].position!="left"&&J[0].position!="right")){J[0].position="left"}if(J.length>1){J[1].position=J[0].position==="left"?"right":"left"}for(var I=0,K=J.length;I<K;I++){J[I].type=J[I].type||"value";J[I].xAxisIndex=-1;J[I].yAxisIndex=I}}return J},refresh:function(M){var K;if(M){this.option=M;if(this.axisType==="xAxis"){this.option.xAxis=this.reformOption(M.xAxis);K=this.option.xAxis}else{this.option.yAxis=this.reformOption(M.yAxis);K=this.option.yAxis}this.series=M.series}var L=D("./categoryAxis");var J=D("./valueAxis");var N=Math.max((K&&K.length||0),this._axisList.length);for(var I=0;I<N;I++){if(this._axisList[I]&&M&&(!K[I]||this._axisList[I].type!=K[I].type)){this._axisList[I].dispose&&this._axisList[I].dispose();this._axisList[I]=false}if(this._axisList[I]){this._axisList[I].refresh&&this._axisList[I].refresh(K?K[I]:false,this.series)}else{if(K&&K[I]){this._axisList[I]=K[I].type==="category"?new L(this.ecTheme,this.messageCenter,this.zr,K[I],this.myChart,this.axisBase):new J(this.ecTheme,this.messageCenter,this.zr,K[I],this.myChart,this.axisBase,this.series)}}}},getAxis:function(I){return this._axisList[I]},clear:function(){for(var I=0,J=this._axisList.length;I<J;I++){this._axisList[I].dispose&&this._axisList[I].dispose()}this._axisList=[]}};C.inherits(F,H);D("../component").define("axis",F);return F});define("echarts/component/grid",["require","./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(B){var E=B("./base");var C=B("zrender/shape/Rectangle");var D=B("../config");var A=B("zrender/tool/util");function F(G,I,H,J,K){E.call(this,G,I,H,J,K);this.refresh(J)}F.prototype={type:D.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(H){var G;var K;var J=H.xAxis._axisList.concat(H.yAxis._axisList);var I=J.length;var L;while(I--){L=J[I];if(L.type==D.COMPONENT_TYPE_AXIS_VALUE&&L._min<0&&L._max>=0){L.isHorizontal()?(G=L.getCoord(0)):(K=L.getCoord(0))}}if(typeof G!="undefined"||typeof K!="undefined"){I=J.length;while(I--){J[I].refixAxisShape(G,K)}}},refresh:function(I){if(I||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear();this.option=I||this.option;this.option.grid=this.reformOption(this.option.grid);var J=this.option.grid;this._zrWidth=this.zr.getWidth();this._zrHeight=this.zr.getHeight();this._x=this.parsePercent(J.x,this._zrWidth);this._y=this.parsePercent(J.y,this._zrHeight);var G=this.parsePercent(J.x2,this._zrWidth);var H=this.parsePercent(J.y2,this._zrHeight);if(typeof J.width=="undefined"){this._width=this._zrWidth-this._x-G}else{this._width=this.parsePercent(J.width,this._zrWidth)}this._width=this._width<=0?10:this._width;if(typeof J.height=="undefined"){this._height=this._zrHeight-this._y-H}else{this._height=this.parsePercent(J.height,this._zrHeight)}this._height=this._height<=0?10:this._height;this._x=this.subPixelOptimize(this._x,J.borderWidth);this._y=this.subPixelOptimize(this._y,J.borderWidth);this.shapeList.push(new C({zlevel:this._zlevelBase,hoverable:false,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:J.borderWidth>0?"both":"fill",color:J.backgroundColor,strokeColor:J.borderColor,lineWidth:J.borderWidth}}));this.zr.addShape(this.shapeList[0])}}};A.inherits(F,E);B("../component").define("grid",F);return F});define("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","zrender/tool/util","../component","../component"],function(D){var H=D("./base");var G=D("zrender/shape/Rectangle");var E=D("zrender/shape/Polygon");var B=D("../util/shape/Icon");var F=D("../config");var C=D("zrender/tool/util");function A(I,K,J,L,M){H.call(this,I,K,J,L,M);var N=this;N._ondrift=function(O,P){return N.__ondrift(this,O,P)};N._ondragend=function(){return N.__ondragend()};this._fillerSize=28;this._handleSize=8;this._isSilence=false;this._zoom={};this.option.dataZoom=this.reformOption(this.option.dataZoom);this.zoomOption=this.option.dataZoom;this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();if(this.option.dataZoom.show){this._buildShape()}this._syncData()}A.prototype={type:F.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground();this._buildFiller();this._buildHandle();this._buildFrame();for(var I=0,J=this.shapeList.length;I<J;I++){this.zr.addShape(this.shapeList[I])}this._syncFrameShape()},_getLocation:function(){var J;var K;var L;var I;var M=this.component.grid;if(this.zoomOption.orient=="horizontal"){L=this.zoomOption.width||M.getWidth();I=this.zoomOption.height||this._fillerSize;J=typeof this.zoomOption.x!="undefined"?this.zoomOption.x:M.getX();K=typeof this.zoomOption.y!="undefined"?this.zoomOption.y:(this.zr.getHeight()-I-2)}else{L=this.zoomOption.width||this._fillerSize;I=this.zoomOption.height||M.getHeight();J=typeof this.zoomOption.x!="undefined"?this.zoomOption.x:2;K=typeof this.zoomOption.y!="undefined"?this.zoomOption.y:M.getY()}return{x:J,y:K,width:L,height:I}},_getZoom:function(){var S=this.option.series;var P=this.option.xAxis;if(P&&!(P instanceof Array)){P=[P];this.option.xAxis=P}var I=this.option.yAxis;if(I&&!(I instanceof Array)){I=[I];this.option.yAxis=I}var J=[];var V;var L;var Q=this.zoomOption.xAxisIndex;if(P&&typeof Q=="undefined"){V=[];for(var O=0,R=P.length;O<R;O++){if(P[O].type=="category"||typeof P[O].type=="undefined"){V.push(O)}}}else{if(Q instanceof Array){V=Q}else{if(typeof Q!="undefined"){V=[Q]}else{V=[]}}}Q=this.zoomOption.yAxisIndex;if(I&&typeof Q=="undefined"){L=[];for(var O=0,R=I.length;O<R;O++){if(I[O].type=="category"){L.push(O)}}}else{if(Q instanceof Array){L=Q}else{if(typeof Q!="undefined"){L=[Q]}else{L=[]}}}for(var O=0,R=S.length;O<R;O++){if(S[O].type!=F.CHART_TYPE_LINE&&S[O].type!=F.CHART_TYPE_BAR&&S[O].type!=F.CHART_TYPE_SCATTER&&S[O].type!=F.CHART_TYPE_K){continue}for(var U=0,M=V.length;U<M;U++){if(V[U]==(S[O].xAxisIndex||0)){J.push(O);break}}for(var U=0,M=L.length;U<M;U++){if(L[U]==(S[O].yAxisIndex||0)){J.push(O);break}}if(S[O].type==F.CHART_TYPE_SCATTER&&typeof this.zoomOption.xAxisIndex=="undefined"&&typeof this.zoomOption.yAxisIndex=="undefined"){J.push(O)}}var T=typeof this._zoom.start!="undefined"?this._zoom.start:(typeof this.zoomOption.start!="undefined"?this.zoomOption.start:0);var K=typeof this._zoom.end!="undefined"?this._zoom.end:(typeof this.zoomOption.end!="undefined"?this.zoomOption.end:100);if(T>K){T=T+K;K=T-K;T=T-K}var N=Math.round((K-T)/100*(this.zoomOption.orient=="horizontal"?this._location.width:this._location.height));return{start:T,end:K,start2:0,end2:100,size:N,xAxisIndex:V,yAxisIndex:L,seriesIndex:J,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};var N=this.option.xAxis;var Q=this._zoom.xAxisIndex;for(var M=0,O=Q.length;M<O;M++){this._originalData.xAxis[Q[M]]=N[Q[M]].data}var J=this.option.yAxis;var L=this._zoom.yAxisIndex;for(var M=0,O=L.length;M<O;M++){this._originalData.yAxis[L[M]]=J[L[M]].data}var P=this.option.series;var K=this._zoom.seriesIndex;var I;for(var M=0,O=K.length;M<O;M++){I=P[K[M]];this._originalData.series[K[M]]=I.data;if(I.type==F.CHART_TYPE_SCATTER){this._calculScatterMap(K[M])}}},_calculScatterMap:function(I){this._zoom.scatterMap=this._zoom.scatterMap||{};this._zoom.scatterMap[I]=this._zoom.scatterMap[I]||{};var J=D("../component");var L=J.get("axis");var K=C.clone(this.option.xAxis);if(K instanceof Array){K[0].type="value";K[0].scale=true;K[0].boundary=[0,0];K[1]&&(K[1].type="value",K[1].boundary=[0,0])}else{K.type="value";K.scale=true;K.boundary=[0,0]}var M=new L(this.ecTheme,null,false,{xAxis:K,series:this.option.series},this,"xAxis");var N=this.option.series[I].xAxisIndex||0;this._zoom.scatterMap[I].x=M.getAxis(N).getExtremum();M.dispose();K=C.clone(this.option.yAxis);if(K instanceof Array){K[0].type="value";K[0].scale=true;K[1]&&(K[1].type="value",K[1].boundary=[0,0])}else{K.type="value";K.scale=true;K.boundary=[0,0]}M=new L(this.ecTheme,null,false,{yAxis:K,series:this.option.series},this,"yAxis");N=this.option.series[I].yAxisIndex||0;this._zoom.scatterMap[I].y=M.getAxis(N).getExtremum();M.dispose()},_buildBackground:function(){var S=this._location.width;var Z=this._location.height;this.shapeList.push(new G({zlevel:this._zlevelBase,hoverable:false,style:{x:this._location.x,y:this._location.y,width:S,height:Z,color:this.zoomOption.backgroundColor}}));var I=0;var J=this._originalData.xAxis;var a=this._zoom.xAxisIndex;for(var N=0,Q=a.length;N<Q;N++){I=Math.max(I,J[a[N]].length)}var P=this._originalData.yAxis;var R=this._zoom.yAxisIndex;for(var N=0,Q=R.length;N<Q;N++){I=Math.max(I,P[R[N]].length)}var T=this._zoom.seriesIndex[0];var W=this._originalData.series[T];var V=Number.MIN_VALUE;var O=Number.MAX_VALUE;var X;for(var N=0,Q=W.length;N<Q;N++){X=typeof W[N]!="undefined"?(typeof W[N].value!="undefined"?W[N].value:W[N]):0;if(this.option.series[T].type==F.CHART_TYPE_K){X=X[1]}if(isNaN(X)){X=0}V=Math.max(V,X);O=Math.min(O,X)}var U=V-O;var M=[];var K=S/(I-(I>1?1:0));var Y=Z/(I-(I>1?1:0));var L=1;if(this.zoomOption.orient=="horizontal"&&K<1){L=Math.floor(I*3/S)}else{if(this.zoomOption.orient=="vertical"&&Y<1){L=Math.floor(I*3/Z)}}for(var N=0,Q=I;N<Q;N+=L){X=typeof W[N]!="undefined"?(typeof W[N].value!="undefined"?W[N].value:W[N]):0;if(this.option.series[T].type==F.CHART_TYPE_K){X=X[1]}if(isNaN(X)){X=0}if(this.zoomOption.orient=="horizontal"){M.push([this._location.x+K*N,this._location.y+Z-1-Math.round((X-O)/U*(Z-10))])}else{M.push([this._location.x+1+Math.round((X-O)/U*(S-10)),this._location.y+Y*N])}}if(this.zoomOption.orient=="horizontal"){M.push([this._location.x+S,this._location.y+Z]);M.push([this._location.x,this._location.y+Z])}else{M.push([this._location.x,this._location.y+Z]);M.push([this._location.x,this._location.y])}this.shapeList.push(new E({zlevel:this._zlevelBase,style:{pointList:M,color:this.zoomOption.dataBackgroundColor},hoverable:false}))},_buildFiller:function(){this._fillerShae={zlevel:this._zlevelBase,draggable:true,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"};if(this.zoomOption.orient=="horizontal"){this._fillerShae.style={x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-this._handleSize*2,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}}else{this._fillerShae.style={x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-this._handleSize*2,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"}}this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"};this._fillerShae=new G(this._fillerShae);this.shapeList.push(this._fillerShae)},_buildHandle:function(){this._startShape={zlevel:this._zlevelBase,draggable:true,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{brushType:"fill"},ondrift:this._ondrift,ondragend:this._ondragend};if(this.zoomOption.orient=="horizontal"){this._startShape.style.height=this._location.height;this._endShape=C.clone(this._startShape);this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width}else{this._startShape.style.width=this._location.width;this._endShape=C.clone(this._startShape);this._startShape.style.y=this._fillerShae.style.y-this._handleSize;this._endShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height}this._startShape=new B(this._startShape);this._endShape=new B(this._endShape);this.shapeList.push(this._startShape);this.shapeList.push(this._endShape)},_buildFrame:function(){var I=this.subPixelOptimize(this._location.x,1);var J=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this._zlevelBase,hoverable:false,style:{x:I,y:J,width:this._location.width-(I>this._location.x?1:0),height:this._location.height-(J>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}};this._endFrameShape=C.clone(this._startFrameShape);this._startFrameShape=new G(this._startFrameShape);this._endFrameShape=new G(this._endFrameShape);this.shapeList.push(this._startFrameShape);this.shapeList.push(this._endFrameShape);return},_syncHandleShape:function(){if(this.zoomOption.orient=="horizontal"){this._startShape.style.x=this._fillerShae.style.x-this._handleSize;this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._zoom.start=Math.floor((this._startShape.style.x-this._location.x)/this._location.width*100);this._zoom.end=Math.ceil((this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100)}else{this._startShape.style.y=this._fillerShae.style.y-this._handleSize;this._endShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._zoom.start=Math.floor((this._startShape.style.y-this._location.y)/this._location.height*100);this._zoom.end=Math.ceil((this._endShape.style.y+this._handleSize-this._location.y)/this._location.height*100)}this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this._syncFrameShape();this.zr.refresh()},_syncFillerShape:function(){var J;var I;if(this.zoomOption.orient=="horizontal"){J=this._startShape.style.x;I=this._endShape.style.x;this._fillerShae.style.x=Math.min(J,I)+this._handleSize;this._fillerShae.style.width=Math.abs(J-I)-this._handleSize;this._zoom.start=Math.floor((Math.min(J,I)-this._location.x)/this._location.width*100);this._zoom.end=Math.ceil((Math.max(J,I)+this._handleSize-this._location.x)/this._location.width*100)}else{J=this._startShape.style.y;I=this._endShape.style.y;this._fillerShae.style.y=Math.min(J,I)+this._handleSize;this._fillerShae.style.height=Math.abs(J-I)-this._handleSize;this._zoom.start=Math.floor((Math.min(J,I)-this._location.y)/this._location.height*100);this._zoom.end=Math.ceil((Math.max(J,I)+this._handleSize-this._location.y)/this._location.height*100)}this.zr.modShape(this._fillerShae.id);this._syncFrameShape();this.zr.refresh()},_syncFrameShape:function(){if(this.zoomOption.orient=="horizontal"){this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x;this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x}else{this._startFrameShape.style.height=this._fillerShae.style.y-this._location.y;this._endFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._endFrameShape.style.height=this._location.y+this._location.height-this._endFrameShape.style.y}this.zr.modShape(this._startFrameShape.id);this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){if(!this.zoomOption.show){return}if(this.zoomOption.orient=="horizontal"){this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width;this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize;this._fillerShae.style.x=this._startShape.style.x+this._handleSize;this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize}else{this._startShape.style.y=this._location.y+this._zoom.start/100*this._location.height;this._endShape.style.y=this._location.y+this._zoom.end/100*this._location.height-this._handleSize;this._fillerShae.style.y=this._startShape.style.y+this._handleSize;this._fillerShae.style.height=this._endShape.style.y-this._startShape.style.y-this._handleSize}this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this.zr.modShape(this._fillerShae.id);this._syncFrameShape();this.zr.refresh()},_syncData:function(N){var O;var I;var K;var M;var J;for(var P in this._originalData){O=this._originalData[P];for(var L in O){J=O[L];if(typeof J=="undefined"){continue}M=J.length;I=Math.floor(this._zoom.start/100*M);K=Math.ceil(this._zoom.end/100*M);if(this.option[P][L].type!=F.CHART_TYPE_SCATTER){this.option[P][L].data=J.slice(I,K)}else{this.option[P][L].data=this._synScatterData(L,J)}}}if(!this._isSilence&&(this.zoomOption.realtime||N)){this.messageCenter.dispatch(F.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)}},_synScatterData:function(L,K){if(this._zoom.start===0&&this._zoom.end==100&&this._zoom.start2===0&&this._zoom.end2==100){return K}var R=[];var I=this._zoom.scatterMap[L];var Q;var P;var T;var M;var N;if(this.zoomOption.orient=="horizontal"){Q=I.x.max-I.x.min;P=this._zoom.start/100*Q+I.x.min;T=this._zoom.end/100*Q+I.x.min;Q=I.y.max-I.y.min;M=this._zoom.start2/100*Q+I.y.min;N=this._zoom.end2/100*Q+I.y.min}else{Q=I.x.max-I.x.min;P=this._zoom.start2/100*Q+I.x.min;T=this._zoom.end2/100*Q+I.x.min;Q=I.y.max-I.y.min;M=this._zoom.start/100*Q+I.y.min;N=this._zoom.end/100*Q+I.y.min}var J;for(var O=0,S=K.length;O<S;O++){J=K[O].value||K[O];if(J[0]>=P&&J[0]<=T&&J[1]>=M&&J[1]<=N){R.push(K[O])}}return R},__ondrift:function(L,J,K){if(this.zoomOption.zoomLock){L=this._fillerShae}var I=L._type=="filler"?this._handleSize:0;if(this.zoomOption.orient=="horizontal"){if(L.style.x+J-I<=this._location.x){L.style.x=this._location.x+I}else{if(L.style.x+J+L.style.width+I>=this._location.x+this._location.width){L.style.x=this._location.x+this._location.width-L.style.width-I}else{L.style.x+=J}}}else{if(L.style.y+K-I<=this._location.y){L.style.y=this._location.y+I}else{if(L.style.y+K+L.style.height+I>=this._location.y+this._location.height){L.style.y=this._location.y+this._location.height-L.style.height-I}else{L.style.y+=K}}}if(L._type=="filler"){this._syncHandleShape()}else{this._syncFillerShape()}if(this.zoomOption.realtime){this._syncData()}return true},__ondragend:function(){this.isDragend=true},ondragend:function(I,J){if(!this.isDragend||!I.target){return}!this.zoomOption.realtime&&this._syncData();J.dragOut=true;J.dragIn=true;if(!this._isSilence&&!this.zoomOption.realtime){this.messageCenter.dispatch(F.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)}J.needRefresh=false;this.isDragend=false;return},ondataZoom:function(I,J){J.needRefresh=true;return},absoluteZoom:function(I){this._zoom.start=I.start;this._zoom.end=I.end;this._zoom.start2=I.start2;this._zoom.end2=I.end2;this._syncShape();this._syncData(true);return},rectZoom:function(M){if(!M){this._zoom.start=this._zoom.start2=0;this._zoom.end=this._zoom.end2=100;this._syncShape();this._syncData(true);return this._zoom}var I=this.component.grid.getArea();var L={x:M.x,y:M.y,width:M.width,height:M.height};if(L.width<0){L.x+=L.width;L.width=-L.width}if(L.height<0){L.y+=L.height;L.height=-L.height}if(L.x>I.x+I.width||L.y>I.y+I.height){return false}if(L.x<I.x){L.x=I.x}if(L.x+L.width>I.x+I.width){L.width=I.x+I.width-L.x}if(L.y+L.height>I.y+I.height){L.height=I.y+I.height-L.y}var N;var K=(L.x-I.x)/I.width;var P=1-(L.x+L.width-I.x)/I.width;var J=1-(L.y+L.height-I.y)/I.height;var O=(L.y-I.y)/I.height;if(this.zoomOption.orient=="horizontal"){N=this._zoom.end-this._zoom.start;this._zoom.start+=N*K;this._zoom.end-=N*P;N=this._zoom.end2-this._zoom.start2;this._zoom.start2+=N*J;this._zoom.end2-=N*O}else{N=this._zoom.end-this._zoom.start;this._zoom.start+=N*J;this._zoom.end-=N*O;N=this._zoom.end2-this._zoom.start2;this._zoom.start2+=N*K;this._zoom.end2-=N*P}this._syncShape();this._syncData(true);return this._zoom},syncBackupData:function(O){var K;var P=this._originalData["series"];var J=O.series;var I;for(var N=0,Q=J.length;N<Q;N++){I=J[N].data;if(P[N]){K=Math.floor(this._zoom.start/100*P[N].length)}else{K=0}for(var L=0,M=I.length;L<M;L++){if(P[N]){P[N][L+K]=I[L]}}}},syncOption:function(I){this.silence(true);this.option=I;this.clear();this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();if(this.option.dataZoom&&this.option.dataZoom.show){this._buildShape()}this._syncData();this.silence(false)},silence:function(I){this._isSilence=I},getRealDataIndex:function(K,J){if(!this._originalData||(this._zoom.start===0&&this._zoom.end==100)){return J}var I=this._originalData.series;if(I[K]){return Math.floor(this._zoom.start/100*I[K].length)+J}return -1},resize:function(){this.clear();this._location=this._getLocation();this._zoom=this._getZoom();if(this.option.dataZoom.show){this._buildShape()}}};C.inherits(A,H);D("../component").define("dataZoom",A);return A});define("echarts/util/shape/HandlePolygon",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util"],function(B){var E=B("zrender/shape/Base");var D=B("zrender/shape/Polygon");var A=B("zrender/tool/util");function C(F){E.call(this,F)}C.prototype={type:"handle-polygon",buildPath:function(G,F){D.prototype.buildPath(G,F)},isCover:function(H,I){var G=this.getTansform(H,I);H=G[0];I=G[1];var F=this.style.rect;if(H>=F.x&&H<=(F.x+F.width)&&I>=F.y&&I<=(F.y+F.height)){return true}else{return false}}};A.inherits(C,E);return C});define("echarts/component/dataRange",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../util/shape/HandlePolygon","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","zrender/tool/color","../component"],function(D){var E=D("./base");var G=D("zrender/shape/Text");var J=D("zrender/shape/Rectangle");var B=D("../util/shape/HandlePolygon");var F=D("../config");var C=D("zrender/tool/util");var H=D("zrender/tool/area");var I=D("zrender/tool/color");function A(K,M,L,N,O){if(typeof this.query(N,"dataRange.min")=="undefined"||typeof this.query(N,"dataRange.max")=="undefined"){console.error("option.dataRange.min or option.dataRange.max has not been defined.");return}E.call(this,K,M,L,N,O);var P=this;P._ondrift=function(Q,R){return P.__ondrift(this,Q,R)};P._ondragend=function(){return P.__ondragend()};P._dataRangeSelected=function(Q){return P.__dataRangeSelected(Q)};this._selectedMap={};this._range={};this.refresh(N)}A.prototype={type:F.COMPONENT_TYPE_DATARANGE,_textGap:10,_buildShape:function(){this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();if(this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable){this._buildGradient()}else{this._buildItem()}for(var K=0,L=this.shapeList.length;K<L;K++){this.zr.addShape(this.shapeList[K])}this._syncShapeFromRange()},_buildItem:function(){var M=this._valueTextList;var Q=M.length;var S;var L;var R;var V=this.getFont(this.dataRangeOption.textStyle);var X=this._itemGroupLocation.x;var W=this._itemGroupLocation.y;var Y=this.dataRangeOption.itemWidth;var T=this.dataRangeOption.itemHeight;var K=this.dataRangeOption.itemGap;var P=H.getTextHeight("国",V);var O;if(this.dataRangeOption.orient=="vertical"&&this.dataRangeOption.x=="right"){X=this._itemGroupLocation.x+this._itemGroupLocation.width-Y}var N=true;if(this.dataRangeOption.text){N=false;if(this.dataRangeOption.text[0]){R=this._getTextShape(X,W,this.dataRangeOption.text[0]);if(this.dataRangeOption.orient=="horizontal"){X+=H.getTextWidth(this.dataRangeOption.text[0],V)+this._textGap}else{W+=P+this._textGap;R.style.y+=P/2+this._textGap;R.style.textBaseline="bottom"}this.shapeList.push(new G(R))}}for(var U=0;U<Q;U++){S=M[U];O=this.getColor((Q-U)*this._gap+this.dataRangeOption.min);L=this._getItemShape(X,W,Y,T,(this._selectedMap[U]?O:"#ccc"));L._idx=U;L.onclick=this._dataRangeSelected;this.shapeList.push(new J(L));if(N){R={zlevel:this._zlevelBase,style:{x:X+Y+5,y:W,color:this._selectedMap[U]?this.dataRangeOption.textStyle.color:"#ccc",text:M[U],textFont:V,textBaseline:"top"},highlightStyle:{brushType:"fill"},clickable:true};if(this.dataRangeOption.orient=="vertical"&&this.dataRangeOption.x=="right"){R.style.x-=(Y+10);R.style.textAlign="right"}R._idx=U;R.onclick=this._dataRangeSelected;this.shapeList.push(new G(R))}if(this.dataRangeOption.orient=="horizontal"){X+=Y+(N?5:0)+(N?H.getTextWidth(S,V):0)+K}else{W+=T+K}}if(!N&&this.dataRangeOption.text[1]){if(this.dataRangeOption.orient=="horizontal"){X=X-K+this._textGap}else{W=W-K+this._textGap}R=this._getTextShape(X,W,this.dataRangeOption.text[1]);if(this.dataRangeOption.orient!="horizontal"){R.style.y-=5;R.style.textBaseline="top"}this.shapeList.push(new G(R))}},_buildGradient:function(){var M;var O;var T=this.getFont(this.dataRangeOption.textStyle);var R=this._itemGroupLocation.x;var V=this._itemGroupLocation.y;var W=this.dataRangeOption.itemWidth;var Q=this.dataRangeOption.itemHeight;var P=H.getTextHeight("国",T);var N=true;if(this.dataRangeOption.text){N=false;if(this.dataRangeOption.text[0]){O=this._getTextShape(R,V,this.dataRangeOption.text[0]);if(this.dataRangeOption.orient=="horizontal"){R+=H.getTextWidth(this.dataRangeOption.text[0],T)+this._textGap}else{V+=P+this._textGap;O.style.y+=P/2+this._textGap;O.style.textBaseline="bottom"}this.shapeList.push(new G(O))}}var X=D("zrender/tool/color");var L=1/(this.dataRangeOption.color.length-1);var U=[];for(var S=0,K=this.dataRangeOption.color.length;S<K;S++){U.push([S*L,this.dataRangeOption.color[S]])}if(this.dataRangeOption.orient=="horizontal"){M={zlevel:this._zlevelBase,style:{x:R,y:V,width:W*10,height:Q,color:X.getLinearGradient(R,V,R+W*10,V,U)},hoverable:false};R+=W*10+this._textGap}else{M={zlevel:this._zlevelBase,style:{x:R,y:V,width:W,height:Q*10,color:X.getLinearGradient(R,V,R,V+Q*10,U)},hoverable:false};V+=Q*10+this._textGap}this.shapeList.push(new J(M));if(this.dataRangeOption.calculable){this._calculableLocation=M.style;this._buildFiller();this._bulidMask();this._bulidHandle()}if(!N&&this.dataRangeOption.text[1]){O=this._getTextShape(R,V,this.dataRangeOption.text[1]);this.shapeList.push(new G(O))}},_buildFiller:function(){this._fillerShae={zlevel:this._zlevelBase+1,style:{x:this._calculableLocation.x,y:this._calculableLocation.y,width:this._calculableLocation.width,height:this._calculableLocation.height,color:"rgba(255,255,255,0)"},highlightStyle:{strokeColor:"rgba(255,255,255,0.5)",lineWidth:1},draggable:true,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"};this._fillerShae=new J(this._fillerShae);this.shapeList.push(this._fillerShae)},_bulidHandle:function(){var U=this._calculableLocation.x;var V=this._calculableLocation.y;var S=this._calculableLocation.width;var M=this._calculableLocation.height;var T=this.getFont(this.dataRangeOption.textStyle);var P=H.getTextHeight("国",T);var K=Math.max(H.getTextWidth(this._textFormat(this.dataRangeOption.max),T),H.getTextWidth(this._textFormat(this.dataRangeOption.min),T))+2;var Q;var N;var L;var W;var R;var X;var O;var Y;if(this.dataRangeOption.orient=="horizontal"){if(this.dataRangeOption.y!="bottom"){Q=[[U,V],[U,V+M+P],[U-P,V+M+P],[U-1,V+M],[U-1,V]];N=U-K/2-P;L=V+M+P/2+2;W={x:U-K-P,y:V+M,width:K+P,height:P};R=[[U+S,V],[U+S,V+M+P],[U+S+P,V+M+P],[U+S+1,V+M],[U+S+1,V]];X=U+S+K/2+P;O=L;Y={x:U+S,y:V+M,width:K+P,height:P}}else{Q=[[U,V+M],[U,V-P],[U-P,V-P],[U-1,V],[U-1,V+M]];N=U-K/2-P;L=V-P/2-2;W={x:U-K-P,y:V-P,width:K+P,height:P};R=[[U+S,V+M],[U+S,V-P],[U+S+P,V-P],[U+S+1,V],[U+S+1,V+M]];X=U+S+K/2+P;O=L;Y={x:U+S,y:V-P,width:K+P,height:P}}}else{K+=P;if(this.dataRangeOption.x!="right"){Q=[[U,V],[U+S+P,V],[U+S+P,V-P],[U+S,V-1],[U,V-1]];N=U+S+K/2+P/2;L=V-P/2;W={x:U+S,y:V-P,width:K+P,height:P};R=[[U,V+M],[U+S+P,V+M],[U+S+P,V+P+M],[U+S,V+1+M],[U,V+M+1]];X=N;O=V+M+P/2;Y={x:U+S,y:V+M,width:K+P,height:P}}else{Q=[[U+S,V],[U-P,V],[U-P,V-P],[U,V-1],[U+S,V-1]];N=U-K/2-P/2;L=V-P/2;W={x:U-K-P,y:V-P,width:K+P,height:P};R=[[U+S,V+M],[U-P,V+M],[U-P,V+P+M],[U,V+1+M],[U+S,V+M+1]];X=N;O=V+M+P/2;Y={x:U-K-P,y:V+M,width:K+P,height:P}}}this._startShape={style:{pointList:Q,text:this._textFormat(this.dataRangeOption.max),textX:N,textY:L,color:this.getColor(this.dataRangeOption.max),rect:W,x:Q[0][0],y:Q[0][1],_x:Q[0][0],_y:Q[0][1]}};this._startShape.highlightStyle={strokeColor:this._startShape.style.color,lineWidth:1};this._endShape={style:{pointList:R,text:this._textFormat(this.dataRangeOption.min),textX:X,textY:O,color:this.getColor(this.dataRangeOption.min),rect:Y,x:R[0][0],y:R[0][1],_x:R[0][0],_y:R[0][1]}};this._endShape.highlightStyle={strokeColor:this._endShape.style.color,lineWidth:1};this._startShape.zlevel=this._endShape.zlevel=this._zlevelBase+1;this._startShape.draggable=this._endShape.draggable=true;this._startShape.ondrift=this._endShape.ondrift=this._ondrift;this._startShape.ondragend=this._endShape.ondragend=this._ondragend;this._startShape.style.textColor=this._endShape.style.textColor=this.dataRangeOption.textStyle.color;this._startShape.style.textAlign=this._endShape.style.textAlign="center";this._startShape.style.textPosition=this._endShape.style.textPosition="specific";this._startShape.style.textBaseline=this._endShape.style.textBaseline="middle";this._startShape.style.width=this._endShape.style.width=0;this._startShape.style.height=this._endShape.style.height=0;this._startShape.style.textPosition=this._endShape.style.textPosition="specific";this._startShape=new B(this._startShape);this._endShape=new B(this._endShape);this.shapeList.push(this._startShape);this.shapeList.push(this._endShape)},_bulidMask:function(){var L=this._calculableLocation.x;var M=this._calculableLocation.y;var N=this._calculableLocation.width;var K=this._calculableLocation.height;this._startMask={zlevel:this._zlevelBase+1,style:{x:L,y:M,width:this.dataRangeOption.orient=="horizontal"?0:N,height:this.dataRangeOption.orient=="horizontal"?K:0,color:"#ccc"},hoverable:false};this._endMask={zlevel:this._zlevelBase+1,style:{x:this.dataRangeOption.orient=="horizontal"?L+N:L,y:this.dataRangeOption.orient=="horizontal"?M:M+K,width:this.dataRangeOption.orient=="horizontal"?0:N,height:this.dataRangeOption.orient=="horizontal"?K:0,color:"#ccc"},hoverable:false};this._startMask=new J(this._startMask);this._endMask=new J(this._endMask);this.shapeList.push(this._startMask);this.shapeList.push(this._endMask)},_buildBackground:function(){var L=this.dataRangeOption.padding[0];var K=this.dataRangeOption.padding[1];var N=this.dataRangeOption.padding[2];var M=this.dataRangeOption.padding[3];this.shapeList.push(new J({zlevel:this._zlevelBase,hoverable:false,style:{x:this._itemGroupLocation.x-M,y:this._itemGroupLocation.y-L,width:this._itemGroupLocation.width+M+K,height:this._itemGroupLocation.height+L+N,brushType:this.dataRangeOption.borderWidth===0?"fill":"both",color:this.dataRangeOption.backgroundColor,strokeColor:this.dataRangeOption.borderColor,lineWidth:this.dataRangeOption.borderWidth}}))},_getItemGroupLocation:function(){var M=this._valueTextList;var P=M.length;var K=this.dataRangeOption.itemGap;var Y=this.dataRangeOption.itemWidth;var Q=this.dataRangeOption.itemHeight;var R=0;var N=0;var U=this.getFont(this.dataRangeOption.textStyle);var O=H.getTextHeight("国",U);if(this.dataRangeOption.orient=="horizontal"){if(this.dataRangeOption.text||this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable){R=((this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable)?(Y*10+K):P*(Y+K))+(this.dataRangeOption.text&&typeof this.dataRangeOption.text[0]!="undefined"?(H.getTextWidth(this.dataRangeOption.text[0],U)+this._textGap):0)+(this.dataRangeOption.text&&typeof this.dataRangeOption.text[1]!="undefined"?(H.getTextWidth(this.dataRangeOption.text[1],U)+this._textGap):0)}else{Y+=5;for(var S=0;S<P;S++){R+=Y+H.getTextWidth(M[S],U)+K}}R-=K;N=Math.max(O,Q)}else{var X;if(this.dataRangeOption.text||this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable){N=((this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable)?(Q*10+K):P*(Q+K))+(this.dataRangeOption.text&&typeof this.dataRangeOption.text[0]!="undefined"?(this._textGap+O):0)+(this.dataRangeOption.text&&typeof this.dataRangeOption.text[1]!="undefined"?(this._textGap+O):0);X=Math.max(H.getTextWidth((this.dataRangeOption.text&&this.dataRangeOption.text[0])||"",U),H.getTextWidth((this.dataRangeOption.text&&this.dataRangeOption.text[1])||"",U));R=Math.max(Y,X)}else{N=(Q+K)*P;Y+=5;X=0;for(var S=0;S<P;S++){X=Math.max(X,H.getTextWidth(M[S],U))}R=Y+X}N-=K}var V;var T=this.zr.getWidth();switch(this.dataRangeOption.x){case"center":V=Math.floor((T-R)/2);break;case"left":V=this.dataRangeOption.padding[3]+this.dataRangeOption.borderWidth;break;case"right":V=T-R-this.dataRangeOption.padding[1]-this.dataRangeOption.borderWidth;break;default:V=this.parsePercent(this.dataRangeOption.x,T);V=isNaN(V)?0:V;break}var W;var L=this.zr.getHeight();switch(this.dataRangeOption.y){case"top":W=this.dataRangeOption.padding[0]+this.dataRangeOption.borderWidth;break;case"bottom":W=L-N-this.dataRangeOption.padding[2]-this.dataRangeOption.borderWidth;break;case"center":W=Math.floor((L-N)/2);break;default:W=this.parsePercent(this.dataRangeOption.y,L);W=isNaN(W)?0:W;break}if(this.dataRangeOption.calculable){var Z=Math.max(H.getTextWidth(this.dataRangeOption.max,U),H.getTextWidth(this.dataRangeOption.min,U))+O;if(this.dataRangeOption.orient=="horizontal"){if(V<Z){V=Z}if(V+R+Z>T){V-=Z}}else{if(W<O){W=O}if(W+N+O>L){W-=O}}}return{x:V,y:W,width:R,height:N}},_getTextShape:function(L,M,K){return{zlevel:this._zlevelBase,style:{x:(this.dataRangeOption.orient=="horizontal"?L:this._itemGroupLocation.x+this._itemGroupLocation.width/2),y:(this.dataRangeOption.orient=="horizontal"?this._itemGroupLocation.y+this._itemGroupLocation.height/2:M),color:this.dataRangeOption.textStyle.color,text:K,textFont:this.getFont(this.dataRangeOption.textStyle),textBaseline:(this.dataRangeOption.orient=="horizontal"?"middle":"top"),textAlign:(this.dataRangeOption.orient=="horizontal"?"left":"center")},hoverable:false}},_getItemShape:function(L,M,N,K,O){return{zlevel:this._zlevelBase,style:{x:L,y:M+1,width:N,height:K-2,color:O},highlightStyle:{strokeColor:O,lineWidth:1},clickable:true}},__ondrift:function(Q,L,N){var O=this._calculableLocation.x;var P=this._calculableLocation.y;var M=this._calculableLocation.width;var K=this._calculableLocation.height;if(this.dataRangeOption.orient=="horizontal"){if(Q.style.x+L<=O){Q.style.x=O}else{if(Q.style.x+L+Q.style.width>=O+M){Q.style.x=O+M-Q.style.width}else{Q.style.x+=L}}}else{if(Q.style.y+N<=P){Q.style.y=P}else{if(Q.style.y+N+Q.style.height>=P+K){Q.style.y=P+K-Q.style.height}else{Q.style.y+=N}}}if(Q._type=="filler"){this._syncHandleShape()}else{this._syncFillerShape(Q)}if(this.dataRangeOption.realtime){this._syncData()}return true},__ondragend:function(){this.isDragend=true},ondragend:function(K,L){if(!this.isDragend||!K.target){return}!this.dataRangeOption.realtime&&this._syncData();L.dragOut=true;L.dragIn=true;if(!this.dataRangeOption.realtime&&false){this.messageCenter.dispatch(F.EVENT.DATA_RANGE,null,{range:{start:this._range.end,end:this._range.start}},this.myChart)}L.needRefresh=false;this.isDragend=false;return},_syncShapeFromRange:function(){var M=this.dataRangeOption.range||{};this._range.end=typeof this._range.end!="undefined"?this._range.end:(typeof M.start!="undefined"?M.start:0);this._range.start=typeof this._range.start!="undefined"?this._range.start:(typeof M.end!="undefined"?M.end:100);if(this._range.start!=100||this._range.end!==0){if(this.dataRangeOption.orient=="horizontal"){var L=this._fillerShae.style.width;this._fillerShae.style.x+=L*(100-this._range.start)/100;this._fillerShae.style.width=L*(this._range.start-this._range.end)/100}else{var K=this._fillerShae.style.height;this._fillerShae.style.y+=K*(100-this._range.start)/100;this._fillerShae.style.height=K*(this._range.start-this._range.end)/100}this.zr.modShape(this._fillerShae.id);this._syncHandleShape()}},_syncHandleShape:function(){var L=this._calculableLocation.x;var M=this._calculableLocation.y;var N=this._calculableLocation.width;var K=this._calculableLocation.height;if(this.dataRangeOption.orient=="horizontal"){this._startShape.style.x=this._fillerShae.style.x;this._startMask.style.width=this._startShape.style.x-L;this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._endMask.style.x=this._endShape.style.x;this._endMask.style.width=L+N-this._endShape.style.x;this._range.start=Math.ceil(100-(this._startShape.style.x-L)/N*100);this._range.end=Math.floor(100-(this._endShape.style.x-L)/N*100)}else{this._startShape.style.y=this._fillerShae.style.y;this._startMask.style.height=this._startShape.style.y-M;this._endShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._endMask.style.y=this._endShape.style.y;this._endMask.style.height=M+K-this._endShape.style.y;this._range.start=Math.ceil(100-(this._startShape.style.y-M)/K*100);this._range.end=Math.floor(100-(this._endShape.style.y-M)/K*100)}this._syncShape()},_syncFillerShape:function(L){var M=this._calculableLocation.x;var N=this._calculableLocation.y;var O=this._calculableLocation.width;var K=this._calculableLocation.height;var P;var Q;if(this.dataRangeOption.orient=="horizontal"){P=this._startShape.style.x;Q=this._endShape.style.x;if(L.id==this._startShape.id&&P>=Q){Q=P;this._endShape.style.x=P}else{if(L.id==this._endShape.id&&P>=Q){P=Q;this._startShape.style.x=P}}this._fillerShae.style.x=P;this._fillerShae.style.width=Q-P;this._startMask.style.width=P-M;this._endMask.style.x=Q;this._endMask.style.width=M+O-Q;this._range.start=Math.ceil(100-(P-M)/O*100);this._range.end=Math.floor(100-(Q-M)/O*100)}else{P=this._startShape.style.y;Q=this._endShape.style.y;if(L.id==this._startShape.id&&P>=Q){Q=P;this._endShape.style.y=P}else{if(L.id==this._endShape.id&&P>=Q){P=Q;this._startShape.style.y=P}}this._fillerShae.style.y=P;this._fillerShae.style.height=Q-P;this._startMask.style.height=P-N;this._endMask.style.y=Q;this._endMask.style.height=N+K-Q;this._range.start=Math.ceil(100-(P-N)/K*100);this._range.end=Math.floor(100-(Q-N)/K*100)}this._syncShape()},_syncShape:function(){this._startShape.position=[this._startShape.style.x-this._startShape.style._x,this._startShape.style.y-this._startShape.style._y];this._startShape.style.text=this._textFormat(this._gap*this._range.start+this.dataRangeOption.min);this._startShape.style.color=this._startShape.highlightStyle.strokeColor=this.getColor(this._gap*this._range.start+this.dataRangeOption.min);this._endShape.position=[this._endShape.style.x-this._endShape.style._x,this._endShape.style.y-this._endShape.style._y];this._endShape.style.text=this._textFormat(this._gap*this._range.end+this.dataRangeOption.min);this._endShape.style.color=this._endShape.highlightStyle.strokeColor=this.getColor(this._gap*this._range.end+this.dataRangeOption.min);this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this.zr.modShape(this._startMask.id);this.zr.modShape(this._endMask.id);this.zr.modShape(this._fillerShae.id);this.zr.refresh()},_syncData:function(){if(this.dataRangeOption.realtime){this.messageCenter.dispatch(F.EVENT.DATA_RANGE,null,{range:{start:this._range.end,end:this._range.start}},this.myChart)}},__dataRangeSelected:function(K){var L=K.target._idx;this._selectedMap[L]=!this._selectedMap[L];this.messageCenter.dispatch(F.EVENT.REFRESH,null,null,this.myChart)},_textFormat:function(K,L){K=K.toFixed(this.dataRangeOption.precision);L=typeof L!="undefined"?L.toFixed(this.dataRangeOption.precision):"";if(this.dataRangeOption.formatter){if(typeof this.dataRangeOption.formatter=="string"){return this.dataRangeOption.formatter.replace("{value}",K).replace("{value2}",L)}else{if(typeof this.dataRangeOption.formatter=="function"){return this.dataRangeOption.formatter.call(this.myChart,K,L)}}}if(L!==""){return K+" - "+L}return K},refresh:function(Q){if(Q){this.option=Q;this.option.dataRange=this.reformOption(this.option.dataRange);this.option.dataRange.padding=this.reformCssArray(this.option.dataRange.padding);this.dataRangeOption=this.option.dataRange;var L=this.dataRangeOption.splitNumber<=0||this.dataRangeOption.calculable?100:this.dataRangeOption.splitNumber;this._colorList=I.getGradientColors(this.dataRangeOption.color,Math.max((L-this.dataRangeOption.color.length)/(this.dataRangeOption.color.length-1),0)+1);if(this._colorList.length>L){var P=this._colorList.length;var N=[this._colorList[0]];var K=P/(L-1);for(var M=1;M<L-1;M++){N.push(this._colorList[Math.floor(M*K)])}N.push(this._colorList[P-1]);this._colorList=N}var O=this.dataRangeOption.precision;this._gap=(this.dataRangeOption.max-this.dataRangeOption.min)/L;while(this._gap.toFixed(O)-0!=this._gap&&O<5){O++}this.dataRangeOption.precision=O;this._gap=((this.dataRangeOption.max-this.dataRangeOption.min)/L).toFixed(O)-0;this._valueTextList=[];for(var M=0;M<L;M++){this._selectedMap[M]=true;this._valueTextList.unshift(this._textFormat(M*this._gap+this.dataRangeOption.min,(M+1)*this._gap+this.dataRangeOption.min))}}this.clear();this._buildShape()},getColor:function(L){if(isNaN(L)){return null}if(L<this.dataRangeOption.min){L=this.dataRangeOption.min}else{if(L>this.dataRangeOption.max){L=this.dataRangeOption.max}}if(this.dataRangeOption.calculable){if(L-(this._gap*this._range.start+this.dataRangeOption.min)>5e-05||L-(this._gap*this._range.end+this.dataRangeOption.min)<-5e-05){return null}}var K=this._colorList.length-Math.ceil((L-this.dataRangeOption.min)/(this.dataRangeOption.max-this.dataRangeOption.min)*this._colorList.length);if(K==this._colorList.length){K--}if(this._selectedMap[K]){return this._colorList[K]}else{return null}}};C.inherits(A,E);D("../component").define("dataRange",A);return A});define("echarts/chart/scatter",["require","../component/base","./base","../util/shape/Symbol","../component/axis","../component/grid","../component/dataZoom","../component/dataRange","../config","zrender/tool/util","zrender/tool/color","../chart"],function(E){var C=E("../component/base");var A=E("./base");var F=E("../util/shape/Symbol");E("../component/axis");E("../component/grid");E("../component/dataZoom");E("../component/dataRange");var B=E("../config");var D=E("zrender/tool/util");var G=E("zrender/tool/color");function H(I,K,J,L,M){C.call(this,I,K,J,L,M);A.call(this);this.refresh(L)}H.prototype={type:B.CHART_TYPE_SCATTER,_buildShape:function(){var P=this.series;this._sIndex2ColorMap={};this._symbol=this.option.symbolList;this._sIndex2ShapeMap={};this.selectedMap={};this.xMarkMap={};var K=this.component.legend;var L=[];var I;var M;var J;var O;for(var N=0,Q=P.length;N<Q;N++){I=P[N];M=I.name;if(I.type===B.CHART_TYPE_SCATTER){P[N]=this.reformOption(P[N]);this._sIndex2ShapeMap[N]=this.query(I,"symbol")||this._symbol[N%this._symbol.length];if(K){this.selectedMap[M]=K.isSelected(M);this._sIndex2ColorMap[N]=G.alpha(K.getColor(M),0.5);J=K.getItemShape(M);if(J){var O=this._sIndex2ShapeMap[N];J.style.brushType=O.match("empty")?"stroke":"both";O=O.replace("empty","").toLowerCase();if(O.match("rectangle")){J.style.x+=Math.round((J.style.width-J.style.height)/2);J.style.width=J.style.height}if(O.match("star")){J.style.n=(O.replace("star","")-0)||5;O="star"}if(O.match("image")){J.style.image=O.replace(new RegExp("^image:\\/\\/"),"");J.style.x+=Math.round((J.style.width-J.style.height)/2);J.style.width=J.style.height;O="image"}J.style.iconType=O;K.setItemShape(M,J)}}else{this.selectedMap[M]=true;this._sIndex2ColorMap[N]=this.zr.getColor(N)}if(this.selectedMap[M]){L.push(N)}}}this._buildSeries(L);this.addShapeList()},_buildSeries:function(P){if(P.length===0){return}var T=this.series;var L;var I;var K;var O;var Q;var W;var R={};var V;var U;for(var M=0,N=P.length;M<N;M++){L=P[M];I=T[L];if(I.data.length===0){continue}Q=this.component.xAxis.getAxis(I.xAxisIndex||0);W=this.component.yAxis.getAxis(I.yAxisIndex||0);R[L]=[];for(var S=0,J=I.data.length;S<J;S++){K=I.data[S];O=K!=null?(K.value!=null?K.value:K):"-";if(O==="-"||O.length<2){continue}V=Q.getCoord(O[0]);U=W.getCoord(O[1]);R[L].push([V,U,S,K.name||""])}this.xMarkMap[L]=this._markMap(Q,W,I.data,R[L]);this.buildMark(L)}this._buildPointList(R)},_markMap:function(O,V,K,P){var R={min0:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,sum0:0,counter0:0,average0:0,min1:Number.POSITIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum1:0,counter1:0,average1:0};var M;for(var N=0,Q=P.length;N<Q;N++){M=K[P[N][2]].value||K[P[N][2]];if(R.min0>M[0]){R.min0=M[0];R.minY0=P[N][1];R.minX0=P[N][0]}if(R.max0<M[0]){R.max0=M[0];R.maxY0=P[N][1];R.maxX0=P[N][0]}R.sum0+=M[0];R.counter0++;if(R.min1>M[1]){R.min1=M[1];R.minY1=P[N][1];R.minX1=P[N][0]}if(R.max1<M[1]){R.max1=M[1];R.maxY1=P[N][1];R.maxX1=P[N][0]}R.sum1+=M[1];R.counter1++}var T=this.component.grid.getX();var L=this.component.grid.getXend();var U=this.component.grid.getY();var I=this.component.grid.getYend();R.average0=(R.sum0/R.counter0).toFixed(2)-0;var J=O.getCoord(R.average0);R.averageLine0=[[J,I],[J,U]];R.minLine0=[[R.minX0,I],[R.minX0,U]];R.maxLine0=[[R.maxX0,I],[R.maxX0,U]];R.average1=(R.sum1/R.counter1).toFixed(2)-0;var S=V.getCoord(R.average1);R.averageLine1=[[T,S],[L,S]];R.minLine1=[[T,R.minY1],[L,R.minY1]];R.maxLine1=[[T,R.maxY1],[L,R.maxY1]];return R},_buildPointList:function(N){var P=this.series;var I;var J;var L;var Q;for(var K in N){I=P[K];J=N[K];if(I.large&&I.data.length>I.largeThreshold){this.shapeList.push(this._getLargeSymbol(J,this.getItemStyleColor(this.query(I,"itemStyle.normal.color"),K,-1)||this._sIndex2ColorMap[K]));continue}for(var M=0,O=J.length;M<O;M++){L=J[M];Q=this._getSymbol(K,L[2],L[3],L[0],L[1]);Q&&this.shapeList.push(Q)}}},_getSymbol:function(N,O,L,R,Q){var P=this.series;var I=P[N];var M=I.data[O];var J=this.component.dataRange;var S;if(J){S=isNaN(M[2])?this._sIndex2ColorMap[N]:J.getColor(M[2]);if(!S){return null}}else{S=this._sIndex2ColorMap[N]}var K=this.getSymbolShape(I,N,M,O,L,R,Q,this._sIndex2ShapeMap[N],S,"rgba(0,0,0,0)","vertical");K.zlevel=this._zlevelBase;K._main=true;return K},_getLargeSymbol:function(I,J){return new F({zlevel:this._zlevelBase,_main:true,hoverable:false,style:{pointList:I,color:J,strokeColor:J},highlightStyle:{pointList:[]}})},getMarkCoord:function(L,K){var I=this.series[L];var O=this.xMarkMap[L];var M=this.component.xAxis.getAxis(I.xAxisIndex);var P=this.component.yAxis.getAxis(I.yAxisIndex);var N;if(K.type&&(K.type==="max"||K.type==="min"||K.type==="average")){var J=K.valueIndex!=null?K.valueIndex:1;N=[O[K.type+"X"+J],O[K.type+"Y"+J],O[K.type+"Line"+J],O[K.type+J]]}else{N=[typeof K.xAxis!="string"&&M.getCoordByIndex?M.getCoordByIndex(K.xAxis||0):M.getCoord(K.xAxis||0),typeof K.yAxis!="string"&&P.getCoordByIndex?P.getCoordByIndex(K.yAxis||0):P.getCoord(K.yAxis||0)]}return N},refresh:function(I){if(I){this.option=I;this.series=I.series}this.backupShapeList();this._buildShape()},ondataRange:function(I,J){if(this.component.dataRange){this.refresh();J.needRefresh=true}return}};D.inherits(H,A);D.inherits(H,C);E("../chart").define("scatter",H);return H});define("echarts/chart/k",["require","../component/base","./base","../util/shape/Candle","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","../chart"],function(G){var E=G("../component/base");var B=G("./base");var D=G("../util/shape/Candle");G("../component/axis");G("../component/grid");G("../component/dataZoom");var H=G("../config");var A=G("../util/ecData");var F=G("zrender/tool/util");function C(I,K,J,L,M){E.call(this,I,K,J,L,M);B.call(this);this.refresh(L)}C.prototype={type:H.CHART_TYPE_K,_buildShape:function(){var M=this.series;this.selectedMap={};var N={top:[],bottom:[]};var L;for(var J=0,K=M.length;J<K;J++){if(M[J].type===H.CHART_TYPE_K){M[J]=this.reformOption(M[J]);L=this.component.xAxis.getAxis(M[J].xAxisIndex);if(L.type===H.COMPONENT_TYPE_AXIS_CATEGORY){N[L.getPosition()].push(J)}}}for(var I in N){if(N[I].length>0){this._buildSinglePosition(I,N[I])}}this.addShapeList()},_buildSinglePosition:function(M,J){var N=this._mapData(J);var O=N.locationMap;var I=N.maxDataLength;if(I===0||O.length===0){return}this._buildHorizontal(J,I,O);for(var K=0,L=J.length;K<L;K++){this.buildMark(J[K])}},_mapData:function(L){var O=this.series;var I;var M;var K=this.component.legend;var N=[];var Q=0;for(var P=0,J=L.length;P<J;P++){I=O[L[P]];M=I.name;if(K){this.selectedMap[M]=K.isSelected(M)}else{this.selectedMap[M]=true}if(this.selectedMap[M]){N.push(L[P])}Q=Math.max(Q,I.data.length)}return{locationMap:N,maxDataLength:Q}},_buildHorizontal:function(S,V,X){var U=this.series;var N;var P;var a;var T;var J;var R;var O={};var M;var W;var Y;var I;for(var K=0,L=X.length;K<L;K++){N=X[K];P=U[N];a=P.xAxisIndex||0;T=this.component.xAxis.getAxis(a);M=P.barWidth||Math.floor(T.getGap()/2);I=P.barMaxWidth;if(I&&I<M){M=I}J=P.yAxisIndex||0;R=this.component.yAxis.getAxis(J);O[N]=[];for(var Q=0,Z=V;Q<Z;Q++){if(T.getNameByIndex(Q)==null){break}W=P.data[Q];Y=W!=null?(W.value!=null?W.value:W):"-";if(Y==="-"||Y.length!=4){continue}O[N].push([T.getCoordByIndex(Q),M,R.getCoord(Y[0]),R.getCoord(Y[1]),R.getCoord(Y[2]),R.getCoord(Y[3]),Q,T.getNameByIndex(Q)])}}this._buildKLine(S,O)},_buildKLine:function(U,P){var W=this.series;var e;var R;var V;var Z;var M;var O;var a;var K;var b;var J;var Q;var T;var c;var N;var X;var S;var Y;for(var L=0,I=U.length;L<I;L++){Y=U[L];Q=W[Y];N=P[Y];if(this._isLarge(N)){N=this._getLargePointList(N)}if(Q.type===H.CHART_TYPE_K&&N!=null){T=Q;e=this.query(T,"itemStyle.normal.lineStyle.width");R=this.query(T,"itemStyle.normal.lineStyle.color");V=this.query(T,"itemStyle.normal.lineStyle.color0");Z=this.query(T,"itemStyle.normal.color");M=this.query(T,"itemStyle.normal.color0");O=this.query(T,"itemStyle.emphasis.lineStyle.width");a=this.query(T,"itemStyle.emphasis.lineStyle.color");K=this.query(T,"itemStyle.emphasis.lineStyle.color0");b=this.query(T,"itemStyle.emphasis.color");J=this.query(T,"itemStyle.emphasis.color0");for(var d=0,f=N.length;d<f;d++){X=N[d];c=Q.data[X[6]];T=c;S=X[3]<X[2];this.shapeList.push(this._getCandle(Y,X[6],X[7],X[0],X[1],X[2],X[3],X[4],X[5],S?(this.query(T,"itemStyle.normal.color")||Z):(this.query(T,"itemStyle.normal.color0")||M),this.query(T,"itemStyle.normal.lineStyle.width")||e,S?(this.query(T,"itemStyle.normal.lineStyle.color")||R):(this.query(T,"itemStyle.normal.lineStyle.color0")||V),S?(this.query(T,"itemStyle.emphasis.color")||b||Z):(this.query(T,"itemStyle.emphasis.color0")||J||M),this.query(T,"itemStyle.emphasis.lineStyle.width")||O||e,S?(this.query(T,"itemStyle.emphasis.lineStyle.color")||a||R):(this.query(T,"itemStyle.emphasis.lineStyle.color0")||K||V)))}}}},_isLarge:function(I){return I[0][1]<0.5},_getLargePointList:function(K){var L=this.component.grid.getWidth();var M=K.length;var I=[];for(var J=0;J<L;J++){I[J]=K[Math.floor(M/L*J)]}return I},_getCandle:function(Q,W,X,N,P,K,V,Y,R,S,I,L,U,M,T){var O=this.series;var J={zlevel:this._zlevelBase,clickable:this.deepQuery([O[Q].data[W],O[Q]],"clickable"),style:{x:N,y:[K,V,Y,R],width:P,color:S,strokeColor:L,lineWidth:I,brushType:"both"},highlightStyle:{color:U,strokeColor:T,lineWidth:M},_seriesIndex:Q};A.pack(J,O[Q],Q,O[Q].data[W],W,X);J=new D(J);return J},getMarkCoord:function(J,L){var M=this.series[J];var K=this.component.xAxis.getAxis(M.xAxisIndex);var I=this.component.yAxis.getAxis(M.yAxisIndex);return[typeof L.xAxis!="string"&&K.getCoordByIndex?K.getCoordByIndex(L.xAxis||0):K.getCoord(L.xAxis||0),typeof L.yAxis!="string"&&I.getCoordByIndex?I.getCoordByIndex(L.yAxis||0):I.getCoord(L.yAxis||0)]},refresh:function(I){if(I){this.option=I;this.series=I.series}this.backupShapeList();this._buildShape()},addDataAnimation:function(L){var P=this.series;var J={};for(var K=0,M=L.length;K<M;K++){J[L[K][0]]=L[K]}var R;var O;var Q;var I;var S;var N;for(var K=0,M=this.shapeList.length;K<M;K++){S=this.shapeList[K]._seriesIndex;if(J[S]&&!J[S][3]){if(this.shapeList[K].type==="candle"){N=A.get(this.shapeList[K],"dataIndex");I=P[S];if(J[S][2]&&N===I.data.length-1){this.zr.delShape(this.shapeList[K].id);continue}else{if(!J[S][2]&&N===0){this.zr.delShape(this.shapeList[K].id);continue}}O=this.component.xAxis.getAxis(I.xAxisIndex||0).getGap();R=J[S][2]?O:-O;Q=0;this.zr.animate(this.shapeList[K].id,"").when(500,{position:[R,Q]}).start()}}}}};F.inherits(C,B);F.inherits(C,E);G("../chart").define("k",C);return C});define("echarts/util/coordinates",["require","zrender/tool/math"],function(A){var D=A("zrender/tool/math");function C(E,F){return[E*D.sin(F),E*D.cos(F)]}function B(E,F){return[Math.sqrt(E*E+F*F),Math.atan(F/E)]}return{polar2cartesian:C,cartesian2polar:B}});define("echarts/component/polar",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Polygon","zrender/shape/Circle","zrender/shape/Ring","../config","zrender/tool/util","../util/coordinates","../component"],function(D){var K=D("./base");var G=D("zrender/shape/Text");var J=D("zrender/shape/Line");var H=D("zrender/shape/Polygon");var A=D("zrender/shape/Circle");var E=D("zrender/shape/Ring");var F=D("../config");var B=D("zrender/tool/util");var C=D("../util/coordinates");function I(L,N,M,O,P){K.call(this,L,N,M,O,P);this.refresh(O)}I.prototype={type:F.COMPONENT_TYPE_POLAR,_buildShape:function(){for(var L=0;L<this.polar.length;L++){this._index=L;this.reformOption(this.polar[L]);this._queryTarget=[this.polar[L],this.option];this._createVector(L);this._buildSpiderWeb(L);this._buildText(L);this._adjustIndicatorValue(L);this._addAxisLabel(L)}for(var L=0;L<this.shapeList.length;L++){this.zr.addShape(this.shapeList[L])}},_createVector:function(N){var U=this.polar[N];var T=this.deepQuery(this._queryTarget,"indicator");var P=T.length;var Q=U.startAngle;var M=2*Math.PI/P;var R=this._getRadius();var L=U.__ecIndicator=[];var O;for(var S=0;S<P;S++){O=C.polar2cartesian(R,Q*Math.PI/180+M*S);L.push({vector:[O[1],-O[0]]})}},_getRadius:function(){var L=this.polar[this._index];return this.parsePercent(L.radius,Math.min(this.zr.getWidth(),this.zr.getHeight())/2)},_buildSpiderWeb:function(N){var V=this.polar[N];var M=V.__ecIndicator;var R=V.splitArea;var P=V.splitLine;var L=this.getCenter(N);var S=V.splitNumber;var O=P.lineStyle.color;var T=P.lineStyle.width;var Q=P.show;var U=this.deepQuery(this._queryTarget,"axisLine");this._addArea(M,S,L,R,O,T,Q);U.show&&this._addLine(M,L,U)},_addAxisLabel:function(X){var M=this.polar[X];var b=this.deepQuery(this._queryTarget,"indicator");var W=M.__ecIndicator;var Y;var U;var c;var R;var N=this.deepQuery(this._queryTarget,"splitNumber");var Q=this.getCenter(X);var U;var a;var L;var V;var T;var Z=this.deepQuery(this._queryTarget,"precision");var S;for(var P=0;P<b.length;P++){Y=this.deepQuery([b[P],M,this.option],"axisLabel");if(Y.show){c={};c.textFont=this.getFont();c=B.merge(c,Y);c.lineWidth=c.width;U=W[P].vector;a=W[P].value;V=P/b.length*2*Math.PI;T=Y.offset||10;S=Y.interval||0;if(!a){return}for(var O=1;O<=N;O+=S+1){R=B.merge({},c);L=O*(a.max-a.min)/N+a.min;if(Z){L=L.toFixed(Z)}R.text=this.numAddCommas(L);R.x=O*U[0]/N+Math.cos(V)*T+Q[0];R.y=O*U[1]/N+Math.sin(V)*T+Q[1];this.shapeList.push(new G({zlevel:this._zlevelBase,style:R,draggable:false,hoverable:false}))}}}},_buildText:function(O){var Z=this.polar[O];var M=Z.__ecIndicator;var P;var X=this.deepQuery(this._queryTarget,"indicator");var L=this.getCenter(O);var S;var Y;var N;var U;var V=0;var W=0;var R;var Q;for(var T=0;T<X.length;T++){N=this.deepQuery([X[T],Z,this.option],"name");if(!N.show){continue}Q=this.deepQuery([N,Z,this.option],"textStyle");S={};S.textFont=this.getFont(Q);S.color=Q.color;if(typeof N.formatter=="function"){S.text=N.formatter.call(this.myChart,X[T].text,T)}else{if(typeof N.formatter=="string"){S.text=N.formatter.replace("{value}",X[T].text)}else{S.text=X[T].text}}M[T].text=S.text;P=M[T].vector;if(Math.round(P[0])>0){Y="left"}else{if(Math.round(P[0])<0){Y="right"}else{Y="center"}}if(!N.margin){P=this._mapVector(P,L,1.2)}else{R=N.margin;V=P[0]>0?R:-R;W=P[1]>0?R:-R;V=P[0]===0?0:V;W=P[1]===0?0:W;P=this._mapVector(P,L,1)}S.textAlign=Y;S.x=P[0]+V;S.y=P[1]+W;if(N.rotate){U=[N.rotate/180*Math.PI,P[0],P[1]]}else{U=[0,0,0]}this.shapeList.push(new G({zlevel:this._zlevelBase,style:S,draggable:false,hoverable:false,rotation:U}))}},getIndicatorText:function(L,M){return this.polar[L]&&this.polar[L].__ecIndicator[M]&&this.polar[L].__ecIndicator[M].text},getDropBox:function(N){var N=N||0;var U=this.polar[N];var L=this.getCenter(N);var M=U.__ecIndicator;var S=M.length;var R=[];var P;var O;var T=U.type;if(T=="polygon"){for(var Q=0;Q<S;Q++){P=M[Q].vector;R.push(this._mapVector(P,L,1.2))}O=this._getShape(R,"fill","rgba(0,0,0,0)","",1)}else{if(T=="circle"){O=this._getCircle("",1,1.2,L,"fill","rgba(0,0,0,0)")}}return O},_addArea:function(M,S,L,P,N,R,X){var V;var W;var U;var T;var O=this.deepQuery(this._queryTarget,"type");for(var Q=0;Q<S;Q++){W=(S-Q)/S;if(X){if(O=="polygon"){T=this._getPointList(M,W,L);V=this._getShape(T,"stroke","",N,R)}else{if(O=="circle"){V=this._getCircle(N,R,W,L,"stroke")}}this.shapeList.push(V)}if(P.show){U=(S-Q-1)/S;this._addSplitArea(M,P,W,U,L,Q)}}},_getCircle:function(R,P,Q,N,L,M){var O=this._getRadius();return new A({zlevel:this._zlevelBase,style:{x:N[0],y:N[1],r:O*Q,brushType:L,strokeColor:R,lineWidth:P,color:M},hoverable:false,draggable:false})},_getRing:function(O,P,N,L){var M=this._getRadius();return new E({zlevel:this._zlevelBase,style:{x:L[0],y:L[1],r:P*M,r0:N*M,color:O,brushType:"fill"},hoverable:false,draggable:false})},_getPointList:function(R,Q,O){var L=[];var P=R.length;var M;for(var N=0;N<P;N++){M=R[N].vector;L.push(this._mapVector(M,O,Q))}return L},_getShape:function(L,O,P,M,N){return new H({zlevel:this._zlevelBase,style:{pointList:L,brushType:O,color:P,strokeColor:M,lineWidth:N},hoverable:false,draggable:false})},_addSplitArea:function(M,U,P,V,L,a){var S=M.length;var R;var N=U.areaStyle.color;var Z;var Q;var O;var W=[];var S=M.length;var X;var Y=this.deepQuery(this._queryTarget,"type");if(typeof N=="string"){N=[N]}Z=N.length;R=N[a%Z];if(Y=="polygon"){for(var T=0;T<S;T++){W=[];Q=M[T].vector;O=M[(T+1)%S].vector;W.push(this._mapVector(Q,L,P));W.push(this._mapVector(Q,L,V));W.push(this._mapVector(O,L,V));W.push(this._mapVector(O,L,P));X=this._getShape(W,"fill",R,"",1);this.shapeList.push(X)}}else{if(Y=="circle"){X=this._getRing(R,P,V,L);this.shapeList.push(X)}}},_mapVector:function(N,M,L){return[N[0]*L+M[0],N[1]*L+M[1]]},getCenter:function(L){var L=L||0;return this.parseCenter(this.zr,this.polar[L].center)},_addLine:function(M,L,U){var R=M.length;var N;var Q;var V=U.lineStyle;var P=V.color;var T=V.width;var O=V.type;for(var S=0;S<R;S++){Q=M[S].vector;N=this._getLine(L[0],L[1],Q[0]+L[0],Q[1]+L[1],P,T,O);this.shapeList.push(N)}},_getLine:function(O,P,N,L,R,Q,M){return new J({zlevel:this._zlevelBase,style:{xStart:O,yStart:P,xEnd:N,yEnd:L,strokeColor:R,lineWidth:Q,lineType:M},hoverable:false})},_adjustIndicatorValue:function(O){var Z=this.polar[O];var Y=this.deepQuery(this._queryTarget,"indicator");var X=Y.length;var M=Z.__ecIndicator;var R;var P;var T;var L=this._getSeriesData(O);var U=Z.splitNumber;var S=this.deepQuery(this._queryTarget,"boundaryGap");var N=this.deepQuery(this._queryTarget,"precision");var Q=this.deepQuery(this._queryTarget,"power");var W=this.deepQuery(this._queryTarget,"scale");for(var V=0;V<X;V++){if(typeof Y[V].max=="number"){P=Y[V].max;T=Y[V].min||0;R={max:P,min:T}}else{R=this._findValue(L,V,U,S,N,Q,W)}M[V].value=R}},_getSeriesData:function(S){var N=[];var L;var R;var P=this.component.legend;var M;for(var Q=0;Q<this.series.length;Q++){L=this.series[Q];if(L.type!=F.CHART_TYPE_RADAR){continue}R=L.data||[];for(var O=0;O<R.length;O++){M=this.deepQuery([R[O],L,this.option],"polarIndex")||0;if(M==S&&(!P||P.isSelected(R[O].name))){N.push(R[O])}}}return N},_findValue:function(X,N,U,W,Y,Z,T){var a;var Q;var S;var P;var L;var M=0;var c;var b;var V;if(!X||X.length===0){return}function R(d){(d>a||a===undefined)&&(a=d);(d<Q||Q===undefined)&&(Q=d)}if(X.length==1){Q=0}if(X.length!=1){for(var O=0;O<X.length;O++){S=typeof X[O].value[N].value!="undefined"?X[O].value[N].value:X[O].value[N];R(S)}}else{V=X[0];for(var O=0;O<V.value.length;O++){R(typeof V.value[O].value!="undefined"?V.value[O].value:V.value[O])}}if(X.length!=1){if(T){P=this._getDelta(a,Q,U,Y,Z);if(P>=1){Q=Math.floor(Q/P)*P-P}else{if(P===0){if(a>0){b=0;c=2*a}else{if(a===0){b=0;c=100}else{c=0;b=2*Q}}return{max:c,min:b}}else{L=(P+"").split(".")[1];M=L.length;Q=Math.floor(Q*Math.pow(10,M))/Math.pow(10,M)-P}}if(Math.abs(Q)<=P){Q=0}a=Q+Math.floor(P*Math.pow(10,M)*(U+1))/Math.pow(10,M)}else{Q=Q>0?0:Q}}if(W){a=a>0?a*1.2:a*0.8;Q=Q>0?Q*0.8:Q*1.2}return{max:a,min:Q}},_getDelta:function(N,M,Q,L,S){var R=(N-M)/Q;var O;var P;if(R>1){if(!S){O=(R+"").split(".")[0];P=O.length;if(O.charAt(0)>=5){return Math.pow(10,P)}else{return(O.charAt(0)-0+1)*Math.pow(10,P-1)}}else{R=Math.ceil(R);if(R%S>0){return(Math.ceil(R/S)+1)*S}else{return R}}}else{if(R==1){return 1}else{if(R===0){return 0}else{if(!L){O=(R+"").split(".")[1];P=0;while(O[P]=="0"){P++}if(O[P]>=5){return"0."+O.substring(0,P+1)-0+1/Math.pow(10,P)}else{return"0."+O.substring(0,P+1)-0+1/Math.pow(10,P+1)}}else{return Math.ceil(R*Math.pow(10,L))/Math.pow(10,L)}}}}},getVector:function(N,R,Q){N=N||0;R=R||0;var M=this.polar[N].__ecIndicator;if(R>=M.length){return}var T=this.polar[N].__ecIndicator[R];var L=this.getCenter(N);var P=T.vector;var O=T.value.max;var U=T.value.min;var S;if(typeof Q=="undefined"){return L}switch(Q){case"min":Q=U;break;case"max":Q=O;break;case"center":Q=(O+U)/2;break}if(O!=U){S=(Q-U)/(O-U)}else{S=0.5}return this._mapVector(P,L,S)},isInside:function(L){var M=this.getNearestIndex(L);if(M){return M.polarIndex}return -1},getNearestIndex:function(M){var R;var L;var Q;var P;var V;var U;var T;var S;var N;for(var O=0;O<this.polar.length;O++){R=this.polar[O];L=this.getCenter(O);if(M[0]==L[0]&&M[1]==L[1]){return{polarIndex:O,valueIndex:0}}Q=this._getRadius();V=R.startAngle;U=R.indicator;T=U.length;S=2*Math.PI/T;P=C.cartesian2polar(M[0]-L[0],L[1]-M[1]);if(M[0]-L[0]<0){P[1]+=Math.PI}if(P[1]<0){P[1]+=2*Math.PI}N=P[1]-V/180*Math.PI+Math.PI*2;if(Math.abs(Math.cos(N%(S/2)))*Q>P[0]){return{polarIndex:O,valueIndex:Math.floor((N+S/2)/S)%T}}}},getIndicator:function(L){var L=L||0;return this.polar[L].indicator},refresh:function(L){if(L){this.option=L;this.polar=this.option.polar;this.series=this.option.series}this.clear();this._buildShape()}};B.inherits(I,K);D("../component").define("polar",I);return I});define("echarts/chart/radar",["require","../component/base","./base","zrender/shape/Polygon","../component/polar","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../util/accMath","../chart"],function(E){var C=E("../component/base");var B=E("./base");var F=E("zrender/shape/Polygon");E("../component/polar");var G=E("../config");var A=E("../util/ecData");var D=E("zrender/tool/util");var H=E("zrender/tool/color");function I(J,L,K,M,N){C.call(this,J,L,K,M,N);B.call(this);this.refresh(M)}I.prototype={type:G.CHART_TYPE_RADAR,_buildShape:function(){this.selectedMap={};this._symbol=this.option.symbolList;this._queryTarget;this._dropBoxList=[];this._radarDataCounter=0;var M=this.series;var K=this.component.legend;var N;for(var J=0,L=M.length;J<L;J++){if(M[J].type===G.CHART_TYPE_RADAR){this.serie=this.reformOption(M[J]);N=this.serie.name||"";this.selectedMap[N]=K?K.isSelected(N):true;if(this.selectedMap[N]){this._queryTarget=[this.serie,this.option];if(this.deepQuery(this._queryTarget,"calculable")){this._addDropBox(J)}this._buildSingleRadar(J);this.buildMark(J)}}}this.addShapeList()},_buildSingleRadar:function(K){var N=this.component.legend;var Q;var L=this.serie.data;var R;var J;var P;var M=this.deepQuery(this._queryTarget,"calculable");for(var O=0;O<L.length;O++){J=L[O].name||"";this.selectedMap[J]=N?N.isSelected(J):true;if(!this.selectedMap[J]){continue}if(N){R=N.getColor(J);Q=N.getItemShape(J);if(Q){Q.style.brushType=this.deepQuery([L[O],this.serie],"itemStyle.normal.areaStyle")?"both":"stroke";N.setItemShape(J,Q)}}else{R=this.zr.getColor(O)}P=this._getPointList(this.serie.polarIndex,L[O]);this._addSymbol(P,R,O,K,this.serie.polarIndex);this._addDataShape(P,R,L[O],K,O,M);this._radarDataCounter++}},_getPointList:function(L,N){var J=[];var O;var P=this.component.polar;for(var K=0,M=N.value.length;K<M;K++){O=P.getVector(L,K,typeof N.value[K].value!="undefined"?N.value[K].value:N.value[K]);if(O){J.push(O)}}return J},_addSymbol:function(O,S,Q,M,L){var R=this.series;var K;var J=this.component.polar;for(var N=0,P=O.length;N<P;N++){K=this.getSymbolShape(this.deepMerge([R[M].data[Q],R[M]]),M,R[M].data[Q].value[N],N,J.getIndicatorText(L,N),O[N][0],O[N][1],this._symbol[this._radarDataCounter%this._symbol.length],S,"#fff","vertical");K.zlevel=this._zlevelBase+1;A.set(K,"data",R[M].data[Q]);A.set(K,"value",R[M].data[Q].value);A.set(K,"dataIndex",Q);A.set(K,"special",N);this.shapeList.push(K)}},_addDataShape:function(S,W,M,N,T,P){var U=this.series;var J=[M,this.serie];var Q=this.getItemStyleColor(this.deepQuery(J,"itemStyle.normal.color"),N,T,M);var R=this.deepQuery(J,"itemStyle.normal.lineStyle.width");var V=this.deepQuery(J,"itemStyle.normal.lineStyle.type");var L=this.deepQuery(J,"itemStyle.normal.areaStyle.color");var O=this.deepQuery(J,"itemStyle.normal.areaStyle");var K={zlevel:this._zlevelBase,style:{pointList:S,brushType:O?"both":"stroke",color:L||Q||(typeof W==="string"?H.alpha(W,0.5):W),strokeColor:Q||W,lineWidth:R,lineType:V},highlightStyle:{brushType:this.deepQuery(J,"itemStyle.emphasis.areaStyle")||O?"both":"stroke",color:this.deepQuery(J,"itemStyle.emphasis.areaStyle.color")||L||Q||(typeof W==="string"?H.alpha(W,0.5):W),strokeColor:this.getItemStyleColor(this.deepQuery(J,"itemStyle.emphasis.color"),N,T,M)||Q||W,lineWidth:this.deepQuery(J,"itemStyle.emphasis.lineStyle.width")||R,lineType:this.deepQuery(J,"itemStyle.emphasis.lineStyle.type")||V}};A.pack(K,U[N],N,M,T,M.name,this.component.polar.getIndicator(U[N].polarIndex));if(P){K.draggable=true;this.setCalculable(K)}K=new F(K);this.shapeList.push(K)},_addDropBox:function(L){var K=this.series;var J=this.deepQuery(this._queryTarget,"polarIndex");if(!this._dropBoxList[J]){var M=this.component.polar.getDropBox(J);M.zlevel=this._zlevelBase;this.setCalculable(M);A.pack(M,K,L,undefined,-1);this.shapeList.push(M);this._dropBoxList[J]=true}},ondragend:function(L,O){var M=this.series;if(!this.isDragend||!L.target){return}var N=L.target;var K=A.get(N,"seriesIndex");var J=A.get(N,"dataIndex");this.component.legend&&this.component.legend.del(M[K].data[J].name);M[K].data.splice(J,1);O.dragOut=true;O.needRefresh=true;this.isDragend=false;return},ondrop:function(N,T){var S=this.series;if(!this.isDrop||!N.target){return}var R=N.target;var U=N.dragged;var M=A.get(R,"seriesIndex");var Q=A.get(R,"dataIndex");var L;var O=this.component.legend;var K;if(Q===-1){L={value:A.get(U,"value"),name:A.get(U,"name")};S[M].data.push(L);O&&O.add(L.name,U.style.color||U.style.strokeColor)}else{var J=E("../util/accMath");L=S[M].data[Q];O&&O.del(L.name);L.name+=this.option.nameConnector+A.get(U,"name");K=A.get(U,"value");for(var P=0;P<K.length;P++){L.value[P]=J.accAdd(L.value[P],K[P])}O&&O.add(L.name,U.style.color||U.style.strokeColor)}T.dragIn=T.dragIn||true;this.isDrop=false;return},refresh:function(J){if(J){this.option=J;this.series=J.series}this.backupShapeList();this._buildShape()}};D.inherits(I,B);D.inherits(I,C);E("../chart").define("radar",I);return I});define("zrender/shape/util/PathProxy",["require","../../tool/vector"],function(B){var D=B("../../tool/vector");var C=function(F,E){this.command=F;this.points=E||null};var A=function(){this.pathCommands=[];this._ctx=null;this._min=[];this._max=[]};A.prototype.fastBoundingRect=function(){var F=this._min;var G=this._max;F[0]=F[1]=Infinity;G[0]=G[1]=-Infinity;for(var L=0;L<this.pathCommands.length;L++){var N=this.pathCommands[L];var E=N.points;switch(N.command){case"M":D.min(F,F,E);D.max(G,G,E);break;case"L":D.min(F,F,E);D.max(G,G,E);break;case"C":for(var H=0;H<6;H+=2){F[0]=Math.min(F[0],F[0],E[H]);F[1]=Math.min(F[1],F[1],E[H+1]);G[0]=Math.max(G[0],G[0],E[H]);G[1]=Math.max(G[1],G[1],E[H+1])}break;case"Q":for(var H=0;H<4;H+=2){F[0]=Math.min(F[0],F[0],E[H]);F[1]=Math.min(F[1],F[1],E[H+1]);G[0]=Math.max(G[0],G[0],E[H]);G[1]=Math.max(G[1],G[1],E[H+1])}break;case"A":var J=E[0];var I=E[1];var M=E[2];var K=E[3];F[0]=Math.min(F[0],F[0],J-M);F[1]=Math.min(F[1],F[1],I-K);G[0]=Math.max(G[0],G[0],J+M);G[1]=Math.max(G[1],G[1],I+K);break}}return{x:F[0],y:F[1],width:G[0]-F[0],height:G[1]-F[1]}};A.prototype.begin=function(E){this._ctx=E||null;this.pathCommands.length=0;return this};A.prototype.moveTo=function(E,F){this.pathCommands.push(new C("M",[E,F]));if(this._ctx){this._ctx.moveTo(E,F)}return this};A.prototype.lineTo=function(E,F){this.pathCommands.push(new C("L",[E,F]));if(this._ctx){this._ctx.lineTo(E,F)}return this};A.prototype.bezierCurveTo=function(I,J,E,F,G,H){this.pathCommands.push(new C("C",[I,J,E,F,G,H]));if(this._ctx){this._ctx.bezierCurveTo(I,J,E,F,G,H)}return this};A.prototype.quadraticCurveTo=function(G,H,E,F){this.pathCommands.push(new C("A",[G,H,E,F]));if(this._ctx){this._ctx.quadraticCurveTo(G,H,E,F)}return this};A.prototype.arc=function(J,E,F,I,G,H){this.pathCommands.push(new C("A",[J,E,F,F,I,G-I,0,H?0:1]));if(this._ctx){this._ctx.arc(J,E,F,I,G,H)}return this};A.prototype.arcTo=function(H,I,E,F,G){if(this._ctx){this._ctx.arcTo(H,I,E,F,G)}return this};A.prototype.rect=function(F,G,H,E){if(this._ctx){this._ctx.rect(F,G,H,E)}return this};A.prototype.closePath=function(){this.pathCommands.push(new C("z"));if(this._ctx){this._ctx.closePath()}return this};A.prototype.isEmpty=function(){return this.pathCommands.length===0};A.PathSegment=C;return A});define("echarts/util/shape/Ribbon",["require","zrender/shape/Base","zrender/shape/util/PathProxy","zrender/tool/util","zrender/tool/area"],function(C){var E=C("zrender/shape/Base");var B=C("zrender/shape/util/PathProxy");var A=C("zrender/tool/util");var F=C("zrender/tool/area");function D(G){E.call(this,G);this._pathProxy=new B()}D.prototype={type:"chord",buildPath:function(X,Y){var O=this._pathProxy;O.begin(X);var U=Math.PI*2;var I=Y.x;var R=Y.y;var G=Y.r;var P=Y.source0/180*Math.PI;var L=Y.source1/180*Math.PI;var Q=Y.target0/180*Math.PI;var H=Y.target1/180*Math.PI;var N=I+Math.cos(U-P)*G;var W=R-Math.sin(U-P)*G;var M=I+Math.cos(U-L)*G;var V=R-Math.sin(U-L)*G;var J=I+Math.cos(U-Q)*G;var S=R-Math.sin(U-Q)*G;var K=I+Math.cos(U-H)*G;var T=R-Math.sin(U-H)*G;O.moveTo(N,W);O.arc(I,R,Y.r,P,L,false);O.bezierCurveTo((I-M)*0.7+M,(R-V)*0.7+V,(I-J)*0.7+J,(R-S)*0.7+S,J,S);if(Y.source0===Y.target0&&Y.source1===Y.target1){return}O.arc(I,R,Y.r,Q,H,false);O.bezierCurveTo((I-K)*0.7+K,(R-T)*0.7+T,(I-N)*0.7+N,(R-W)*0.7+W,N,W)},getRect:function(G){if(G.__rect){return G.__rect}if(!this._pathProxy.isEmpty()){this.buildPath(null,G)}return this._pathProxy.fastBoundingRect()},isCover:function(H,I){var G=this.getRect(this.style);if(H>=G.x&&H<=(G.x+G.width)&&I>=G.y&&I<=(G.y+G.height)){return F.isInsidePath(this._pathProxy.pathCommands,0,"fill",H,I)}}};A.inherits(D,E);return D});define("echarts/util/kwargs",[],function(){function A(D,G){var B=new RegExp("(\\/\\*[\\w\\'\\,\\(\\)\\s\\r\\n\\*]*\\*\\/)|(\\/\\/[\\w\\s\\'][^\\n\\r]*$)|(<![\\-\\-\\s\\w\\>\\/]*>)","gim");var C=new RegExp("\\s+","gim");var E=new RegExp("function.*?\\((.*?)\\)","i");var F=D.toString().replace(B,"").replace(C,"").match(E)[1].split(",");if(G!==Object(G)){G={}}return function(){var K=Array.prototype.slice.call(arguments);var J=K[K.length-1];if(J&&J.constructor===Object){K.pop()}else{J={}}for(var H=0;H<F.length;H++){var I=F[H];if(I in J){K[H]=J[I]}else{if(I in G&&K[H]==null){K[H]=G[I]}}}return D.apply(this,K)}}return A});define("echarts/util/ndarray",["require","./kwargs"],function(W){var H=W("./kwargs");var M=Array.prototype.slice;this.Int32Array=window.Int32Array||Array;this.Int16Array=window.Int16Array||Array;this.Int8Array=window.Int8Array||Array;this.Uint32Array=window.Uint32Array||Array;this.Uint16Array=window.Uint16Array||Array;this.Uint8Array=window.Uint8Array||Array;this.Float32Array=window.Float32Array||Array;this.Float64Array=window.Float64Array||Array;var Z={"int32":this.Int32Array,"int16":this.Int16Array,"int8":this.Int8Array,"uint32":this.Uint32Array,"uint16":this.Uint16Array,"uint8":this.Uint8Array,"uint8c":this.Uint8ClampedArray,"float32":this.Float32Array,"float64":this.Float64Array,"number":Array};var N={"int32":4,"int16":2,"int8":1,"uint32":4,"uint16":2,"uint8":1,"uint8c":1,"float32":4,"float64":8,"number":1};var R=0;var J=1;var L=2;var G=3;var A=4;var S=5;var C=6;var T=7;var B=8;function E(a){if(typeof(a)==="undefined"){return"number"}switch(Object.prototype.toString.call(a)){case"[object Int32Array]":return"int32";case"[object Int16Array]":return"int16";case"[object Int8Array]":return"int8";case"[object Uint32Array]":return"uint32";case"[object Uint16Array]":return"uint16";case"[object Uint8Array]":return"uint8";case"[object Uint8ClampedArray]":return"uint8c";case"[object Float32Array]":return"float32";case"[object Float64Array]":return"float64";default:return"number"}}var F=function(a){var b=arguments[arguments.length-1];if(typeof(b)=="string"){this._dtype=b}else{this._dtype=E(a)}if(a&&typeof(a)!=="string"){if(a instanceof F){a._dtype=this._dtype;return a}else{if(typeof(a.length)!=="undefined"){this.initFromArray(a)}else{if(typeof(a)==="number"){this.initFromShape.apply(this,arguments)}}}}else{this._array=new Z[this._dtype]();this._shape=[0];this._size=0}};F.prototype={initFromArray:function(d){var e=P(d);var a=0;function b(l,h,j){var k=j.length;for(var g=0;g<k;g++){if(l<e-1){b(l+1,h,j[g])}else{h[a++]=j[g]}}}var f=D(d);var c=O(f);this._array=new Z[this._dtype](c);b(0,this._array,d);this._shape=f;this._size=c;return this},initFromShape:function(d){if(typeof(d)=="number"){d=Array.prototype.slice.call(arguments)}if(d){var a=O(d);if(this._dtype==="number"){this._array=[];var c=this._array;for(var b=0;b<a;b++){c[b]=0}}else{this._array=new Z[this._dtype](a)}}this._shape=d;this._size=O(d);return this},fill:function(b){var c=this._array;for(var a=0;a<c.length;a++){c[a]=b}return this},shape:function(){return this._shape.slice()},size:function(){return this._size},dtype:function(){return this._dtype},dimension:function(){return this._shape.length},strides:function(){var c=Y(this._shape);var b=N[this._dtype];for(var a=0;a<c.length;a++){c[a]*=b}return c},reshape:function(a){if(typeof(a)=="number"){a=Array.prototype.slice.call(arguments)}if(this._isShapeValid(a)){this._shape=a}else{throw new Error("Total size of new array must be unchanged")}return this},_isShapeValid:function(a){return O(a)===this._size},resize:function(e){if(typeof(e)=="number"){e=Array.prototype.slice.call(arguments)}var c=O(e);if(c<this._size){if(this._dtype==="number"){this._array.length=c}}else{if(this._dtype==="number"){for(var a=this._array.length;a<c;a++){this._array[a]=0}}else{var d=new Z[this._dtype](c);var b=this._array;for(var a=0;a<b.length;a++){d[a]=b[a]}this._array=d}}this._shape=e;this._size=c;return this},transpose:H(function(a,d){var c=[];for(var b=0;b<this._shape.length;b++){c.push(b)}if(typeof(a)==="undefined"){a=c.slice()}for(var b=0;b<a.length;b++){if(a[b]>=this._shape.length){throw new Error(V(a[b]))}}if(a.length<=1){return this}var e=c.slice();for(var b=0;b<Math.floor(a.length/2);b++){for(var f=a.length-1;f>=Math.ceil(a.length/2);f--){e[a[b]]=a[f];e[a[f]]=a[b]}}return this._transposelike(e,d)}),swapaxes:H(function(c,a,b){return this.transpose([c,a],b)}),rollaxis:H(function(e,d,c){if(e>=this._shape.length){throw new Error(V(e))}var a=[];for(var b=0;b<this._shape.length;b++){a.push(b)}a.splice(e,1);a.splice(d,0,e);return this._transposelike(a,c)},{start:0}),_transposelike:function(j,a){var k=this._array;var c=this._shape.slice();var d=Y(this._shape);var g=c.length;var e=[];var l=[];for(var h=0;h<j.length;h++){var b=j[h];l[h]=c[b];e[h]=d[b]}d=e;c=l;this._shape=c;var n=Y(this._shape);if(!a){a=new F();a._shape=this._shape.slice();a._dtype=this._dtype;a._size=this._size}var m=new Z[this._dtype](this._size);a._array=m;function f(u,p,r){var o=c[u];var s=d[u];var t=n[u];if(u<g-1){for(var q=0;q<o;q++){f(u+1,p+s*q,r+t*q)}}else{for(var q=0;q<o;q++){m[r+q]=k[p+s*q]}}}f(0,0,0);return a},repeat:H(function(l,c,b){var a;if(typeof(c)==="undefined"){a=[this._size];c=0}else{a=this._shape.slice()}var r=a.slice();a[c]*=l;if(!b){b=new F(this._dtype);b.initFromShape(a)}else{if(!U(a,b._shape)){throw new Error(I(a,b._shape))}}var f=b._array;var s=Q(r,c);var n=r[c];var p=this._array;var d=s*n;for(var e=0;e<this._size;e+=d){for(var h=0;h<s;h++){var g=e+h;var m=e*l+h;for(var o=0;o<n;o++){for(var q=0;q<l;q++){f[m]=p[g];m+=s}g+=s}}}return b}),choose:function(){console.warn("TODO")},take:function(){console.warn("TODO")},tile:function(){console.warn("TODO")},_withPreprocess1:function(c,d,b,i){var h=this._array;if(!this._size){return}if(typeof(c)!=="undefined"){if(c<0){c=this._shape.length+c}if(c>=this._shape.length||c<0){throw new Error(V(c))}var a=this._shape.slice();a.splice(c,1);if(d&&!U(a,d._shape)){throw new Error(I(a,d._shape))}if(!d){d=new F(this._dtype);d.initFromShape(a)}var e=d._array;var j=Q(this._shape,c);var g=this._shape[c];var f=j*g;b.call(this,e,h,f,g,j);return d}else{return i.call(this,h)}},_withPreprocess2:function(b,c,a,h){var g=this._array;if(!this._size){return}if(c&&!U(this._shape,c._shape)){throw new Error(I(this._shape,c._shape))}if(!c){c=new F(this._dtype);c.initFromShape(this._shape)}var d=c._array;if(typeof(b)!=="undefined"){if(b<0){b=this._shape.length+b}if(b>=this._shape.length||b<0){throw new Error(V(b))}if(b>=this._shape.length){throw new Error(V(b))}var i=Q(this._shape,b);var f=this._shape[b];var e=i*f;a.call(this,d,g,e,f,i)}else{c.reshape([this._size]);h.call(this,d,g)}return c},max:H((function(){function a(e,o,k,m,p){var f=0;for(var c=0;c<this._size;c+=k){for(var l=0;l<p;l++){var h=l+c;var q=o[h];for(var n=0;n<m;n++){var g=o[h];if(g>q){q=g}h+=p}e[f++]=q}}}function b(d){var e=d[0];for(var c=1;c<this._size;c++){if(d[c]>e){e=d[c]}}return e}return function(d,c){return this._withPreprocess1(d,c,a,b)}})()),min:H((function(){function a(f,o,k,m,p){var g=0;for(var c=0;c<this._size;c+=k){for(var l=0;l<p;l++){var h=l+c;var e=o[h];for(var n=0;n<m;n++){var q=o[h];if(q<e){e=q}h+=p}f[g++]=e}}}function b(e){var c=e[0];for(var d=1;d<this._size;d++){if(e[d]<c){c=e[d]}}return c}return function(d,c){return this._withPreprocess1(d,c,a,b)}})()),argmax:H((function(){function a(e,p,l,n,q){var f=0;for(var c=0;c<this._size;c+=l){for(var m=0;m<q;m++){var k=0;var h=m+c;var r=p[h];for(var o=0;o<n;o++){var g=p[h];if(g>r){r=g;k=o}h+=q}e[f++]=k}}}function b(d){var f=d[0];var e=0;for(var c=1;c<this._size;c++){if(d[c]>f){e=c;f=d[c]}}return e}return function(d,c){return this._withPreprocess1(d,c,a,b)}})()),argmin:H((function(){function a(f,p,l,n,q){var g=0;for(var c=0;c<this._size;c+=l){for(var m=0;m<q;m++){var k=0;var h=m+c;var e=p[h];for(var o=0;o<n;o++){var r=p[h];if(r<e){e=r;k=o}h+=q}f[g++]=k}}}function b(e){var c=e[0];var f=0;for(var d=1;d<this._size;d++){if(e[d]<c){f=d;c=e[d]}}return f}return function(d,c){return this._withPreprocess1(d,c,a,b)}})()),sum:H((function(){function a(d,m,g,k,n){var e=0;for(var c=0;c<this._size;c+=g){for(var h=0;h<n;h++){var o=0;var f=h+c;for(var l=0;l<k;l++){o+=m[f];f+=n}d[e++]=o}}}function b(d){var e=0;for(var c=0;c<this._size;c++){e+=d[c]}return e}return function(d,c){return this._withPreprocess1(d,c,a,b)}})()),prod:H((function(){function a(d,n,g,l,o){var e=0;for(var c=0;c<this._size;c+=g){for(var h=0;h<o;h++){var k=1;var f=h+c;for(var m=0;m<l;m++){k*=n[f];f+=o}d[e++]=k}}}function b(d){var e=1;for(var c=0;c<this._size;c++){e*=d[c]}return e}return function(d,c){return this._withPreprocess1(d,c,a,b)}})()),mean:H((function(){function a(e,n,h,l,o){var f=0;for(var d=0;d<this._size;d+=h){for(var k=0;k<o;k++){var p=0;var g=k+d;for(var m=0;m<l;m++){p+=n[g];g+=o}var c=p/l;e[f++]=c}}}function b(d){var g=0;var f=d.length;for(var c=0;c<f;c++){g+=d[c]}var e=g/f;return e}return function(d,c){return this._withPreprocess1(d,c,a,b)}})()),"var":H((function(){function a(f,o,k,m,q){var g=0;for(var d=0;d<this._size;d+=k){for(var l=0;l<q;l++){var r=0;var h=l+d;for(var n=0;n<m;n++){r+=o[h];h+=q}var c=r/m;var p=0;h=l+d;for(var n=0;n<m;n++){var e=o[h]-c;p+=e*e;h+=q}f[g++]=p/m}}}function b(e){var h=0;var g=e.length;for(var d=0;d<g;d++){h+=e[d]}var f=h/g;var c=0;for(var d=0;d<g;d++){var j=e[d]-f;c+=j*j}return c/g}return function(d,c){return this._withPreprocess1(d,c,a,b)}})()),std:H((function(){function a(f,o,k,m,q){var g=0;for(var d=0;d<this._size;d+=k){for(var l=0;l<q;l++){var r=0;var h=l+d;for(var n=0;n<m;n++){r+=o[h];h+=q}var c=r/m;var p=0;h=l+d;for(var n=0;n<m;n++){var e=o[h]-c;p+=e*e;h+=q}f[g++]=Math.sqrt(p/m)}}}function b(e){var h=0;var g=e.length;for(var d=0;d<g;d++){h+=e[d]}var f=h/g;var c=0;for(var d=0;d<g;d++){var j=e[d]-f;c+=j*j}return Math.sqrt(c/g)}return function(d,c){return this._withPreprocess1(d,c,a,b)}})()),ptp:H((function(){function a(f,p,l,n,q){var g=0;for(var c=0;c<this._size;c+=l){for(var m=0;m<q;m++){var k=c+m;var e=p[k];var r=p[k];for(var o=0;o<n;o++){var h=p[k];if(h<e){e=h}if(h>r){r=h}k+=q}f[g++]=r-e}}}function b(e){var c=e[0];var f=e[0];for(var d=1;d<this._size;d++){if(e[d]<c){c=e[d]}if(e[d]>f){f=e[d]}}return f-c}return function(d,c){return this._withPreprocess1(d,c,a,b)}})()),sort:H(function(a,m){if(a<0){a=this._shape.length+a}var d;if(m==="ascending"){d=function(j,i){return j-i}}else{if(m==="descending"){d=function(j,i){return i-j}}}var l=this._array;var n=Q(this._shape,a);var h=this._shape[a];var b=n*h;var f=new Array(h);for(var c=0;c<this._size;c+=b){for(var g=0;g<n;g++){var e=c+g;for(var k=0;k<h;k++){f[k]=l[e];e+=n}f.sort(d);var e=c+g;for(var k=0;k<h;k++){l[e]=f[k];e+=n}}}return this},{axis:-1,order:"ascending"}),argsort:H(function(b,o,a){if(b<0){b=this._shape.length+b}if(!this._size){return}if(a&&!U(this._shape,a._shape)){throw new Error(I(this._shape,a._shape))}if(!a){a=new F(this._dtype);a.initFromShape(this._shape)}var e=a._array;var f;if(o==="ascending"){f=function(j,i){return h[j]-h[i]}}else{if(o==="descending"){f=function(j,i){return h[i]-h[j]}}}var n=this._array;var q=Q(this._shape,b);var l=this._shape[b];var c=q*l;var h=new Array(l);var p=new Array(l);for(var d=0;d<this._size;d+=c){for(var k=0;k<q;k++){var g=d+k;for(var m=0;m<l;m++){h[m]=n[g];p[m]=m;g+=q}p.sort(f);var g=d+k;for(var m=0;m<l;m++){e[g]=p[m];g+=q}}}return a},{axis:-1,order:"ascending"}),cumsum:H((function(){function a(d,l,f,h,n){for(var c=0;c<this._size;c+=f){for(var g=0;g<n;g++){var e=c+g;var m=e;d[e]=l[e];for(var k=1;k<h;k++){m=e;e+=n;d[e]=d[m]+l[e]}}}}function b(e,d){e[0]=d[0];for(var c=1;c<e.length;c++){e[c]=e[c-1]+d[c]}}return function(d,c){return this._withPreprocess2(d,c,a,b)}})()),cumprod:H((function(){function a(d,l,f,h,n){for(var c=0;c<this._size;c+=f){for(var g=0;g<n;g++){var e=c+g;var m=e;d[e]=l[e];for(var k=1;k<h;k++){m=e;e+=n;d[e]=d[m]*l[e]}}}}function b(e,d){e[0]=d[0];for(var c=1;c<e.length;c++){e[c]=e[c-1]*d[c]}}return function(d,c){return this._withPreprocess2(d,c,a,b)}})()),dot:function(){console.warn("TODO")},map:function(n,d){var k=this._array;var c=this._array;var a=k[0];var b=k[0];var g=this._size;for(var f=1;f<g;f++){var h=k[f];if(h<a){a=h}if(h>b){b=h}}var m=b-a;var j=d-n;for(var f=0;f<g;f++){if(m===0){c[f]=n}else{var h=k[f];var e=(h-a)/m;c[f]=j*e+n}}return this},add:function(a,b){return this.binaryOperation(this,a,R,b)},sub:function(a,b){return this.binaryOperation(this,a,J,b)},mul:function(a,b){return this.binaryOperation(this,a,L,b)},div:function(a,b){return this.binaryOperation(this,a,G,b)},mod:function(a,b){return this.binaryOperation(this,a,A,b)},and:function(a,b){return this.binaryOperation(this,a,S,b)},or:function(a,b){return this.binaryOperation(this,a,C,b)},xor:function(a,b){return this.binaryOperation(this,a,T,b)},equal:function(a,b){return this.binaryOperation(this,a,B,b)},binaryOperation:function(e,Aa,u,q){var n=[];var h=typeof(e)==="number";var m=typeof(Aa)==="number";if(h){n=Aa._shape.slice()}else{if(m){n=e._shape.slice()}else{var w=e._shape.length-1;var x=Aa._shape.length-1;var g=e;var t=Aa;while(w>=0&&x>=0){if(e._shape[w]==1){n.unshift(Aa._shape[x]);g=e.repeat(Aa._shape[x],w)}else{if(Aa._shape[x]==1){n.unshift(e._shape[w]);t=Aa.repeat(e._shape[w],x)}else{if(Aa._shape[x]==e._shape[w]){n.unshift(e._shape[w])}else{throw new Error(I(e._shape,Aa._shape))}}}w--;x--}for(var f=w;f>=0;f--){n.unshift(e._shape[f])}for(var f=x;f>=0;f--){n.unshift(Aa._shape[f])}e=g;Aa=t}}if(!q){q=new F(this._dtype);q.initFromShape(n)}else{if(!U(n,q._shape)){throw new Error(I(n,q._shape))}}var r=q._array;var o;var Ab;var p;var j;if(h){o=Aa._shape.length-1;Ab=false;p=e;j=Aa._array}else{if(m){o=e._shape.length-1;Ab=true;j=Aa;p=e._array}else{o=Math.abs(e._shape.length-Aa._shape.length);Ab=e._shape.length>=Aa._shape.length;p=e._array;j=Aa._array}}var v=Q(n,o);var d=n[o];var b=v*d;var l=q._size/b;var y,a,s;var z=0;if(Ab){if(m){for(var k=0;k<l;k++){for(var f=0;f<b;f++){y=p[z];a=j;switch(u){case R:s=y+a;break;case J:s=y-a;break;case L:s=y*a;break;case G:s=y/a;break;case A:s=y%a;break;case S:s=y&a;break;case C:s=y|a;break;case T:s=y^a;break;case B:s=y==a;break;default:throw new Error("Unkown operation "+u)}r[z]=s;z++}}}else{for(var k=0;k<l;k++){for(var f=0;f<b;f++){y=p[z];a=j[f];switch(u){case R:s=y+a;break;case J:s=y-a;break;case L:s=y*a;break;case G:s=y/a;break;case A:s=y%a;break;case S:s=y&a;break;case C:s=y|a;break;case T:s=y^a;break;case B:s=y==a;break;default:throw new Error("Unkown operation "+u)}r[z]=s;z++}}}}else{if(h){for(var k=0;k<l;k++){for(var f=0;f<b;f++){y=p;a=j[z];switch(u){case R:s=y+a;break;case J:s=y-a;break;case L:s=y*a;break;case G:s=y/a;break;case A:s=y%a;break;case S:s=y&a;break;case C:s=y|a;break;case T:s=y^a;break;case B:s=y==a;break;default:throw new Error("Unkown operation "+u)}r[z]=s;z++}}}else{for(var k=0;k<l;k++){for(var f=0;f<b;f++){y=p[z];a=j[f];switch(u){case R:s=y+a;break;case J:s=y-a;break;case L:s=y*a;break;case G:s=y/a;break;case A:s=y%a;break;case S:s=y&a;break;case C:s=y|a;break;case T:s=y^a;break;case B:s=y==a;break;default:throw new Error("Unkown operation "+u)}r[z]=s;z++}}}}return q},neg:function(){var b=this._array;for(var a=0;a<this._size;a++){b[a]=-b[a]}return this},sin:function(){return this._mathAdapter(Math.sin)},cos:function(){return this._mathAdapter(Math.cos)},tan:function(){return this._mathAdapter(Math.tan)},abs:function(){return this._mathAdapter(Math.abs)},log:function(){return this._mathAdapter(Math.log)},sqrt:function(){return this._mathAdapter(Math.sqrt)},ceil:function(){return this._mathAdapter(Math.ceil)},floor:function(){return this._mathAdapter(Math.floor)},pow:function(b){var c=this._array;for(var a=0;a<this._size;a++){c[a]=Math.pow(c[a],b)}return this},_mathAdapter:function(b){var c=this._array;for(var a=0;a<this._size;a++){c[a]=b(c[a])}return this},round:function(c){c=Math.floor(c||0);var a=Math.pow(10,c);var d=this._array;if(c===0){for(var b=0;b<this._size;b++){d[b]=Math.round(d[b])}}else{for(var b=0;b<this._size;b++){d[b]=Math.round(d[b]*a)/a}}return this},clip:function(a,d){var c=this._array;for(var b=0;b<this._size;b++){c[b]=Math.max(Math.min(c[b],d),a)}return this},get:function(c,b){if(typeof(c)=="number"){c=c.toString()}var e=Y(this._shape);var k=this._parseRanges(c);var h=k[0];var d=k[1];if(h.length>this._shape.length){throw new Error("Too many indices")}var j=h.length;var a;if(d.length){b=new F(this._dtype);b.initFromShape(d);a=b._array}else{a=[]}var i=this._array;var g=0;function f(q,m){var p=h[q];var l=e[q];if(q<j-1){if(p[2]>0){for(var n=p[0];n<p[1];n+=p[2]){f(q+1,m+l*n)}}else{for(var n=p[0];n>p[1];n+=p[2]){f(q+1,m+l*n)}}}else{if(p[2]>0){for(var n=p[0];n<p[1];n+=p[2]){for(var o=0;o<l;o++){a[g++]=i[n*l+o+m]}}}else{for(var n=p[0];n>p[1];n+=p[2]){for(var o=0;o<l;o++){a[g++]=i[n*l+o+m]}}}}}f(0,0);if(d.length){return b}else{return a[0]}},set:function(c,j){if(typeof(c)=="number"){c=c.toString()}var e=Y(this._shape);var l=this._parseRanges(c);var i=l[0];var d=l[1];if(i.length>this._shape.length){throw new Error("Too many indices")}var f=typeof(j)=="number";var k=i.length;var a=this._array;if(f){var b=j}else{if(!U(d,j.shape())){throw new Error(I(d,j.shape()))}var b=j._array}var g=0;var h=function(r,n){var q=i[r];var m=e[r];if(r<k-1){if(q[2]>0){for(var o=q[0];o<q[1];o+=q[2]){h(r+1,n+m*o)}}else{for(var o=q[0];o>q[1];o+=q[2]){h(r+1,n+m*o)}}}else{if(q[2]>0){for(var o=q[0];o<q[1];o+=q[2]){for(var p=0;p<m;p++){if(f){a[o*m+p+n]=b}else{a[o*m+p+n]=b[g++]}}}}else{for(var o=q[0];o>q[1];o+=q[2]){for(var p=0;p<m;p++){if(f){a[o*m+p+n]=b}else{a[o*m+p+n]=b[g++]}}}}}};h(0,0);return this},insert:H(function(j,Ab,u){var z=this._array;var c=false;if(typeof(j)==="number"){j=[j];c=true}if(typeof(Ab)==="number"){Ab=new F([Ab])}else{if(Ab instanceof Array){Ab=new F(Ab)}}if(typeof(u)==="undefined"){this._shape=[this._size];u=0}var y=j[0];var e=this._shape[u];for(var p=0;p<j.length;p++){if(j[p]<0){j[p]=e+j[p]}if(j[p]>e){throw new Error(X(j[p]))}if(j[p]<y){throw new Error("Index must be in ascending order")}y=j[p]}var x=this._shape.slice();if(c){x.splice(u,1)}else{x[u]=j.length}var g=Ab._shape;var l=g.length-1;var q=x.length-1;var Ae=Ab;while(l>=0&&q>=0){if(g[l]===1){Ae=Ab.repeat(x[q],l)}else{if(g[l]!==x[q]){throw new Error(I(g,x))}}l--;q--}Ab=Ae;var r=Q(this._shape,u);var e=this._shape[u];var b=e*r;var w=this._size/b;var n=j.length;var s=new Uint32Array(w*n);var f=0;for(var Ac=0;Ac<this._size;Ac+=b){for(var p=0;p<n;p++){var a=j[p];s[f++]=Ac+a*r}}var h=this._shape.slice();h[u]+=j.length;var k=O(h);if(this._array.length<k){var z=new Z[this._dtype](k)}else{var z=this._array}var t=this._array;var o=Ab._array;var v=s.length-1;var d=this._size;var Ad=s[v];var Aa=k-1;var m=Ab._size-1;while(v>=0){for(var p=d-1;p>=Ad;p--){z[Aa--]=t[p]}d=Ad;Ad=s[--v];for(var p=0;p<r;p++){if(m<0){m=Ab._size-1}z[Aa--]=o[m--]}}for(var p=d-1;p>=0;p--){z[Aa--]=t[p]}this._array=z;this._shape=h;this._size=k;return this}),append:function(){console.warn("TODO")},"delete":H(function(m,a){var c=this._array;if(typeof(m)==="number"){m=[m]}var f=this._size;if(typeof(a)==="undefined"){this._shape=[f];a=0}var p=Q(this._shape,a);var h=this._shape[a];var b=p*h;var d=0;for(var l=0;l<f;l+=b){var o=0;var k=m[0];var e=0;while(e<m.length){if(k<0){k=k+h}if(k>h){throw new Error(X(k))}if(k<o){throw new Error("Index must be in ascending order")}for(var g=o;g<k;g++){for(var n=0;n<p;n++){c[d++]=c[g*p+n+l]}}o=k+1;k=m[++e]}for(var g=o;g<h;g++){for(var n=0;n<p;n++){c[d++]=c[g*p+n+l]}}}this._shape[a]-=m.length;this._size=O(this._shape);return this}),_parseRanges:function(a){var c=a.split(/\s*,\s*/);var g=[];var b=[];var d=0;for(var f=0;f<c.length;f++){if(c[f]==="..."){var k=this._shape.length-(c.length-f);while(d<=k){g.push([0,this._shape[d],1]);b.push(this._shape[d]);d++}}else{var h=K(c[f],this._shape[d]);g.push(h);if(c[f].indexOf(":")>=0){var e=Math.floor((h[1]-h[0])/h[2]);e=e<0?0:e;b.push(e)}d++}}for(;d<this._shape.length;d++){b.push(this._shape[d])}return[g,b]},toArray:function(){var f=this._array;var a=0;var b=this._shape;var e=b.length;function c(k,h){var j=b[k];for(var g=0;g<j;g++){if(k<e-1){c(k+1,h[g]=[])}else{h[g]=f[a++]}}}var d=[];c(0,d);return d},copy:function(){var a=new F();a._array=M.call(this._array);a._shape=this._shape.slice();a._dtype=this._dtype;a._size=this._size;return a},constructor:F};F.range=H(function(b,c,e,f){var k=M.call(arguments);var j=k[k.length-1];if(typeof(j)=="string"){var f=j;k.pop()}if(k.length===1){c=k[0];e=1;b=0}else{if(k.length==2){e=1}}f=f||"number";var a=new Z[f](Math.ceil((c-b)/e));var d=0;for(var g=b;g<c;g+=e){a[d++]=g}var h=new F();h._array=a;h._shape=[a.length];h._dtype=f;h._size=a.length;return h});F.zeros=H(function(c,a){var b=new F(a);b.initFromShape(c);return b});function K(d,b){if(d.indexOf(":")>=0){var c=d.split(/\s*:\s*/);var a=parseInt(c[2]||1,10);var f,e;if(a===0){throw new Error("Slice step cannot be zero")}else{if(a>0){f=parseInt(c[0]||0,10);e=parseInt(c[1]||b,10)}else{f=parseInt(c[0]||b-1,10);e=parseInt(c[1]||-1,10)}}if(f<0){f=b+f}if(e<0&&c[1]){e=b+e}if(a>0){f=Math.max(Math.min(b,f),0);e=Math.max(Math.min(b,e),0)}else{f=Math.max(Math.min(b-1,f),-1);e=Math.max(Math.min(b-1,e),-1)}return[f,e,a]}else{var f=parseInt(d,10);if(f<0){f=b+f}if(f<0||f>b){throw new Error(X(d))}f=Math.max(Math.min(b-1,f),0);return[f,f+1,1]}}function O(c){var a=c[0];for(var b=1;b<c.length;b++){a*=c[b]}return a}function P(b){var c=1;var a=b[0];while(a instanceof Array){a=a[0];c++}return c}function D(b){var c=[b.length];var a=b[0];while(a instanceof Array){c.push(a.length);a=a[0]}return c}function Q(d,c){if(c==d.length-1){return 1}var a=d[c+1];for(var b=c+2;b<d.length;b++){a*=d[b]}return a}function Y(e){var d=[];var a=1;var c=O(e);for(var b=0;b<e.length;b++){a*=e[b];d.push(c/a)}return d}function U(b,c){if(b.length!==c.length){return false}for(var a=0;a<b.length;a++){if(b[a]!==c[a]){return false}}return true}function I(a,b){return"Shape ("+a.toString()+") ("+b.toString()+") could not be broadcast together"}function V(a){return"Axis "+a+" out of bounds"}function X(a){return"Index "+a+" out of bounds"}return F});define("echarts/chart/chord",["require","../component/base","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Sector","../util/shape/Ribbon","../config","../util/ecData","zrender/tool/util","zrender/tool/vector","../util/ndarray","../chart"],function(G){var D=G("../component/base");var B=G("./base");var K=G("zrender/shape/Text");var M=G("zrender/shape/Line");var C=G("zrender/shape/Sector");var I=G("../util/shape/Ribbon");var J=G("../config");var A=G("../util/ecData");var F=G("zrender/tool/util");var H=G("zrender/tool/vector");var N=G("../util/ndarray");var E=window.devicePixelRatio||1;function L(O,Q,P,R,S){D.call(this,O,Q,P,R,S);B.call(this);this.refresh(R)}L.prototype={type:J.CHART_TYPE_CHORD,_buildShape:function(){var r=this.series;this.selectedMap={};this.chordSeries=[];this.chordSerieSample=null;var f=[];var V=0;for(var u=0,v=r.length;u<v;u++){if(r[u].type===this.type){if(!this.chordSerieSample){this.chordSerieSample=r[u];this.reformOption(this.chordSerieSample)}var w=this.isSelected(r[u].name);this.selectedMap[r[u].name]=w;if(!w){continue}this.chordSeries.push(r[u]);this.buildMark(u);f.push(r[u].matrix);V++}}if(!this.chordSerieSample){return}if(!this.chordSeries.length){this.addShapeList();return}var y=this.zr.getWidth();var Y=this.zr.getHeight();var R=Math.min(y,Y);this.groups=this.chordSerieSample.data;this.startAngle=this.chordSerieSample.startAngle;this.startAngle=this.startAngle%360;if(this.startAngle<0){this.startAngle=this.startAngle+360}this.clockWise=this.chordSerieSample.clockWise;this.innerRadius=this.parsePercent(this.chordSerieSample.radius[0],R/2);this.outerRadius=this.parsePercent(this.chordSerieSample.radius[1],R/2);this.padding=this.chordSerieSample.padding;this.sortGroups=this.chordSerieSample.sort;this.sortSubGroups=this.chordSerieSample.sortSub;this.showScale=this.chordSerieSample.showScale;this.showScaleText=this.chordSerieSample.showScaleText;this.center=[this.parsePercent(this.chordSerieSample.center[0],y),this.parsePercent(this.chordSerieSample.center[1],Y)];var e=this.chordSerieSample.itemStyle.normal.chordStyle.lineStyle.width-this.chordSerieSample.itemStyle.normal.lineStyle.width;this.strokeFix=(e/E)/this.innerRadius/Math.PI*180;this.dataMat=new N(f);this.dataMat=this.dataMat._transposelike([1,2,0]);var S=this._filterData(this.dataMat,this.groups);this.dataMat=S[0];this.groups=S[1];var Z=this.dataMat.shape();if(Z[0]!==Z[1]||Z[0]!==this.groups.length){throw new Error("Data not valid")}if(Z[0]===0||Z[2]===0){this.addShapeList();return}this.dataMat.reshape(Z[0],Z[1]*Z[2]);var P=this.dataMat.sum(1);var g=P.mul(1/P.sum());var U=Z[0];var a=Z[1]*Z[2];var W=g.mul(360-this.padding*U);var O=this.dataMat.div(this.dataMat.sum(1).reshape(U,1));O=O.mul(W.sub(this.strokeFix*2).reshape(U,1));switch(this.sortGroups){case"ascending":case"descending":var b=W.argsort(0,this.sortGroups);W["sort"](0,this.sortGroups);P["sort"](0,this.sortGroups);break;default:var b=N.range(Z[0])}switch(this.sortSubGroups){case"ascending":case"descending":var o=O.argsort(1,this.sortSubGroups);O["sort"](1,this.sortSubGroups);break;default:var o=N.range(a).reshape(1,a).repeat(U,0)}var c=b.toArray();var h=W.toArray();var m=o.toArray();var Q=O.toArray();var T=P.toArray();var z=[];var X=new N(U,a).toArray();var k=[];var n=0;var p=0;for(var u=0;u<U;u++){var q=c[u];k[q]=T[u];p=n+h[u];z[q]=[n,p];var x=n+this.strokeFix;var s=x;for(var t=0;t<a;t++){s=x+Q[q][t];var d=m[q][t];X[q][d]=[x,s];x=s}n=p+this.padding}this.chordShapes=new N(U,U,V).toArray();this.sectorShapes=[];this._buildSectors(z,k);X=new N(X).reshape(U,U,V,2).toArray();this._buildChords(X,this.dataMat.reshape(Z).toArray());var S=this.normalizeValue(k);if(this.showScale){this._buildScales(S[0],S[1],z,new N(S[0]).sum()/(360-this.padding*U))}this.addShapeList()},_filterData:function(V,T){var U=[];var W=[];for(var S=0;S<T.length;S++){var P=T[S].name;this.selectedMap[P]=this.isSelected(P);if(!this.selectedMap[P]){U.push(S)}else{W.push(T[S])}}if(U.length){V=V["delete"](U,0);V=V["delete"](U,1)}if(!V.size()){return[V,W]}U=[];var O=[];var Q=V.shape();V.reshape(Q[0],Q[1]*Q[2]);var R=V.sum(1).toArray();V.reshape(Q);for(var S=0;S<W.length;S++){if(R[S]===0){U.push(S)}else{O.push(W[S])}}if(U.length){V=V["delete"](U,0);V=V["delete"](U,1)}return[V,O]},_buildSectors:function(P,j){var Q=this.groups.length;var X=this.chordSeries.length;var a;var O=this.query(this.chordSerieSample,"itemStyle.normal.label.show");var f=this.query(this.chordSerieSample,"itemStyle.normal.label.color");var T=this.query(this.chordSerieSample,"itemStyle.normal.label.rotate");var c=this.query(this.chordSerieSample,"itemStyle.normal.label.distance");var m=this;function Z(i){return function(){if(a){clearTimeout(a)}a=setTimeout(function(){for(var n=0;n<Q;n++){m.sectorShapes[n].style.opacity=n===i?1:0.1;m.zr.modShape(m.sectorShapes[n].id);for(var p=0;p<Q;p++){for(var q=0;q<X;q++){var o=m.chordShapes[n][p][q];if(o){o.style.opacity=(n===i||p===i)?0.5:0.03;m.zr.modShape(o.id)}}}}m.zr.refresh()},50)}}function k(){return function(){if(a){clearTimeout(a)}a=setTimeout(function(){for(var n=0;n<Q;n++){m.sectorShapes[n].style.opacity=1;m.zr.modShape(m.sectorShapes[n].id);for(var p=0;p<Q;p++){for(var q=0;q<X;q++){var o=m.chordShapes[n][p][q];if(o){o.style.opacity=0.5;m.zr.modShape(o.id)}}}}m.zr.refresh()},50)}}for(var V=0;V<Q;V++){var g=this.groups[V];var W=P[V];var d=(this.clockWise?(360-W[1]):W[0])+this.startAngle;var U=(this.clockWise?(360-W[0]):W[1])+this.startAngle;var b={zlevel:this._zlevelBase,style:{x:this.center[0],y:this.center[1],r0:this.innerRadius,r:this.outerRadius,startAngle:d,endAngle:U,brushType:"fill",opacity:1,color:this.getColor(g.name)},clickable:this.chordSerieSample.clickable,highlightStyle:{brushType:"fill"}};b.style.lineWidth=this.deepQuery([g,this.chordSerieSample],"itemStyle.normal.lineStyle.width");b.highlightStyle.lineWidth=this.deepQuery([g,this.chordSerieSample],"itemStyle.emphasis.lineStyle.width");b.style.strokeColor=this.deepQuery([g,this.chordSerieSample],"itemStyle.normal.lineStyle.color");b.highlightStyle.strokeColor=this.deepQuery([g,this.chordSerieSample],"itemStyle.emphasis.lineStyle.color");if(b.style.lineWidth>0){b.style.brushType="both"}if(b.highlightStyle.lineWidth>0){b.highlightStyle.brushType="both"}A.pack(b,this.chordSeries[0],0,j[V],V,g.name);if(O){var Y=[d+U]/2;Y%=360;var e=Y<=90||Y>=270;Y=Y*Math.PI/180;var R=[Math.cos(Y),-Math.sin(Y)];var l=this.showScaleText?35+c:c;var S=H.scale([],R,this.outerRadius+l);H.add(S,S,this.center);var h={zlevel:this._zlevelBase-1,hoverable:false,style:{text:g.name,textAlign:e?"left":"right",color:f}};if(T){h.rotation=e?Y:Math.PI+Y;if(e){h.style.x=this.outerRadius+l}else{h.style.x=-this.outerRadius-l}h.style.y=0;h.position=this.center}else{h.style.x=S[0];h.style.y=S[1]}h.style.textColor=this.deepQuery([g,this.chordSerieSample],"itemStyle.normal.label.textStyle.color")||"#fff";h.style.textFont=this.getFont(this.deepQuery([g,this.chordSerieSample],"itemStyle.normal.label.textStyle"));h=new K(h);this.shapeList.push(h)}b.onmouseover=Z(V);b.onmouseout=k();b=new C(b);this.shapeList.push(b);this.sectorShapes.push(b)}},_buildChords:function(W,f){var P=W.length;if(!P){return}var V=W[0][0].length;var b=this.chordSerieSample.itemStyle.normal.chordStyle.lineStyle;var a=this.chordSerieSample.itemStyle.emphasis.chordStyle.lineStyle;for(var T=0;T<P;T++){for(var R=0;R<P;R++){for(var S=0;S<V;S++){if(this.chordShapes[R][T][S]){continue}var d=W[T][R][S][0];var Y=W[R][T][S][0];var c=W[T][R][S][1];var g=W[R][T][S][1];if(d-g===0||Y-g===0){this.chordShapes[T][R][S]=null;continue}var Q;if(V===1){if(c-d<=g-Y){Q=this.getColor(this.groups[T].name)}else{Q=this.getColor(this.groups[R].name)}}else{Q=this.getColor(this.chordSeries[S].name)}var X=!this.clockWise?(360-c):d;var U=!this.clockWise?(360-d):c;var Z=!this.clockWise?(360-g):Y;var O=!this.clockWise?(360-Y):g;var e={zlevel:this._zlevelBase,style:{x:this.center[0],y:this.center[1],r:this.innerRadius,source0:X-this.startAngle,source1:U-this.startAngle,target0:Z-this.startAngle,target1:O-this.startAngle,brushType:"both",opacity:0.5,color:Q,lineWidth:b.width,strokeColor:b.color},clickable:this.chordSerieSample.clickable,highlightStyle:{brushType:"both",lineWidth:a.width,strokeColor:a.color}};A.pack(e,this.chordSeries[S],S,f[T][R][S],T+"-"+R,this.groups[T].name,this.groups[R].name,f[R][T][S]);e=new I(e);this.chordShapes[T][R][S]=e;this.shapeList.push(e)}}}},_buildScales:function(b,c,Y,a){for(var U=0;U<Y.length;U++){var Z=Y[U][0];var O=Y[U][1];var e=Z;while(e<O){var T=((this.clockWise?(360-e):e)+this.startAngle)/180*Math.PI;var Q=[Math.cos(T),-Math.sin(T)];var f=H.scale([],Q,this.outerRadius+1);H.add(f,f,this.center);var X=H.scale([],Q,this.outerRadius+this.scaleLineLength);H.add(X,X,this.center);var d={zlevel:this._zlevelBase-1,hoverable:false,style:{xStart:f[0],yStart:f[1],xEnd:X[0],yEnd:X[1],lineCap:"round",brushType:"stroke",strokeColor:"#666",lineWidth:1}};d=new M(d);this.shapeList.push(d);e+=this.scaleUnitAngle}if(!this.showScaleText){continue}var V=Z;var S=a*5*this.scaleUnitAngle;var R=N.range(0,b[U],S).toArray();while(V<O){var T=this.clockWise?(360-V):V;T=(T+this.startAngle)%360;var P=T<=90||T>=270;var W={zlevel:this._zlevelBase-1,hoverable:false,style:{x:P?this.outerRadius+this.scaleLineLength+4:-this.outerRadius-this.scaleLineLength-4,y:0,text:Math.round(R.shift()*10)/10+c,textAlign:P?"left":"right"},position:this.center.slice(),rotation:P?[T/180*Math.PI,0,0]:[(T+180)/180*Math.PI,0,0]};W=new K(W);this.shapeList.push(W);V+=this.scaleUnitAngle*5}}},normalizeValue:function(R){var P=[];var T=new N(R).max();var S,Q;if(T>10000){S="k";Q=1/1000}else{if(T>10000000){S="m";Q=1/1000000}else{if(T>10000000000){S="b";Q=1/1000000000}else{S="";Q=1}}}for(var O=0;O<R.length;O++){P[O]=R[O]*Q}return[P,S]},refresh:function(R){if(R){this.option=R;this.series=R.series}this.chordSeries=[];this.strokeFix=0;this.sectorShapes=[];this.chordShapes=[];this.scaleLineLength=4;this.scaleUnitAngle=4;this.legend=this.component.legend;if(this.legend){this.getColor=function(S){return this.legend.getColor(S)};this.isSelected=function(S){return this.legend.isSelected(S)}}else{var Q={};var O={};var P=0;this.getColor=function(S){if(O[S]){return O[S]}if(Q[S]===undefined){Q[S]=P++}for(var T=0;T<this.chordSeries.length;T++){if(this.chordSeries[T].name===S){O[S]=this.query(this.chordSeries[T],"itemStyle.normal.color");break}}if(!O[S]){var U=this.groups.length;for(var T=0;T<U;T++){if(this.groups[T].name===S){O[S]=this.query(this.groups[T],"itemStyle.normal.color");break}}}if(!O[S]){O[S]=this.zr.getColor(Q[S])}return O[S]};this.isSelected=function(){return true}}this.backupShapeList();this._buildShape()},reformOption:function(O){var P=F.merge;O=P(O||{},this.ecTheme.chord);O.itemStyle.normal.label.textStyle=P(O.itemStyle.normal.label.textStyle||{},this.ecTheme.textStyle)}};F.inherits(L,B);F.inherits(L,D);G("../chart").define("chord",L);return L});define("echarts/data/Graph",["require","zrender/tool/util"],function(C){var B=C("zrender/tool/util");var D=function(F){this._directed=F||false;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={}};D.prototype.addNode=function(G,H){if(this._nodesMap[G]){return this._nodesMap[G]}var F=new D.Node(G,H);this.nodes.push(F);this._nodesMap[G]=F;return F};D.prototype.getNodeByName=function(F){return this._nodesMap[F]};D.prototype.addEdge=function(H,I,J){if(typeof(H)=="string"){H=this._nodesMap[H]}if(typeof(I)=="string"){I=this._nodesMap[I]}if(!H||!I){return}var F=H.name+"-"+I.name;if(this._edgesMap[F]){return this._edgesMap[F]}var G=new D.Edge(H,I,J);if(this._directed){H.outEdges.push(G);I.inEdges.push(G)}H.edges.push(G);I.edges.push(G);this.edges.push(G);this._edgesMap[F]=G;return G};D.prototype.removeEdge=function(H){var G=H.node1;var I=H.node2;var F=G.name+"-"+I.name;if(this._directed){G.outEdges.splice(B.indexOf(G.outEdges,H),1);I.inEdges.splice(B.indexOf(I.inEdges,H),1)}G.edges.splice(B.indexOf(G.edges,H),1);I.edges.splice(B.indexOf(I.edges,H),1);delete this._edgesMap[F];this.edges.splice(B.indexOf(this.edges,H),1)};D.prototype.removeNode=function(H){if(typeof(H)==="string"){H=this._nodesMap[H];if(!H){return}}delete this._nodesMap[H.name];this.nodes.splice(B.indexOf(this.nodes,H),1);for(var F=0;F<this.edges.length;){var G=this.edges[F];if(G.node1==H||G.node2==H){this.removeEdge(G)}else{F++}}};D.prototype.eachNode=function(F,G){for(var H=0;H<this.nodes.length;H++){F.call(G,this.nodes[H])}};D.prototype.eachEdge=function(F,G){for(var H=0;H<this.edges.length;H++){F.call(G,this.edges[H])}};D.prototype.clear=function(){this.nodes.length=0;this.edges.length=0;this._nodesMap={};this._edgesMap={}};var E=function(F,G){this.name=F;this.data=G||null;this.inEdges=[];this.outEdges=[];this.edges=[]};E.prototype.degree=function(){return this.edges.length};E.prototype.inDegree=function(){return this.inEdges.length};E.prototype.outDegree=function(){return this.outEdges.length};var A=function(F,G,H){this.node1=F;this.node2=G;this.data=H||null};D.Node=E;D.Edge=A;D.fromMatrix=function(Q,H,K){if(!H||!H.length||(H[0].length!==H.length)||(Q.length!==H.length)){return}var L=H.length;var I=new D(K);for(var M=0;M<L;M++){var N=I.addNode(Q[M].name,{});N.data.value=0;if(K){N.data.outValue=N.data.inValue=0}}for(var M=0;M<L;M++){for(var O=0;O<L;O++){var R=H[M][O];if(K){I.nodes[M].outValue+=R;I.nodes[O].inValue+=R}I.nodes[M].value+=R;I.nodes[O].value+=R}}for(var M=0;M<L;M++){for(var O=M;O<L;O++){var R=H[M][O];if(R===0){continue}var F=I.nodes[M];var G=I.nodes[O];var P=I.addEdge(F,G,{});if(K){P.data.sourceWeight=R;P.data.targetWeight=H[O][M]}P.data.weight=R;if(M!==O){if(K){var J=I.addEdge(G,F,{});J.sourceWeight=H[O][M];J.targetWeight=R}P.data.weight+=H[O][M]}}}};return D});define("echarts/layout/forceLayoutWorker",["require","zrender/tool/vector"],function __echartsForceLayoutWorker(E){var F;var D=typeof(window)==="undefined"&&typeof(E)==="undefined";if(D){F={create:function(K,L){var J=new Float32Array(2);J[0]=K||0;J[1]=L||0;return J},dist:function(M,J){var K=J[0]-M[0];var L=J[1]-M[1];return Math.sqrt(K*K+L*L)},len:function(L){var J=L[0];var K=L[1];return Math.sqrt(J*J+K*K)},scaleAndAdd:function(J,M,K,L){J[0]=M[0]+K[0]*L;J[1]=M[1]+K[1]*L;return J},scale:function(J,L,K){J[0]=L[0]*K;J[1]=L[1]*K;return J},add:function(J,L,K){J[0]=L[0]+K[0];J[1]=L[1]+K[1];return J},sub:function(J,L,K){J[0]=L[0]-K[0];J[1]=L[1]-K[1];return J},normalize:function(J,N){var K=N[0];var L=N[1];var M=K*K+L*L;if(M>0){M=1/Math.sqrt(M);J[0]=N[0]*M;J[1]=N[1]*M}return J},negate:function(J,K){J[0]=-K[0];J[1]=-K[1];return J},copy:function(J,K){J[0]=K[0];J[1]=K[1];return J},set:function(J,K,L){J[0]=K;J[1]=L;return J}}}else{F=E("zrender/tool/vector")}var A=typeof(Float32Array)=="undefined"?Array:Float32Array;function I(){this.subRegions=[];this.nSubRegions=0;this.node=null;this.mass=0;this.centerOfMass=null;this.bbox=new A(4);this.size=0}I.prototype.beforeUpdate=function(){for(var J=0;J<this.nSubRegions;J++){this.subRegions[J].beforeUpdate()}this.mass=0;if(this.centerOfMass){this.centerOfMass[0]=0;this.centerOfMass[1]=0}this.nSubRegions=0;this.node=null};I.prototype.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var J=0;J<this.nSubRegions;J++){this.subRegions[J].afterUpdate()}};I.prototype.addNode=function(J){if(this.nSubRegions===0){if(this.node==null){this.node=J;return}else{this._addNodeToSubRegion(this.node);this.node=null}}this._addNodeToSubRegion(J);this._updateCenterOfMass(J)};I.prototype.findSubRegion=function(K,L){for(var J=0;J<this.nSubRegions;J++){var M=this.subRegions[J];if(M.contain(K,L)){return M}}};I.prototype.contain=function(J,K){return this.bbox[0]<=J&&this.bbox[2]>=J&&this.bbox[1]<=K&&this.bbox[3]>=K};I.prototype.setBBox=function(M,L,K,J){this.bbox[0]=M;this.bbox[1]=L;this.bbox[2]=K;this.bbox[3]=J;this.size=(K-M+J-L)/2};I.prototype._newSubRegion=function(){var J=this.subRegions[this.nSubRegions];if(!J){J=new I();this.subRegions[this.nSubRegions]=J}this.nSubRegions++;return J};I.prototype._addNodeToSubRegion=function(P){var O=this.findSubRegion(P.position[0],P.position[1]);var R=this.bbox;if(!O){var N=(R[0]+R[2])/2;var K=(R[1]+R[3])/2;var J=(R[2]-R[0])/2;var M=(R[3]-R[1])/2;var L=P.position[0]>=N?1:0;var Q=P.position[1]>=K?1:0;var O=this._newSubRegion();O.setBBox(L*J+R[0],Q*M+R[1],(L+1)*J+R[0],(Q+1)*M+R[1])}O.addNode(P)};I.prototype._updateCenterOfMass=function(J){if(this.centerOfMass==null){this.centerOfMass=F.create()}var K=this.centerOfMass[0]*this.mass;var L=this.centerOfMass[1]*this.mass;K+=J.position[0]*J.mass;L+=J.position[1]*J.mass;this.mass+=J.mass;this.centerOfMass[0]=K/this.mass;this.centerOfMass[1]=L/this.mass};function H(){this.position=F.create();this.force=F.create();this.forcePrev=F.create();this.speed=F.create();this.speedPrev=F.create();this.mass=1;this.inDegree=0;this.outDegree=0}function G(J,K){this.node1=J;this.node2=K;this.weight=1}function B(){this.barnesHutOptimize=false;this.barnesHutTheta=1.5;this.repulsionByDegree=false;this.preventOverlap=false;this.strongGravity=true;this.gravity=1;this.scaling=1;this.edgeWeightInfluence=1;this.center=[0,0];this.width=500;this.height=500;this.maxSpeedIncrease=1;this.nodes=[];this.edges=[];this.bbox=new A(4);this._rootRegion=new I();this._rootRegion.centerOfMass=F.create();this._massArr=null;this._k=0}B.prototype.initNodes=function(O,P,M){this.temperature=1;var L=O.length/2;this.nodes.length=0;var N=typeof(M)!=="undefined";for(var J=0;J<L;J++){var K=new H();K.position[0]=O[J*2];K.position[1]=O[J*2+1];K.mass=P[J];if(N){K.size=M[J]}this.nodes.push(K)}this._massArr=P;if(N){this._sizeArr=M}};B.prototype.initEdges=function(S,N){var L=S.length/2;this.edges.length=0;var J=typeof(N)!=="undefined";for(var O=0;O<L;O++){var K=S[O*2];var M=S[O*2+1];var R=this.nodes[K];var Q=this.nodes[M];if(!R||!Q){continue}R.outDegree++;Q.inDegree++;var P=new G(R,Q);if(J){P.weight=N[O]}this.edges.push(P)}};B.prototype.update=function(){var M=this.nodes.length;this.updateBBox();this._k=0.4*this.scaling*Math.sqrt(this.width*this.height/M);if(this.barnesHutOptimize){this._rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]);this._rootRegion.beforeUpdate();for(var R=0;R<M;R++){this._rootRegion.addNode(this.nodes[R])}this._rootRegion.afterUpdate()}else{var U=0;var K=this._rootRegion.centerOfMass;F.set(K,0,0);for(var R=0;R<M;R++){var T=this.nodes[R];U+=T.mass;F.scaleAndAdd(K,K,T.position,T.mass)}F.scale(K,K,1/U)}for(var R=0;R<M;R++){var T=this.nodes[R];F.copy(T.forcePrev,T.force);F.copy(T.speedPrev,T.speed);F.set(T.force,0,0)}for(var R=0;R<M;R++){var V=this.nodes[R];if(this.barnesHutOptimize){this.applyRegionToNodeRepulsion(this._rootRegion,V)}else{for(var P=R+1;P<M;P++){var X=this.nodes[P];this.applyNodeToNodeRepulsion(V,X,false)}}if(this.gravity>0){this.applyNodeGravity(V)}}for(var R=0;R<this.edges.length;R++){this.applyEdgeAttraction(this.edges[R])}var O=F.create();for(var R=0;R<M;R++){var T=this.nodes[R];var Q=T.speed;F.scale(T.force,T.force,1/30);var L=F.len(T.force)+0.1;var N=Math.min(L,500)/L;F.scale(T.force,T.force,N);F.add(Q,Q,T.force);F.scale(Q,Q,this.temperature);F.sub(O,Q,T.speedPrev);var S=F.len(O);if(S>0){F.scale(O,O,1/S);var W=F.len(T.speedPrev);if(W>0){S=Math.min(S/W,this.maxSpeedIncrease)*W;F.scaleAndAdd(Q,T.speedPrev,O,S)}}var J=F.len(Q);var N=Math.min(J,100)/(J+0.1);F.scale(Q,Q,N);F.add(T.position,T.position,Q)}};B.prototype.applyRegionToNodeRepulsion=(function(){var J=F.create();return function K(P,N){if(P.node){this.applyNodeToNodeRepulsion(P.node,N,true)}else{F.sub(J,N.position,P.centerOfMass);var O=J[0]*J[0]+J[1]*J[1];if(O>this.barnesHutTheta*P.size*P.size){var M=this._k*this._k*(N.mass+P.mass)/(O+1);F.scaleAndAdd(N.force,N.force,J,M*2)}else{for(var L=0;L<P.nSubRegions;L++){this.applyRegionToNodeRepulsion(P.subRegions[L],N)}}}}})();B.prototype.applyNodeToNodeRepulsion=(function(){var K=F.create();return function J(R,S,P){if(R==S){return}F.sub(K,R.position,S.position);var O=K[0]*K[0]+K[1]*K[1];if(O===0){return}var Q;var L=this._k*this._k;var N=R.mass+S.mass;if(this.preventOverlap){var M=Math.sqrt(O);M=M-R.size-S.size;if(M>0){Q=L*N/(M*M)}else{if(M<=0){Q=L*10*N}}}else{Q=L*N/O}if(!P){F.scaleAndAdd(R.force,R.force,K,Q*2)}F.scaleAndAdd(S.force,S.force,K,-Q*2)}})();B.prototype.applyEdgeAttraction=(function(){var J=F.create();return function K(O){var N=O.node1;var P=O.node2;F.sub(J,N.position,P.position);var L=F.len(J);var Q;if(this.edgeWeightInfluence===0){Q=1}else{if(this.edgeWeightInfluence==1){Q=O.weight}else{Q=Math.pow(O.weight,this.edgeWeightInfluence)}}var M;if(this.preventOverlap){L=L-N.size-P.size;if(L<=0){return}}var M=-Q*L/this._k;F.scaleAndAdd(N.force,N.force,J,M);F.scaleAndAdd(P.force,P.force,J,-M)}})();B.prototype.applyNodeGravity=(function(){var J=F.create();return function(L){F.sub(J,this.center,L.position);if(this.width>this.height){J[1]*=this.width/this.height}else{J[0]*=this.height/this.width}var K=F.len(J)/100;if(this.strongGravity){F.scaleAndAdd(L.force,L.force,J,K*this.gravity*L.mass)}else{F.scaleAndAdd(L.force,L.force,J,this.gravity*L.mass/(K+1))}}})();B.prototype.updateBBox=function(){var O=Infinity;var N=Infinity;var L=-Infinity;var J=-Infinity;for(var K=0;K<this.nodes.length;K++){var M=this.nodes[K].position;O=Math.min(O,M[0]);N=Math.min(N,M[1]);L=Math.max(L,M[0]);J=Math.max(J,M[1])}this.bbox[0]=O;this.bbox[1]=N;this.bbox[2]=L;this.bbox[3]=J};B.getWorkerCode=function(){var J=__echartsForceLayoutWorker.toString();return J.slice(J.indexOf("{")+1,J.lastIndexOf("return"))};B.prototype.setToken=function(J){this._token=J};B.prototype.tokenMatch=function(J){return J===this._token};if(D){var C=null;self.onmessage=function(J){if(J.data instanceof ArrayBuffer){if(!C){return}var Q=new Float32Array(J.data);var L=(Q.length-1)/2;for(var N=0;N<L;N++){var P=C.nodes[N];P.position[0]=Q[N*2+1];P.position[1]=Q[N*2+2]}return}switch(J.data.cmd){case"init":if(!C){C=new B()}C.initNodes(J.data.nodesPosition,J.data.nodesMass,J.data.nodesSize);C.initEdges(J.data.edges,J.data.edgesWeight);C._token=J.data.token;break;case"updateConfig":if(C){for(var K in J.data.config){C[K]=J.data.config[K]}}break;case"update":var O=J.data.steps;if(C){var L=C.nodes.length;var Q=new Float32Array(L*2+1);C.temperature=J.data.temperature;for(var N=0;N<O;N++){C.update();C.temperature*=J.data.coolDown}for(var N=0;N<L;N++){var P=C.nodes[N];Q[N*2+1]=P.position[0];Q[N*2+2]=P.position[1]}Q[0]=C._token;self.postMessage(Q.buffer,[Q.buffer])}else{var M=new Float32Array();self.postMessage(M.buffer,[M.buffer])}break}}}return B});define("echarts/layout/Force",["require","./forceLayoutWorker","zrender/tool/vector"],function(D){var A=D("./forceLayoutWorker");var E=D("zrender/tool/vector");var F=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(J){setTimeout(J,16)};var B=typeof(Float32Array)=="undefined"?Array:Float32Array;var G;function C(){return Math.round(Date.now()/100)%10000000}function I(){if(typeof(Worker)!=="undefined"&&typeof(Blob)!=="undefined"){try{var K=new Blob([A.getWorkerCode()]);G=window.URL.createObjectURL(K)}catch(J){G=""}}return G}var H=function(J){if(typeof(G)==="undefined"){I()}J=J||{};this.width=J.width||500;this.height=J.height||500;this.center=J.center||[this.width/2,this.height/2];this.ratioScaling=J.ratioScaling||false;this.scaling=J.scaling||1;this.gravity=typeof(J.gravity)!=="undefined"?J.gravity:1;this.large=J.large||false;this.onupdate=J.onupdate||function(){};this.temperature=J.temperature||1;this.coolDown=J.coolDown||0.99;this._layout=null;this._layoutWorker=null;this._token=0;var K=this;var L=this._$onupdate;this._$onupdate=function(M){L.call(K,M)}};H.prototype.updateConfig=function(){var N=this.width;var K=this.height;var J=Math.min(N,K);var L={center:this.center,width:this.ratioScaling?N:J,height:this.ratioScaling?K:J,scaling:this.scaling||1,gravity:this.gravity||1,barnesHutOptimize:this.large};if(this._layoutWorker){this._layoutWorker.postMessage({cmd:"updateConfig",config:L})}else{for(var M in L){this._layout[M]=L[M]}}};H.prototype.init=function(L,K){if(G&&K){try{if(!this._layoutWorker){this._layoutWorker=new Worker(G);this._layoutWorker.onmessage=this._$onupdate}this._layout=null}catch(J){this._layoutWorker=null;if(!this._layout){this._layout=new A()}}}else{if(!this._layout){this._layout=new A()}if(this._layoutWorker){this._layoutWorker.terminate();this._layoutWorker=null}}this.temperature=1;this.graph=L;var S=L.nodes.length;var R=new B(S*2);var M=new B(S);var N=new B(S);for(var O=0;O<S;O++){var P=L.nodes[O];R[O*2]=P.layout.position[0];R[O*2+1]=P.layout.position[1];M[O]=P.layout.mass;N[O]=P.layout.radius;P.layout.__index=O}S=L.edges.length;var T=new B(S*2);var U=new B(S);for(var O=0;O<S;O++){var Q=L.edges[O];T[O*2]=Q.node1.layout.__index;T[O*2+1]=Q.node2.layout.__index;U[O]=Q.layout.weight||1}this._token=C();if(this._layoutWorker){this._layoutWorker.postMessage({cmd:"init",nodesPosition:R,nodesMass:M,nodesSize:N,edges:T,edgesWeight:U,token:this._token})}else{this._layout.setToken(this._token);this._layout.initNodes(R,M,N);this._layout.initEdges(T,U)}this.updateConfig()};H.prototype.step=function(J){var M=this.graph.nodes;if(this._layoutWorker){var N=new B(M.length*2+1);for(var K=0;K<M.length;K++){var L=M[K];N[K*2+1]=L.layout.position[0];N[K*2+2]=L.layout.position[1]}this._layoutWorker.postMessage(N.buffer,[N.buffer]);this._layoutWorker.postMessage({cmd:"update",steps:J,temperature:this.temperature,coolDown:this.coolDown});for(var K=0;K<J;K++){this.temperature*=this.coolDown}}else{F(this._$onupdate);for(var K=0;K<M.length;K++){var L=M[K];E.copy(this._layout.nodes[K].position,L.layout.position)}for(var K=0;K<J;K++){this._layout.temperature=this.temperature;this._layout.update();this.temperature*=this.coolDown}}};H.prototype._$onupdate=function(K){if(this._layoutWorker){var N=new Float32Array(K.data);var J=N[0];if(J===this._token){for(var L=0;L<this.graph.nodes.length;L++){var M=this.graph.nodes[L];M.layout.position[0]=N[L*2+1];M.layout.position[1]=N[L*2+2]}this.onupdate&&this.onupdate()}}else{if(this._layout){if(this._layout.tokenMatch(this._token)){for(var L=0;L<this.graph.nodes.length;L++){var M=this.graph.nodes[L];E.copy(M.layout.position,this._layout.nodes[L].position)}this.onupdate&&this.onupdate()}}}};H.prototype.dispose=function(){if(this._layoutWorker){this._layoutWorker.terminate()}this._layoutWorker=null;this._layout=null;this._token=0};return H});define("echarts/chart/force",["require","../component/base","./base","../data/Graph","../layout/Force","zrender/shape/Line","zrender/shape/Image","../util/shape/Icon","../config","../util/ecData","zrender/tool/util","zrender/config","zrender/tool/vector","../chart"],function(G){var I=G("../component/base");var L=G("./base");var P=G("../data/Graph");var F=G("../layout/Force");var J=G("zrender/shape/Line");var M=G("zrender/shape/Image");var O=G("../util/shape/Icon");var H=G("../config");var A=G("../util/ecData");var B=G("zrender/tool/util");var N=G("zrender/config");var R=G("zrender/tool/vector");function D(S,U,T,V,W){var X=this;I.call(this,S,U,T,V,W);L.call(this);this.__nodePositionMap={};this._graph=new P(true);this._layout=new F();this._layout.onupdate=function(){X._step()};this._steps=1;this.ondragstart=function(){E.apply(X,arguments)};this.ondragend=function(){Q.apply(X,arguments)};this.ondrop=function(){};this.shapeHandler.ondragstart=function(){X.isDragstart=true};this.onmousemove=function(){K.apply(X,arguments)};this._init()}D.prototype={constructor:D,type:H.CHART_TYPE_FORCE,_init:function(){var W=this.component.legend;var a=this.series;var Y;this.clear();for(var X=0,Z=a.length;X<Z;X++){var S=a[X];if(S.type===H.CHART_TYPE_FORCE){a[X]=this.reformOption(a[X]);Y=a[X].name||"";this.selectedMap[Y]=W?W.isSelected(Y):true;if(!this.selectedMap[Y]){continue}this.buildMark(X);var U=S.categories;for(var V=0,T=U.length;V<T;V++){if(U[V].name){if(W){this.selectedMap[V]=W.isSelected(U[V].name)}else{this.selectedMap[V]=true}}}this._forceSerie=S;this._initSerie(S);break}}},_initSerie:function(b){this._temperature=1;var V=this._graph;V.clear();for(var W=0,a=b.nodes.length;W<a;W++){var X=b.nodes[W];if(!X||X.ignore||(X.category&&!this.selectedMap[X.category])){continue}var Y=V.addNode(X.name,X);Y.rawIndex=W}for(var W=0,a=b.links.length;W<a;W++){var S=b.links[W];var T=S.source;var U=S.target;if(typeof(T)==="number"){T=b.nodes[T];if(T){T=T.name}}if(typeof(U)==="number"){U=b.nodes[U];if(U){U=U.name}}var Z=V.addEdge(T,U,S);if(Z){Z.rawIndex=W}}this._buildLinkShapes(b);this._buildNodeShapes(b);this._initLayout(b);this._step()},_initLayout:function(S){var U=this._graph;var f=U.nodes.length;var d=this.query(S,"minRadius");var Y=this.query(S,"maxRadius");this._steps=S.steps||1;this._layout.center=this.parseCenter(this.zr,S.center);this._layout.width=this.parsePercent(S.size,this.zr.getWidth());this._layout.height=this.parsePercent(S.size,this.zr.getHeight());this._layout.large=S.large;this._layout.scaling=S.scaling;this._layout.ratioScaling=S.ratioScaling;this._layout.gravity=S.gravity;this._layout.temperature=1;this._layout.coolDown=S.coolDown;var h=Infinity;var V=-Infinity;for(var a=0;a<f;a++){var c=U.nodes[a];c.layout={radius:c.data.value||1,mass:0};V=Math.max(c.data.value,V);h=Math.min(c.data.value,h)}var T=V-h;for(var a=0;a<f;a++){var c=U.nodes[a];if(T>0){c.layout.radius=(c.layout.radius-h)*(Y-d)/T+d;c.layout.mass=c.layout.radius/Y}else{c.layout.radius=(Y-d)/2;c.layout.mass=0.5}}for(var a=0;a<f;a++){var c=U.nodes[a];if(typeof(this.__nodePositionMap[c.name])!=="undefined"){c.layout.position=R.create();R.copy(c.layout.position,this.__nodePositionMap[c.name])}else{if(typeof(c.data.initial)!=="undefined"){c.layout.position=R.create();R.copy(c.layout.position,c.data.initial)}else{var b=this._layout.center;var Z=Math.min(this._layout.width,this._layout.height);c.layout.position=C(b[0],b[1],Z*0.8)}}var W=c.shape.style;var X=c.layout.radius;W.width=W.width||(X*2);W.height=W.height||(X*2);W.x=-W.width/2;W.y=-W.height/2;R.copy(c.shape.position,c.layout.position)}f=U.edges.length;V=-Infinity;for(var a=0;a<f;a++){var g=U.edges[a];g.layout={weight:g.data.weight||1};if(g.layout.weight>V){V=g.layout.weight}}for(var a=0;a<f;a++){var g=U.edges[a];g.layout.weight/=V}this._layout.init(U,S.useWorker)},_buildNodeShapes:function(S){var V=this._graph;var T=this.query(S,"categories");var e=V.nodes.length;var Z=this.component.legend;for(var a=0;a<e;a++){var c=V.nodes[a];var b=c.data;var W=new O({style:{x:0,y:0},clickable:this.query(S,"clickable"),highlightStyle:{}});var X=[];var d=[];var f=[];X.push(b);if(b.itemStyle){d.push(b.itemStyle.normal);f.push(b.itemStyle.emphasis)}if(typeof(b.category)!=="undefined"){var U=T[b.category];if(U){U.itemStyle=U.itemStyle||{};U.itemStyle.normal=U.itemStyle.normal||{};U.itemStyle.normal.color=U.itemStyle.normal.color||Z.getColor(U.name);X.push(U);d.unshift(U.itemStyle.normal);f.unshift(U.itemStyle.emphasis)}}X.push(S);d.unshift(S.itemStyle.normal.nodeStyle);f.unshift(S.itemStyle.emphasis.nodeStyle);W.style.iconType=this.deepQuery(X,"symbol");W.style.width=W.style.height=(this.deepQuery(X,"symbolSize")||0)*2;if(W.style.iconType.match("image")){W.style.image=W.style.iconType.replace(new RegExp("^image:\\/\\/"),"");W=new M({style:W.style,highlightStyle:W.highlightStyle,clickable:W.clickable})}for(var Y=0;Y<d.length;Y++){if(d[Y]){B.merge(W.style,d[Y],true)}}for(var Y=0;Y<f.length;Y++){if(f[Y]){B.merge(W.highlightStyle,f[Y],true)}}if(this.deepQuery(X,"itemStyle.normal.label.show")){W.style.text=b.name;W.style.textPosition="inside";var h=this.deepQuery(X,"itemStyle.normal.label.textStyle")||{};W.style.textColor=h.color||"#fff";W.style.textAlign=h.align||"center";W.style.textBaseline=h.baseline||"middle";W.style.textFont=this.getFont(h)}if(this.deepQuery(X,"itemStyle.emphasis.label.show")){W.highlightStyle.text=b.name;W.highlightStyle.textPosition="inside";var h=this.deepQuery(X,"itemStyle.emphasis.label.textStyle")||{};W.highlightStyle.textColor=h.color||"#fff";W.highlightStyle.textAlign=h.align||"center";W.highlightStyle.textBaseline=h.baseline||"middle";W.highlightStyle.textFont=this.getFont(h)}if(this.deepQuery(X,"draggable")){this.setCalculable(W);W.dragEnableTime=0;W.draggable=true;W.ondragstart=this.shapeHandler.ondragstart;W.ondragover=null}var g="";if(typeof(b.category)!=="undefined"){var U=T[b.category];g=(U&&U.name)||""}A.pack(W,{name:g},0,b,c.rawIndex,b.name||"",b.value);this.shapeList.push(W);this.zr.addShape(W);c.shape=W}},_buildLinkShapes:function(S){var V=this._graph;var b=V.edges.length;for(var X=0;X<b;X++){var T=V.edges[X];var U=T.data;var Z=T.node1;var a=T.node2;var W=new J({style:{xStart:0,yStart:0,xEnd:0,yEnd:0,lineWidth:1},clickable:this.query(S,"clickable"),highlightStyle:{}});B.merge(W.style,this.query(S,"itemStyle.normal.linkStyle"),true);B.merge(W.highlightStyle,this.query(S,"itemStyle.emphasis.linkStyle"),true);if(typeof(U.itemStyle)!=="undefined"){if(U.itemStyle.normal){B.merge(W.style,U.itemStyle.normal,true)}if(U.itemStyle.emphasis){B.merge(W.highlightStyle,U.itemStyle.emphasis,true)}}A.pack(W,S,0,{source:Z.data,target:a.data,weight:T.data.weight||0},T.rawIndex,Z.name+" - "+a.name,T.data.weight||0,true);this.shapeList.push(W);this.zr.addShape(W);T.shape=W;if(S.linkSymbol&&S.linkSymbol!=="none"){var Y=new O({style:{x:-5,y:0,width:S.linkSymbolSize[0],height:S.linkSymbolSize[1],iconType:S.linkSymbol,brushType:"fill",color:W.style.strokeColor,opacity:W.style.opacity,shadowBlur:W.style.shadowBlur,shadowColor:W.style.shadowColor,shadowOffsetX:W.style.shadowOffsetX,shadowOffsetY:W.style.shadowOffsetY},highlightStyle:{brushType:"fill"},position:[0,0],rotation:0});W._symbolShape=Y;this.shapeList.push(Y);this.zr.addShape(Y)}}},_updateLinkShapes:function(){var U=R.create();var S=this._graph.edges;for(var V=0,Z=S.length;V<Z;V++){var X=S[V];var a=X.node1.shape;var T=X.node2.shape;X.shape.style.xStart=a.position[0];X.shape.style.yStart=a.position[1];X.shape.style.xEnd=T.position[0];X.shape.style.yEnd=T.position[1];this.zr.modShape(X.shape.id);if(X.shape._symbolShape){var W=X.shape._symbolShape;R.copy(W.position,T.position);R.sub(U,a.position,T.position);R.normalize(U,U);R.scaleAndAdd(W.position,W.position,U,T.style.width/2+2);var Y;if(U[1]<0){Y=2*Math.PI-Math.acos(-U[0])}else{Y=Math.acos(-U[0])}W.rotation=Y-Math.PI/2;this.zr.modShape(W.id)}}},_syncNodePositions:function(){var T=this._graph;for(var Z=0;Z<T.nodes.length;Z++){var Y=T.nodes[Z];var W=Y.layout.position;var X=Y.data;var U=Y.shape;if(U.fixed||(X.fixX&&X.fixY)){R.copy(W,U.position)}else{if(X.fixX){W[0]=U.position[0];U.position[1]=W[1]}else{if(X.fixY){W[1]=U.position[1];U.position[0]=W[0]}else{R.copy(U.position,W)}}}var V=X.name;if(V){var S=this.__nodePositionMap[V];if(!S){S=this.__nodePositionMap[V]=R.create()}R.copy(S,W)}this.zr.modShape(U.id)}},_step:function(S){this._syncNodePositions();this._updateLinkShapes();this.zr.refreshNextFrame();if(this._layout.temperature>0.01){this._layout.step(this._steps)}},refresh:function(S){if(S){this.option=S;this.series=this.option.series}this._init()},dispose:function(){this.clear();this.shapeList=null;this.effectList=null;this._layout.dispose();this._layout=null;this.__nodePositionMap={}}};function E(S){if(!this.isDragstart||!S.target){return}var T=S.target;T.fixed=true;this.isDragstart=false;this.zr.on(N.EVENT.MOUSEMOVE,this.onmousemove)}function K(){this._layout.temperature=0.8;this._step()}function Q(T,U){if(!this.isDragend||!T.target){return}var S=T.target;S.fixed=false;U.dragIn=true;U.needRefresh=false;this.isDragend=false;this.zr.un(N.EVENT.MOUSEMOVE,this.onmousemove)}function C(U,V,S){var T=R.create();T[0]=(Math.random()-0.5)*S+U;T[1]=(Math.random()-0.5)*S+V;return T}B.inherits(D,L);B.inherits(D,I);G("../chart").define("force",D);return D});define("echarts/util/shape/HalfSmoothPolygon",["require","zrender/shape/Base","zrender/shape/util/smoothBezier","zrender/tool/util","zrender/shape/Polygon"],function(C){var D=C("zrender/shape/Base");var A=C("zrender/shape/util/smoothBezier");var B=C("zrender/tool/util");function E(F){D.call(this,F)}E.prototype={type:"half-smooth-polygon",buildPath:function(G,H){var I=H.pointList;if(I.length<2){return}if(H.smooth){var K=A(I.slice(0,-2),H.smooth,false,H.smoothConstraint);G.moveTo(I[0][0],I[0][1]);var M;var N;var F;var J=I.length;for(var L=0;L<J-3;L++){M=K[L*2];N=K[L*2+1];F=I[L+1];G.bezierCurveTo(M[0],M[1],N[0],N[1],F[0],F[1])}G.lineTo(I[J-2][0],I[J-2][1]);G.lineTo(I[J-1][0],I[J-1][1]);G.lineTo(I[0][0],I[0][1])}else{C("zrender/shape/Polygon").prototype.buildPath(G,H)}return}};B.inherits(E,D);return E});define("echarts/chart/line",["require","../component/base","./base","zrender/shape/BrokenLine","../util/shape/Icon","../util/shape/HalfSmoothPolygon","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(F){var C=F("../component/base");var B=F("./base");var G=F("zrender/shape/BrokenLine");var D=F("../util/shape/Icon");var I=F("../util/shape/HalfSmoothPolygon");F("../component/axis");F("../component/grid");F("../component/dataZoom");var H=F("../config");var A=F("../util/ecData");var E=F("zrender/tool/util");var L=F("zrender/tool/color");function K(M,O,N,P,Q){C.call(this,M,O,N,P,Q);B.call(this);this.refresh(P)}K.prototype={type:H.CHART_TYPE_LINE,_buildShape:function(){var T=this.series;this.finalPLMap={};this._sIndex2ColorMap={};this._symbol=this.option.symbolList;this._sIndex2ShapeMap={};this.selectedMap={};this.xMarkMap={};var R={top:[],bottom:[],left:[],right:[]};var U;var P;var M;var O;for(var Q=0,S=T.length;Q<S;Q++){if(T[Q].type===this.type){T[Q]=this.reformOption(T[Q]);U=T[Q].xAxisIndex;P=T[Q].yAxisIndex;M=this.component.xAxis.getAxis(U);O=this.component.yAxis.getAxis(P);if(M.type===H.COMPONENT_TYPE_AXIS_CATEGORY){R[M.getPosition()].push(Q)}else{if(O.type===H.COMPONENT_TYPE_AXIS_CATEGORY){R[O.getPosition()].push(Q)}}}}for(var N in R){if(R[N].length>0){this._buildSinglePosition(N,R[N])}}this.addShapeList()},_buildSinglePosition:function(Q,N){var R=this._mapData(N);var S=R.locationMap;var M=R.maxDataLength;if(M===0||S.length===0){return}switch(Q){case"bottom":case"top":this._buildHorizontal(N,M,S,this.xMarkMap);break;case"left":case"right":this._buildVertical(N,M,S,this.xMarkMap);break}for(var O=0,P=N.length;O<P;O++){this.buildMark(N[O])}},_mapData:function(T){var X=this.series;var M;var W=0;var Z={};var R="__kener__stack__";var Q;var U;var S=this.component.legend;var V=[];var O=0;var Y;for(var N=0,P=T.length;N<P;N++){M=X[T[N]];U=M.name;this._sIndex2ShapeMap[T[N]]=this._sIndex2ShapeMap[T[N]]||this.query(M,"symbol")||this._symbol[N%this._symbol.length];if(S){this.selectedMap[U]=S.isSelected(U);this._sIndex2ColorMap[T[N]]=S.getColor(U);Y=S.getItemShape(U);if(Y){Y.style.iconType="legendLineIcon";Y.style.symbol=this._sIndex2ShapeMap[T[N]];S.setItemShape(U,Y)}}else{this.selectedMap[U]=true;this._sIndex2ColorMap[T[N]]=this.zr.getColor(T[N])}if(this.selectedMap[U]){Q=M.stack||(R+T[N]);if(Z[Q]==null){Z[Q]=W;V[W]=[T[N]];W++}else{V[Z[Q]].push(T[N])}}O=Math.max(O,M.data.length)}return{locationMap:V,maxDataLength:O}},_buildHorizontal:function(Y,d,o,c){var b=this.series;var R=o[0][0];var U=b[R];var t=U.xAxisIndex;var a=this.component.xAxis.getAxis(t);var S;var X;var p;var q;var Z;var e;var r;var Q;var O={};var h;var N;for(var W=0,f=d;W<f;W++){if(a.getNameByIndex(W)==null){break}p=a.getCoordByIndex(W);for(var g=0,P=o.length;g<P;g++){S=b[o[g][0]].yAxisIndex||0;X=this.component.yAxis.getAxis(S);e=Z=Q=r=X.getCoord(0);for(var T=0,M=o[g].length;T<M;T++){R=o[g][T];U=b[R];h=U.data[W];N=h!=null?(h.value!=null?h.value:h):"-";O[R]=O[R]||[];c[R]=c[R]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0};if(N==="-"){if(O[R].length>0){this.finalPLMap[R]=this.finalPLMap[R]||[];this.finalPLMap[R].push(O[R]);O[R]=[]}continue}if(N>=0){Z-=T>0?X.getCoordSize(N):(e-X.getCoord(N));q=Z}else{if(N<0){r+=T>0?X.getCoordSize(N):(X.getCoord(N)-Q);q=r}}O[R].push([p,q,W,a.getNameByIndex(W),p,e]);if(c[R].min>N){c[R].min=N;c[R].minY=q;c[R].minX=p}if(c[R].max<N){c[R].max=N;c[R].maxY=q;c[R].maxX=p}c[R].sum+=N;c[R].counter++}}Z=this.component.grid.getY();var V;for(var g=0,P=o.length;g<P;g++){for(var T=0,M=o[g].length;T<M;T++){R=o[g][T];U=b[R];h=U.data[W];N=h!=null?(h.value!=null?h.value:h):"-";if(N!="-"){continue}if(this.deepQuery([h,U,this.option],"calculable")){V=this.deepQuery([h,U],"symbolSize");Z+=V*2+5;q=Z;this.shapeList.push(this._getCalculableItem(R,W,a.getNameByIndex(W),p,q,"horizontal"))}}}}for(var s in O){if(O[s].length>0){this.finalPLMap[s]=this.finalPLMap[s]||[];this.finalPLMap[s].push(O[s]);O[s]=[]}}for(var g=0,P=o.length;g<P;g++){for(var T=0,M=o[g].length;T<M;T++){R=o[g][T];if(c[R].counter>0){c[R].average=(c[R].sum/c[R].counter).toFixed(2)-0}q=this.component.yAxis.getAxis(b[R].yAxisIndex||0).getCoord(c[R].average);c[R].averageLine=[[this.component.grid.getX(),q],[this.component.grid.getXend(),q]];c[R].minLine=[[this.component.grid.getX(),c[R].minY],[this.component.grid.getXend(),c[R].minY]];c[R].maxLine=[[this.component.grid.getX(),c[R].maxY],[this.component.grid.getXend(),c[R].maxY]]}}this._buildBorkenLine(Y,this.finalPLMap,a,"horizontal")},_buildVertical:function(Y,c,o,b){var a=this.series;var S=o[0][0];var e=a[S];var T=e.yAxisIndex;var Z=this.component.yAxis.getAxis(T);var t;var X;var p;var q;var s;var f;var V;var M;var P={};var h;var O;for(var R=0,r=c;R<r;R++){if(Z.getNameByIndex(R)==null){break}q=Z.getCoordByIndex(R);for(var g=0,Q=o.length;g<Q;g++){t=a[o[g][0]].xAxisIndex||0;X=this.component.xAxis.getAxis(t);f=s=M=V=X.getCoord(0);for(var U=0,N=o[g].length;U<N;U++){S=o[g][U];e=a[S];h=e.data[R];O=h!=null?(h.value!=null?h.value:h):"-";P[S]=P[S]||[];b[S]=b[S]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0};if(O==="-"){if(P[S].length>0){this.finalPLMap[S]=this.finalPLMap[S]||[];this.finalPLMap[S].push(P[S]);P[S]=[]}continue}if(O>=0){s+=U>0?X.getCoordSize(O):(X.getCoord(O)-f);p=s}else{if(O<0){V-=U>0?X.getCoordSize(O):(M-X.getCoord(O));p=V}}P[S].push([p,q,R,Z.getNameByIndex(R),f,q]);if(b[S].min>O){b[S].min=O;b[S].minX=p;b[S].minY=q}if(b[S].max<O){b[S].max=O;b[S].maxX=p;b[S].maxY=q}b[S].sum+=O;b[S].counter++}}s=this.component.grid.getXend();var W;for(var g=0,Q=o.length;g<Q;g++){for(var U=0,N=o[g].length;U<N;U++){S=o[g][U];e=a[S];h=e.data[R];O=h!=null?(h.value!=null?h.value:h):"-";if(O!="-"){continue}if(this.deepQuery([h,e,this.option],"calculable")){W=this.deepQuery([h,e],"symbolSize");s-=W*2+5;p=s;this.shapeList.push(this._getCalculableItem(S,R,Z.getNameByIndex(R),p,q,"vertical"))}}}}for(var d in P){if(P[d].length>0){this.finalPLMap[d]=this.finalPLMap[d]||[];this.finalPLMap[d].push(P[d]);P[d]=[]}}for(var g=0,Q=o.length;g<Q;g++){for(var U=0,N=o[g].length;U<N;U++){S=o[g][U];if(b[S].counter>0){b[S].average=(b[S].sum/b[S].counter).toFixed(2)-0}p=this.component.xAxis.getAxis(a[S].xAxisIndex||0).getCoord(b[S].average);b[S].averageLine=[[p,this.component.grid.getYend()],[p,this.component.grid.getY()]];b[S].minLine=[[b[S].minX,this.component.grid.getYend()],[b[S].minX,this.component.grid.getY()]];b[S].maxLine=[[b[S].maxX,this.component.grid.getYend()],[b[S].maxX,this.component.grid.getY()]]}}this._buildBorkenLine(Y,this.finalPLMap,Z,"vertical")},_buildBorkenLine:function(Z,U,b,V){var c=this.series;var h;for(var Y=Z.length-1;Y>=0;Y--){var d=Z[Y];var W=c[d];var R=U[d];if(W.type===this.type&&R!=null){var X=this._getBbox(d,V);var n=this._sIndex2ColorMap[d];var f=this.query(W,"itemStyle.normal.lineStyle.width");var S=this.query(W,"itemStyle.normal.lineStyle.type");var a=this.query(W,"itemStyle.normal.lineStyle.color");var O=this.getItemStyleColor(this.query(W,"itemStyle.normal.color"),d,-1);var g=this.query(W,"itemStyle.normal.areaStyle")!=null;var e=this.query(W,"itemStyle.normal.areaStyle.color");for(var m=0,o=R.length;m<o;m++){var N=R[m];var M=this._isLarge(V,N);if(!M){for(var P=0,Q=N.length;P<Q;P++){h=W.data[N[P][2]];if(this.deepQuery([h,W],"showAllSymbol")||(b.isMainAxis(N[P][2])&&this.deepQuery([h,W],"symbol")!="none")||this.deepQuery([h,W,this.option],"calculable")){this.shapeList.push(this._getSymbol(d,N[P][2],N[P][3],N[P][0],N[P][1],V))}}}else{N=this._getLargePointList(V,N)}var p=new G({zlevel:this._zlevelBase,style:{miterLimit:f,pointList:N,strokeColor:a||O||n,lineWidth:f,lineType:S,smooth:this._getSmooth(W.smooth),smoothConstraint:X,shadowColor:this.query(W,"itemStyle.normal.lineStyle.shadowColor"),shadowBlur:this.query(W,"itemStyle.normal.lineStyle.shadowBlur"),shadowOffsetX:this.query(W,"itemStyle.normal.lineStyle.shadowOffsetX"),shadowOffsetY:this.query(W,"itemStyle.normal.lineStyle.shadowOffsetY")},hoverable:false,_main:true,_seriesIndex:d,_orient:V});A.pack(p,c[d],d,0,m,c[d].name);this.shapeList.push(p);if(g){var T=new I({zlevel:this._zlevelBase,style:{miterLimit:f,pointList:E.clone(N).concat([[N[N.length-1][4],N[N.length-1][5]],[N[0][4],N[0][5]]]),brushType:"fill",smooth:this._getSmooth(W.smooth),smoothConstraint:X,color:e?e:L.alpha(n,0.5)},hoverable:false,_main:true,_seriesIndex:d,_orient:V});A.pack(T,c[d],d,0,m,c[d].name);this.shapeList.push(T)}}}}},_getBbox:function(M,N){var P=this.component.grid.getBbox();var O=this.xMarkMap[M];if(N==="horizontal"){P[0][1]=Math.min(O.minY,O.maxY);P[1][1]=Math.max(O.minY,O.maxY)}else{P[0][0]=Math.min(O.minX,O.maxX);P[1][0]=Math.max(O.minX,O.maxX)}return P},_isLarge:function(N,M){if(M.length<2){return false}else{return N==="horizontal"?(Math.abs(M[0][0]-M[1][0])<0.5):(Math.abs(M[0][1]-M[1][1])<0.5)}},_getLargePointList:function(R,O){var P;if(R==="horizontal"){P=this.component.grid.getWidth()}else{P=this.component.grid.getHeight()}var Q=O.length;var M=[];for(var N=0;N<P;N++){M[N]=O[Math.floor(Q/P*N)]}return M},_getSmooth:function(M){if(M){return 0.3}else{return 0}},_getCalculableItem:function(P,R,O,U,T,Q){var S=this.series;var M=S[P].calculableHolderColor||this.ecTheme.calculableHolderColor;var N=this._getSymbol(P,R,O,U,T,Q);N.style.color=M;N.style.strokeColor=M;N.rotation=[0,0];N.hoverable=false;N.draggable=false;N.style.text=undefined;return N},_getSymbol:function(Q,S,O,V,U,R){var T=this.series;var M=T[Q];var P=M.data[S];var N=this.getSymbolShape(M,Q,P,S,O,V,U,this._sIndex2ShapeMap[Q],this._sIndex2ColorMap[Q],"#fff",R==="vertical"?"horizontal":"vertical");N.zlevel=this._zlevelBase+1;if(this.deepQuery([P,M,this.option],"calculable")){this.setCalculable(N);N.draggable=true}return N},getMarkCoord:function(N,P){var R=this.series[N];var Q=this.xMarkMap[N];var O=this.component.xAxis.getAxis(R.xAxisIndex);var M=this.component.yAxis.getAxis(R.yAxisIndex);if(P.type&&(P.type==="max"||P.type==="min"||P.type==="average")){return[Q[P.type+"X"],Q[P.type+"Y"],Q[P.type+"Line"],Q[P.type]]}return[typeof P.xAxis!="string"&&O.getCoordByIndex?O.getCoordByIndex(P.xAxis||0):O.getCoord(P.xAxis||0),typeof P.yAxis!="string"&&M.getCoordByIndex?M.getCoordByIndex(P.yAxis||0):M.getCoord(P.yAxis||0)]},refresh:function(M){if(M){this.option=M;this.series=M.series}this.backupShapeList();this._buildShape()},ontooltipHover:function(W,Q){var O=W.seriesIndex;var U=W.dataIndex;var N;var M;var V=O.length;while(V--){N=this.finalPLMap[O[V]];if(N){for(var R=0,T=N.length;R<T;R++){M=N[R];for(var P=0,S=M.length;P<S;P++){if(U===M[P][2]){Q.push(this._getSymbol(O[V],M[P][2],M[P][3],M[P][0],M[P][1],"horizontal"))}}}}}},addDataAnimation:function(R){var W=this.series;var O={};for(var Q=0,T=R.length;Q<T;Q++){O[R[Q][0]]=R[Q]}var Y;var V;var X;var S;var Z;var U;var N;for(var Q=this.shapeList.length-1;Q>=0;Q--){Z=this.shapeList[Q]._seriesIndex;if(O[Z]&&!O[Z][3]){if(this.shapeList[Q]._main&&this.shapeList[Q].style.pointList.length>1){U=this.shapeList[Q].style.pointList;V=Math.abs(U[0][0]-U[1][0]);S=Math.abs(U[0][1]-U[1][1]);N=this.shapeList[Q]._orient==="horizontal";if(O[Z][2]){if(this.shapeList[Q].type==="polygon"){var M=U.length;this.shapeList[Q].style.pointList[M-3]=U[M-2];N?(this.shapeList[Q].style.pointList[M-3][0]=U[M-4][0]):(this.shapeList[Q].style.pointList[M-3][1]=U[M-4][1]);this.shapeList[Q].style.pointList[M-2]=U[M-1]}this.shapeList[Q].style.pointList.pop();N?(Y=V,X=0):(Y=0,X=-S)}else{this.shapeList[Q].style.pointList.shift();if(this.shapeList[Q].type==="polygon"){var P=this.shapeList[Q].style.pointList.pop();N?(P[0]=U[0][0]):(P[1]=U[0][1]);this.shapeList[Q].style.pointList.push(P)}N?(Y=-V,X=0):(Y=0,X=S)}this.zr.modShape(this.shapeList[Q].id,{style:{pointList:this.shapeList[Q].style.pointList}},true)}else{if(O[Z][2]&&this.shapeList[Q]._dataIndex===W[Z].data.length-1){this.zr.delShape(this.shapeList[Q].id);continue}else{if(!O[Z][2]&&this.shapeList[Q]._dataIndex===0){this.zr.delShape(this.shapeList[Q].id);continue}}}this.shapeList[Q].position=[0,0];this.zr.animate(this.shapeList[Q].id,"").when(500,{position:[Y,X]}).start()}}}};function J(R,S){var V=S.x;var W=S.y;var U=S.width;var M=S.height;var T=M/2;if(S.symbol.match("empty")){R.fillStyle="#fff"}S.brushType="both";var N=S.symbol.replace("empty","").toLowerCase();if(N.match("star")){T=(N.replace("star","")-0)||5;W-=1;N="star"}else{if(N==="rectangle"||N==="arrow"){V+=(U-M)/2;U=M}}var Q="";if(N.match("image")){Q=N.replace(new RegExp("^image:\\/\\/"),"");N="image";V+=Math.round((U-M)/2)-1;U=M=M+2}N=D.prototype.iconLibrary[N];if(N){var O=S.x;var P=S.y;R.moveTo(O,P+T);R.lineTo(O+5,P+T);R.moveTo(O+S.width-5,P+T);R.lineTo(O+S.width,P+T);N(R,{x:V+4,y:W+4,width:U-8,height:M-8,n:T,image:Q})}else{R.moveTo(V,W+T);R.lineTo(V+U,W+T)}}D.prototype.iconLibrary["legendLineIcon"]=J;E.inherits(K,B);E.inherits(K,C);F("../chart").define("line",K);return K});define("echarts/chart/bar",["require","../component/base","./base","zrender/shape/Rectangle","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(F){var C=F("../component/base");var B=F("./base");var D=F("zrender/shape/Rectangle");F("../component/axis");F("../component/grid");F("../component/dataZoom");var H=F("../config");var A=F("../util/ecData");var E=F("zrender/tool/util");var I=F("zrender/tool/color");function G(J,L,K,M,N){C.call(this,J,L,K,M,N);B.call(this);this.refresh(M)}G.prototype={type:H.CHART_TYPE_BAR,_buildShape:function(){var Q=this.series;this.selectedMap={};this.xMarkMap={};this._sIndex2colorMap={};var O={top:[],bottom:[],left:[],right:[]};var R;var M;var J;var L;for(var N=0,P=Q.length;N<P;N++){if(Q[N].type===H.CHART_TYPE_BAR){Q[N]=this.reformOption(Q[N]);R=Q[N].xAxisIndex;M=Q[N].yAxisIndex;J=this.component.xAxis.getAxis(R);L=this.component.yAxis.getAxis(M);if(J.type===H.COMPONENT_TYPE_AXIS_CATEGORY){O[J.getPosition()].push(N)}else{if(L.type===H.COMPONENT_TYPE_AXIS_CATEGORY){O[L.getPosition()].push(N)}}}}for(var K in O){if(O[K].length>0){this._buildSinglePosition(K,O[K],this.xMarkMap)}}this.addShapeList()},_buildSinglePosition:function(M,K,O){var N=this._mapData(K);var L=N.locationMap;var J=N.maxDataLength;if(J===0||L.length===0){return}switch(M){case"bottom":case"top":this._buildHorizontal(J,L,K,O);break;case"left":case"right":this._buildVertical(J,L,K,O);break}},_mapData:function(Q){var U=this.series;var J;var T=0;var W={};var O="__kener__stack__";var N;var R;var P=this.component.legend;var S=[];var L=0;var V;for(var K=0,M=Q.length;K<M;K++){J=U[Q[K]];R=J.name;if(P){this.selectedMap[R]=P.isSelected(R);this._sIndex2colorMap[Q[K]]=P.getColor(R);V=P.getItemShape(R);if(V){if(J.itemStyle.normal.barBorderWidth>0){V.style.x+=1;V.style.y+=1;V.style.width-=2;V.style.height-=2;V.style.strokeColor=V.highlightStyle.strokeColor=J.itemStyle.normal.barBorderColor;V.highlightStyle.lineWidth=3;V.style.brushType="both"}P.setItemShape(R,V)}}else{this.selectedMap[R]=true;this._sIndex2colorMap[Q[K]]=this.zr.getColor(Q[K])}if(this.selectedMap[R]){N=J.stack||(O+Q[K]);if(W[N]==null){W[N]=T;S[T]=[Q[K]];T++}else{S[W[N]].push(Q[K])}}L=Math.max(L,J.data.length)}return{locationMap:S,maxDataLength:L}},_buildHorizontal:function(N,r,K,U){var o=this.series;var P=r[0][0];var f=o[P];var d=f.xAxisIndex;var Y=this.component.xAxis.getAxis(d);var T;var O;var R=this._mapSize(Y,r);var M=R.gap;var e=R.barGap;var X=R.barWidthMap;var W=R.barWidth;var p=R.barMinHeightMap;var Q;var V=R.interval;var g;var h;var J;var t;var c;var b;var L;var Z;var a;for(var s=0,u=N;s<u;s++){if(Y.getNameByIndex(s)==null){break}g=Y.getCoordByIndex(s)-M/2;for(var q=0,S=r.length;q<S;q++){T=o[r[q][0]].yAxisIndex||0;O=this.component.yAxis.getAxis(T);t=J=b=c=O.getCoord(0);for(var v=0,w=r[q].length;v<w;v++){P=r[q][v];f=o[P];Z=f.data[s];a=Z!=null?(Z.value!=null?Z.value:Z):"-";U[P]=U[P]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0};if(a==="-"){continue}if(a>0){Q=v>0?O.getCoordSize(a):(t-O.getCoord(a));if(w===1&&p[P]>Q){Q=p[P]}J-=Q;h=J}else{if(a<0){Q=v>0?O.getCoordSize(a):(O.getCoord(a)-b);if(w===1&&p[P]>Q){Q=p[P]}h=c;c+=Q}else{Q=0;J-=Q;h=J}}U[P][s]=g+(X[P]||W)/2;if(U[P].min>a){U[P].min=a;U[P].minY=h;U[P].minX=U[P][s]}if(U[P].max<a){U[P].max=a;U[P].maxY=h;U[P].maxX=U[P][s]}U[P].sum+=a;U[P].counter++;if(s%V===0){L=this._getBarItem(P,s,Y.getNameByIndex(s),g,h,X[P]||W,Q,"vertical");this.shapeList.push(new D(L))}}for(var v=0,w=r[q].length;v<w;v++){P=r[q][v];f=o[P];Z=f.data[s];a=Z!=null?(Z.value!=null?Z.value:Z):"-";if(a!="-"){continue}if(this.deepQuery([Z,f,this.option],"calculable")){J-=this.ecTheme.island.r;h=J;L=this._getBarItem(P,s,Y.getNameByIndex(s),g+0.5,h+0.5,(X[P]||W)-1,this.ecTheme.island.r-1,"vertical");L.hoverable=false;L.draggable=false;L.style.lineWidth=1;L.style.brushType="stroke";L.style.strokeColor=f.calculableHolderColor||this.ecTheme.calculableHolderColor;this.shapeList.push(new D(L))}}g+=((X[P]||W)+e)}}for(var q=0,S=r.length;q<S;q++){for(var v=0,w=r[q].length;v<w;v++){P=r[q][v];if(U[P].counter>0){U[P].average=(U[P].sum/U[P].counter).toFixed(2)-0}h=this.component.yAxis.getAxis(o[P].yAxisIndex||0).getCoord(U[P].average);U[P].averageLine=[[this.component.grid.getX(),h],[this.component.grid.getXend(),h]];U[P].minLine=[[this.component.grid.getX(),U[P].minY],[this.component.grid.getXend(),U[P].minY]];U[P].maxLine=[[this.component.grid.getX(),U[P].maxY],[this.component.grid.getXend(),U[P].maxY]];U[P].isHorizontal=true;this.buildMark(P)}}},_buildVertical:function(N,q,K,V){var h=this.series;var P=q[0][0];var e=h[P];var U=e.yAxisIndex;var Y=this.component.yAxis.getAxis(U);var c;var O;var S=this._mapSize(Y,q);var M=S.gap;var d=S.barGap;var s=S.barWidthMap;var X=S.barWidth;var o=S.barMinHeightMap;var Q;var W=S.interval;var f;var g;var J;var t;var b;var R;var L;var Z;var a;for(var r=0,u=N;r<u;r++){if(Y.getNameByIndex(r)==null){break}g=Y.getCoordByIndex(r)+M/2;for(var p=0,T=q.length;p<T;p++){c=h[q[p][0]].xAxisIndex||0;O=this.component.xAxis.getAxis(c);t=J=R=b=O.getCoord(0);for(var v=0,w=q[p].length;v<w;v++){P=q[p][v];e=h[P];Z=e.data[r];a=Z!=null?(Z.value!=null?Z.value:Z):"-";V[P]=V[P]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0};if(a==="-"){continue}if(a>0){Q=v>0?O.getCoordSize(a):(O.getCoord(a)-t);if(w===1&&o[P]>Q){Q=o[P]}f=J;J+=Q}else{if(a<0){Q=v>0?O.getCoordSize(a):(R-O.getCoord(a));if(w===1&&o[P]>Q){Q=o[P]}b-=Q;f=b}else{Q=0;f=J;J+=Q}}V[P][r]=g-(s[P]||X)/2;if(V[P].min>a){V[P].min=a;V[P].minX=f+Q;V[P].minY=V[P][r]}if(V[P].max<a){V[P].max=a;V[P].maxX=f+Q;V[P].maxY=V[P][r]}V[P].sum+=a;V[P].counter++;if(r%W===0){L=this._getBarItem(P,r,Y.getNameByIndex(r),f,g-(s[P]||X),Q,s[P]||X,"horizontal");this.shapeList.push(new D(L))}}for(var v=0,w=q[p].length;v<w;v++){P=q[p][v];e=h[P];Z=e.data[r];a=Z!=null?(Z.value!=null?Z.value:Z):"-";if(a!="-"){continue}if(this.deepQuery([Z,e,this.option],"calculable")){f=J;J+=this.ecTheme.island.r;L=this._getBarItem(P,r,Y.getNameByIndex(r),f+0.5,g+0.5-(s[P]||X),this.ecTheme.island.r-1,(s[P]||X)-1,"horizontal");L.hoverable=false;L.draggable=false;L.style.lineWidth=1;L.style.brushType="stroke";L.style.strokeColor=e.calculableHolderColor||this.ecTheme.calculableHolderColor;this.shapeList.push(new D(L))}}g-=((s[P]||X)+d)}}for(var p=0,T=q.length;p<T;p++){for(var v=0,w=q[p].length;v<w;v++){P=q[p][v];if(V[P].counter>0){V[P].average=(V[P].sum/V[P].counter).toFixed(2)-0}f=this.component.xAxis.getAxis(h[P].xAxisIndex||0).getCoord(V[P].average);V[P].averageLine=[[f,this.component.grid.getYend()],[f,this.component.grid.getY()]];V[P].minLine=[[V[P].minX,this.component.grid.getYend()],[V[P].minX,this.component.grid.getY()]];V[P].maxLine=[[V[P].maxX,this.component.grid.getYend()],[V[P].maxX,this.component.grid.getY()]];V[P].isHorizontal=false;this.buildMark(P)}}},_mapSize:function(W,f,Q){var X=this.series;var Z;var K={};var T={};var d;var Y=0;var b=0;var P;var L;var e;var V;var U=1;for(var M=0,N=f.length;M<N;M++){e=false;for(var R=0,g=f[M].length;R<g;R++){Z=f[M][R];V=X[Z];if(!Q){if(!e){d=this.query(V,"barWidth");if(d!=null){K[Z]=d;b+=d;Y++;e=true;for(var O=0,c=R;O<c;O++){var a=f[M][O];K[a]=d}}}else{K[Z]=d}}T[Z]=this.query(V,"barMinHeight");P=P!=null?P:this.query(V,"barGap");L=L!=null?L:this.query(V,"barCategoryGap")}}var J;var S;if(f.length!=Y){if(!Q){J=typeof L==="string"&&L.match(/%$/)?Math.floor(W.getGap()*(100-parseFloat(L))/100):(W.getGap()-L);if(typeof P==="string"&&P.match(/%$/)){P=parseFloat(P)/100;S=Math.floor((J-b)/((f.length-1)*P+f.length-Y));P=Math.floor(S*P)}else{P=parseFloat(P);S=Math.floor((J-b-P*(f.length-1))/(f.length-Y))}if(S<=0){return this._mapSize(W,f,true)}}else{J=W.getGap();P=0;S=Math.floor(J/f.length);if(S<=0){U=Math.floor(f.length/J);S=1}}}else{J=Y>1?(typeof L==="string"&&L.match(/%$/))?Math.floor(W.getGap()*(100-parseFloat(L))/100):(W.getGap()-L):b;S=0;P=Y>1?Math.floor((J-b)/(Y-1)):0;if(P<0){return this._mapSize(W,f,true)}}return{barWidthMap:K,barMinHeightMap:T,gap:J,barWidth:S,barGap:P,interval:U}},_getBarItem:function(V,Q,X,Z,a,U,b,N){var T=this.series;var J;var O=T[V];var Y=O.data[Q];var R=this._sIndex2colorMap[V];var S=[Y,O];var K=this.deepQuery(S,"itemStyle.normal.color")||R;var P=this.deepQuery(S,"itemStyle.emphasis.color");var c=this.deepMerge(S,"itemStyle.normal");var W=c.barBorderWidth;var L=this.deepMerge(S,"itemStyle.emphasis");J={zlevel:this._zlevelBase,clickable:this.deepQuery(S,"clickable"),style:{x:Z,y:a,width:U,height:b,brushType:"both",color:this.getItemStyleColor(K,V,Q,Y),radius:c.barBorderRadius,lineWidth:W,strokeColor:c.barBorderColor},highlightStyle:{color:this.getItemStyleColor(P,V,Q,Y),radius:L.barBorderRadius,lineWidth:L.barBorderWidth,strokeColor:L.barBorderColor},_orient:N};J.highlightStyle.color=J.highlightStyle.color||(typeof J.style.color==="string"?I.lift(J.style.color,-0.3):J.style.color);if(W>0&&J.style.height>W&&J.style.width>W){J.style.y+=W/2;J.style.height-=W;J.style.x+=W/2;J.style.width-=W}else{J.style.brushType="fill"}J.highlightStyle.textColor=J.highlightStyle.color;J=this.addLabel(J,O,Y,X,N);if(J.style.textPosition==="insideLeft"||J.style.textPosition==="insideRight"||J.style.textPosition==="insideTop"||J.style.textPosition==="insideBottom"){var M=5;switch(J.style.textPosition){case"insideLeft":J.style.textX=J.style.x+M;J.style.textY=J.style.y+J.style.height/2;J.style.textAlign="left";J.style.textBaseline="middle";break;case"insideRight":J.style.textX=J.style.x+J.style.width-M;J.style.textY=J.style.y+J.style.height/2;J.style.textAlign="right";J.style.textBaseline="middle";break;case"insideTop":J.style.textX=J.style.x+J.style.width/2;J.style.textY=J.style.y+M/2;J.style.textAlign="center";J.style.textBaseline="top";break;case"insideBottom":J.style.textX=J.style.x+J.style.width/2;J.style.textY=J.style.y+J.style.height-M/2;J.style.textAlign="center";J.style.textBaseline="bottom";break}J.style.textPosition="specific";J.style.textColor=J.style.textColor||"#fff"}if(this.deepQuery([Y,O,this.option],"calculable")){this.setCalculable(J);J.draggable=true}A.pack(J,T[V],V,T[V].data[Q],Q,X);return J},getMarkCoord:function(L,K){var J=this.series[L];var P=this.xMarkMap[L];var M=this.component.xAxis.getAxis(J.xAxisIndex);var S=this.component.yAxis.getAxis(J.yAxisIndex);var O;var N;if(K.type&&(K.type==="max"||K.type==="min"||K.type==="average")){N=[P[K.type+"X"],P[K.type+"Y"],P[K.type+"Line"],P[K.type]]}else{if(P.isHorizontal){O=typeof K.xAxis==="string"&&M.getIndexByName?M.getIndexByName(K.xAxis):(K.xAxis||0);var R=P[O];R=R!=null?R:typeof K.xAxis!="string"&&M.getCoordByIndex?M.getCoordByIndex(K.xAxis||0):M.getCoord(K.xAxis||0);N=[R,S.getCoord(K.yAxis||0)]}else{O=typeof K.yAxis==="string"&&S.getIndexByName?S.getIndexByName(K.yAxis):(K.yAxis||0);var Q=P[O];Q=Q!=null?Q:typeof K.yAxis!="string"&&S.getCoordByIndex?S.getCoordByIndex(K.yAxis||0):S.getCoord(K.yAxis||0);N=[M.getCoord(K.xAxis||0),Q]}}return N},refresh:function(J){if(J){this.option=J;this.series=J.series}this.backupShapeList();this._buildShape()},addDataAnimation:function(M){var R=this.series;var K={};for(var L=0,O=M.length;L<O;L++){K[M[L][0]]=M[L]}var T;var Q;var S;var N;var J;var U;var P;for(var L=this.shapeList.length-1;L>=0;L--){U=A.get(this.shapeList[L],"seriesIndex");if(K[U]&&!K[U][3]){if(this.shapeList[L].type==="rectangle"){P=A.get(this.shapeList[L],"dataIndex");J=R[U];if(K[U][2]&&P===J.data.length-1){this.zr.delShape(this.shapeList[L].id);continue}else{if(!K[U][2]&&P===0){this.zr.delShape(this.shapeList[L].id);continue}}if(this.shapeList[L]._orient==="horizontal"){N=this.component.yAxis.getAxis(J.yAxisIndex||0).getGap();S=K[U][2]?-N:N;T=0}else{Q=this.component.xAxis.getAxis(J.xAxisIndex||0).getGap();T=K[U][2]?Q:-Q;S=0}this.shapeList[L].position=[0,0];this.zr.animate(this.shapeList[L].id,"").when(500,{position:[T,S]}).start()}}}}};E.inherits(G,B);E.inherits(G,C);F("../chart").define("bar",G);return G});define("echarts/chart/pie",["require","../component/base","./base","zrender/shape/Text","zrender/shape/Ring","zrender/shape/Circle","zrender/shape/Sector","zrender/shape/BrokenLine","../config","../util/ecData","zrender/tool/util","zrender/tool/math","zrender/tool/color","../chart"],function(G){var D=G("../component/base");var B=G("./base");var J=G("zrender/shape/Text");var M=G("zrender/shape/Ring");var E=G("zrender/shape/Circle");var C=G("zrender/shape/Sector");var H=G("zrender/shape/BrokenLine");var I=G("../config");var A=G("../util/ecData");var F=G("zrender/tool/util");var L=G("zrender/tool/math");var N=G("zrender/tool/color");function K(O,Q,P,R,S){D.call(this,O,Q,P,R,S);B.call(this);var T=this;T.shapeHandler.onmouseover=function(a){var Y=a.target;var Z=A.get(Y,"seriesIndex");var d=A.get(Y,"dataIndex");var b=A.get(Y,"special");var X=Y._lastAddRadius;var e=Y.style.startAngle;var V=Y.style.endAngle;var U=Y.highlightStyle.color;var c=T.getLabel(Z,d,b,X,e,V,U,true);if(c){T.zr.addHoverShape(c)}var W=T.getLabelLine(Z,d,X,Y.style.r0,Y.style.r,e,V,U,true);if(W){T.zr.addHoverShape(W)}};this.refresh(R)}K.prototype={type:I.CHART_TYPE_PIE,_buildShape:function(){var U=this.series;var P=this.component.legend;this.selectedMap={};this._selected={};var O;var S;var T;this._selectedMode=false;var R;for(var Q=0,V=U.length;Q<V;Q++){if(U[Q].type===I.CHART_TYPE_PIE){U[Q]=this.reformOption(U[Q]);R=U[Q].name||"";this.selectedMap[R]=P?P.isSelected(R):true;if(!this.selectedMap[R]){continue}O=this.parseCenter(this.zr,U[Q].center);S=this.parseRadius(this.zr,U[Q].radius);this._selectedMode=this._selectedMode||U[Q].selectedMode;this._selected[Q]=[];if(this.deepQuery([U[Q],this.option],"calculable")){T={zlevel:this._zlevelBase,hoverable:false,style:{x:O[0],y:O[1],r0:S[0]<=10?0:S[0]-10,r:S[1]+10,brushType:"stroke",lineWidth:1,strokeColor:U[Q].calculableHolderColor||this.ecTheme.calculableHolderColor}};A.pack(T,U[Q],Q,undefined,-1);this.setCalculable(T);T=S[0]<=10?new E(T):new M(T);this.shapeList.push(T)}this._buildSinglePie(Q);this.buildMark(Q)}}this.addShapeList()},_buildSinglePie:function(e){var d=this.series;var Y=d[e];var m=Y.data;var g=this.component.legend;var V;var O=0;var k=0;var S=0;var P=Number.NEGATIVE_INFINITY;for(var T=0,W=m.length;T<W;T++){V=m[T].name;if(g){this.selectedMap[V]=g.isSelected(V)}else{this.selectedMap[V]=true}if(this.selectedMap[V]&&!isNaN(m[T].value)){if(+m[T].value!==0){O++}else{k++}S+=+m[T].value;P=Math.max(P,+m[T].value)}}if(S===0){return}var c=100;var p;var b=0;var R=Y.clockWise;var Z=Y.startAngle.toFixed(2)-0;var h;var f=Y.minAngle||0.01;var j=360-(f*O)-0.01*k;var X;var n=Y.roseType;var U;var a;var o;for(var T=0,W=m.length;T<W;T++){V=m[T].name;if(!this.selectedMap[V]||isNaN(m[T].value)){continue}if(g){X=g.getColor(V)}else{X=this.zr.getColor(T)}p=c;c=m[T].value/S;if(n!="area"){h=R?(Z-c*j-(c!==0?f:0.01)):(c*j+Z+(c!==0?f:0.01))}else{h=R?(Z-360/W):(360/W+Z)}h=h.toFixed(2)-0;c=(c*100).toFixed(2);U=this.parseRadius(this.zr,Y.radius);a=+U[0];o=+U[1];if(n==="radius"){o=m[T].value/P*(o-a)*0.8+(o-a)*0.2+a}else{if(n==="area"){o=Math.sqrt(m[T].value/P)*(o-a)+a}}if(R){var Q;Q=Z;Z=h;h=Q}if(T>0&&Math.abs(Z-h)<15&&p<4&&this._needLabel(Y,m[T],false)&&this.deepQuery([m[T],Y],"itemStyle.normal.label.position")!="center"){b+=(c<4?20:-20)}else{b=0}this._buildItem(e,T,c,b,m[T].selected,a,o,Z,h,X);if(!R){Z=h}}},_buildItem:function(T,Y,S,R,a,X,V,b,P,O){var Z=this.series;var U=this.getSector(T,Y,S,a,X,V,b,P,O);A.pack(U,Z[T],T,Z[T].data[Y],Y,Z[T].data[Y].name,S);U._lastAddRadius=R;this.shapeList.push(U);var W=this.getLabel(T,Y,S,R,b,P,O,false);if(W){A.pack(W,Z[T],T,Z[T].data[Y],Y,Z[T].data[Y].name,S);W._dataIndex=Y;this.shapeList.push(W)}var Q=this.getLabelLine(T,Y,R,X,V,b,P,O,false);if(Q){A.pack(Q,Z[T],T,Z[T].data[Y],Y,Z[T].data[Y].name,S);Q._dataIndex=Y;this.shapeList.push(Q)}},getSector:function(b,e,Z,Y,X,g,V,c,T){var a=this.series;var U=a[b];var d=U.data[e];var Q=[d,U];var h=this.parseCenter(this.zr,U.center);var i=this.deepMerge(Q,"itemStyle.normal")||{};var P=this.deepMerge(Q,"itemStyle.emphasis")||{};var O=this.getItemStyleColor(i.color,b,e,d)||T;var W=this.getItemStyleColor(P.color,b,e,d)||(typeof O==="string"?N.lift(O,-0.2):O);var R={zlevel:this._zlevelBase,clickable:this.deepQuery(Q,"clickable"),style:{x:h[0],y:h[1],r0:X,r:g,startAngle:V,endAngle:c,brushType:"both",color:O,lineWidth:i.borderWidth,strokeColor:i.borderColor,lineJoin:"round"},highlightStyle:{color:W,lineWidth:P.borderWidth,strokeColor:P.borderColor,lineJoin:"round"},_seriesIndex:b,_dataIndex:e};if(Y){var f=((R.style.startAngle+R.style.endAngle)/2).toFixed(2)-0;R.style._hasSelected=true;R.style._x=R.style.x;R.style._y=R.style.y;var S=this.query(U,"selectedOffset");R.style.x+=L.cos(f,true)*S;R.style.y-=L.sin(f,true)*S;this._selected[b][e]=true}else{this._selected[b][e]=false}if(this._selectedMode){R.onclick=this.shapeHandler.onclick}if(this.deepQuery([d,U,this.option],"calculable")){this.setCalculable(R);R.draggable=true}if(this._needLabel(U,d,true)||this._needLabelLine(U,d,true)){R.onmouseover=this.shapeHandler.onmouseover}R=new C(R);return R},getLabel:function(b,g,Y,i,V,c,T,f){var a=this.series;var U=a[b];var e=U.data[g];if(!this._needLabel(U,e,f)){return}var d=f?"emphasis":"normal";var W=F.merge(F.clone(e.itemStyle)||{},U.itemStyle);var R=W[d].label;var X=R.textStyle||{};var j=this.parseCenter(this.zr,U.center);var k=j[0];var l=j[1];var O;var h;var Q=((c+V)/2+360)%360;var S=this.parseRadius(this.zr,U.radius);var P;var Z="middle";R.position=R.position||W.normal.label.position;if(R.position==="center"){S=S[1];O=k;h=l;P="center"}else{if(R.position==="inner"){S=(S[0]+S[1])/2+i;O=Math.round(k+S*L.cos(Q,true));h=Math.round(l-S*L.sin(Q,true));T="#fff";P="center"}else{S=S[1]-(-W[d].labelLine.length)+i;O=k+S*L.cos(Q,true);h=l-S*L.sin(Q,true);P=(Q>=90&&Q<=270)?"right":"left"}}if(R.position!="center"&&R.position!="inner"){O+=P==="left"?20:-20}e.__labelX=O-(P==="left"?5:-5);e.__labelY=h;return new J({zlevel:this._zlevelBase+1,hoverable:false,style:{x:O,y:h,color:X.color||T,text:this.getLabelText(b,g,Y,d),textAlign:X.align||P,textBaseline:X.baseline||Z,textFont:this.getFont(X)},highlightStyle:{brushType:"fill"},_seriesIndex:b,_dataIndex:g})},getLabelText:function(Q,T,R,V){var U=this.series;var O=U[Q];var P=O.data[T];var S=this.deepQuery([P,O],"itemStyle."+V+".label.formatter");if(S){if(typeof S==="function"){return S.call(this.myChart,O.name,P.name,P.value,R)}else{if(typeof S==="string"){S=S.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");S=S.replace("{a0}",O.name).replace("{b0}",P.name).replace("{c0}",P.value).replace("{d0}",R);return S}}}else{return P.name}},getLabelLine:function(a,g,X,W,i,U,Y,h,e){var Z=this.series;var T=Z[a];var d=T.data[g];if(this._needLabelLine(T,d,e)){var b=e?"emphasis":"normal";var V=F.merge(F.clone(d.itemStyle)||{},T.itemStyle);var Q=V[b].labelLine;var S=Q.lineStyle||{};var j=this.parseCenter(this.zr,T.center);var k=j[0];var l=j[1];var R=i;var f=this.parseRadius(this.zr,T.radius)[1]-(-Q.length)+X;var c=((Y+U)/2)%360;var O=L.cos(c,true);var P=L.sin(c,true);return new H({zlevel:this._zlevelBase+1,hoverable:false,style:{pointList:[[k+R*O,l-R*P],[k+f*O,l-f*P],[d.__labelX,d.__labelY]],strokeColor:S.color||h,lineType:S.type,lineWidth:S.width},_seriesIndex:a,_dataIndex:g})}else{return}},_needLabel:function(O,Q,P){return this.deepQuery([Q,O],"itemStyle."+(P?"emphasis":"normal")+".label.show")},_needLabelLine:function(O,Q,P){return this.deepQuery([Q,O],"itemStyle."+(P?"emphasis":"normal")+".labelLine.show")},reformOption:function(O){var P=F.merge;O=P(O||{},this.ecTheme.pie);O.itemStyle.normal.label.textStyle=P(O.itemStyle.normal.label.textStyle||{},this.ecTheme.textStyle);O.itemStyle.emphasis.label.textStyle=P(O.itemStyle.emphasis.label.textStyle||{},this.ecTheme.textStyle);return O},refresh:function(O){if(O){this.option=O;this.series=O.series}this.backupShapeList();this._buildShape()},addDataAnimation:function(W){var a=this.series;var U={};for(var V=0,Y=W.length;V<Y;V++){U[W[V][0]]=W[V]}var T={};var Q={};var R={};var Z=this.shapeList;this.shapeList=[];var d;var O;var X;var S={};for(var V=0,Y=W.length;V<Y;V++){d=W[V][0];O=W[V][2];X=W[V][3];if(a[d]&&a[d].type===I.CHART_TYPE_PIE){if(O){if(!X){T[d+"_"+a[d].data.length]="delete"}S[d]=1}else{if(!X){T[d+"_-1"]="delete";S[d]=-1}else{S[d]=0}}this._buildSinglePie(d)}}var b;var c;for(var V=0,Y=this.shapeList.length;V<Y;V++){d=this.shapeList[V]._seriesIndex;b=this.shapeList[V]._dataIndex;c=d+"_"+b;switch(this.shapeList[V].type){case"sector":T[c]=this.shapeList[V];break;case"text":Q[c]=this.shapeList[V];break;case"broken-line":R[c]=this.shapeList[V];break}}this.shapeList=[];var P;for(var V=0,Y=Z.length;V<Y;V++){d=Z[V]._seriesIndex;if(U[d]){b=Z[V]._dataIndex+S[d];c=d+"_"+b;P=T[c];if(!P){continue}if(Z[V].type==="sector"){if(P!="delete"){this.zr.animate(Z[V].id,"style").when(400,{startAngle:P.style.startAngle,endAngle:P.style.endAngle}).start()}else{this.zr.animate(Z[V].id,"style").when(400,S[d]<0?{startAngle:Z[V].style.startAngle}:{endAngle:Z[V].style.endAngle}).start()}}else{if(Z[V].type==="text"||Z[V].type==="broken-line"){if(P==="delete"){this.zr.delShape(Z[V].id)}else{switch(Z[V].type){case"text":P=Q[c];this.zr.animate(Z[V].id,"style").when(400,{x:P.style.x,y:P.style.y}).start();break;case"broken-line":P=R[c];this.zr.animate(Z[V].id,"style").when(400,{pointList:P.style.pointList}).start();break}}}}}}this.shapeList=Z},onclick:function(R){var W=this.series;if(!this.isClick||!R.target){return}this.isClick=false;var P;var V=R.target;var T=V.style;var Q=A.get(V,"seriesIndex");var U=A.get(V,"dataIndex");for(var S=0,O=this.shapeList.length;S<O;S++){if(this.shapeList[S].id===V.id){Q=A.get(V,"seriesIndex");U=A.get(V,"dataIndex");if(!T._hasSelected){var X=((T.startAngle+T.endAngle)/2).toFixed(2)-0;V.style._hasSelected=true;this._selected[Q][U]=true;V.style._x=V.style.x;V.style._y=V.style.y;P=this.query(W[Q],"selectedOffset");V.style.x+=L.cos(X,true)*P;V.style.y-=L.sin(X,true)*P}else{V.style.x=V.style._x;V.style.y=V.style._y;V.style._hasSelected=false;this._selected[Q][U]=false}this.zr.modShape(V.id,V)}else{if(this.shapeList[S].style._hasSelected&&this._selectedMode==="single"){Q=A.get(this.shapeList[S],"seriesIndex");U=A.get(this.shapeList[S],"dataIndex");this.shapeList[S].style.x=this.shapeList[S].style._x;this.shapeList[S].style.y=this.shapeList[S].style._y;this.shapeList[S].style._hasSelected=false;this._selected[Q][U]=false;this.zr.modShape(this.shapeList[S].id,this.shapeList[S])}}}this.messageCenter.dispatch(I.EVENT.PIE_SELECTED,R.event,{selected:this._selected,target:A.get(V,"name")},this.myChart);this.zr.refresh()}};F.inherits(K,B);F.inherits(K,D);G("../chart").define("pie",K);return K});define("_chart",["require","echarts/chart/gauge","echarts/chart/funnel","echarts/chart/scatter","echarts/chart/k","echarts/chart/radar","echarts/chart/chord","echarts/chart/force","echarts/chart/line","echarts/chart/bar","echarts/chart/pie"],function(A){A("echarts/chart/gauge");A("echarts/chart/funnel");A("echarts/chart/scatter");A("echarts/chart/k");A("echarts/chart/radar");A("echarts/chart/chord");A("echarts/chart/force");A("echarts/chart/line");A("echarts/chart/bar");A("echarts/chart/pie")});